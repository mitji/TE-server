{"version":3,"sources":["services/auth-service.js","services/AuthProvider.js","hoc/widthValidation.js","pages/Signup.js","pages/Login.js","components/SearchBar.js","components/SideMenu.js","components/PrivateRoute.js","services/profile-service.js","components/TrainingCard.js","components/ExerciseList.js","pages/Profile.js","services/trainings-service.js","pages/MyTrainings.js","services/search-service.js","services/discover-service.js","components/DiscoverCard.js","components/DiscoverList.js","pages/Discover.js","pages/Home.js","pages/Dashboard.js","components/AnonRoute.js","pages/ProfileEdit.js","services/exercises-service.js","pages/ExerciseDetails.js","pages/ExerciseNew.js","pages/ExerciseEdit.js","pages/TrainingDetails.js","pages/TrainingNew.js","components/TrainingExerciseEdit.js","pages/TrainingEdit.js","App.js","index.js"],"names":["axiosRequestFunctions","this","auth","axios","create","baseURL","process","withCredentials","user","email","name","lastName","password","post","then","data","response","updatedUser","put","get","React","createContext","Consumer","Provider","withAuth","WrappedComponent","login","signup","logout","isLoggedin","isLoading","isUserInvalid","props","Component","AuthProvider","state","authService","setState","catch","err","console","log","me","value","children","withValidation","useForm","register","handleSubmit","errors","handleFormSubmit","handleChange","event","target","className","src","alt","onSubmit","onChange","ref","required","pattern","type","minLength","to","search","handleSearch","e","searchSubmit","submit","placeholder","activeClassName","onClick","component","rest","render","ProfileService","profile","id","TrainingCard","userTraining","training","key","shortid","generate","_id","title","duration","exercises","map","exercise","i","ExerciseList","exerciseArr","listLength","length","profileService","unsaveExercise","savedExercises","updateLength","author","userId","inEditTraining","addExercise","Dashboard","savedExercisesLength","window","scrollTo","getUser","userInfo","userExercises","userTrainings","trainings","TrainingService","newTraining","description","sport","delete","trainingId","exerciseId","modifiedTraining","MyTrainings","trainingService","getAll","index","SearchService","searchStr","DiscoverService","discover","DiscoverCard","DiscoverList","exercisesList","aria-hidden","sports","label","Discover","allExercises","exercisesCopy","values","queryString","parse","location","searchService","getResults","discoverService","handleSport","selected","handleType","filter","preventDefault","currentExs","filteredExs","ex","prevProps","options","ProfileEdit","edit","history","push","exercisesService","video_url","img_url","share","file","modifiedExercise","ExerciseDetails","isSaved","saveExercise","save","match","params","getOne","some","savedEx","goBack","width","height","frameborder","allow","handleInput","checked","exerciseCopy","fileOnchange","files","uploadData","FormData","append","uploadImage","error","videoId","getVideoId","service","htmlFor","updateExercise","modifyOne","updatedExercise","deleteExercise","deleteOne","charAt","toUpperCase","slice","disabled","TrainingDetails","TrainingNew","trainingExercises","trainingCopy","saveTraining","trainingsService","cancelNewTraining","result","removeExerciseFromTraining","TrainingExerciseEdit","editExercise","click","focusInput","undefined","references","createRef","focusTextInput","bind","currentInput","current","focus","selectionStart","classToggle","TrainingEdit","showEdit","exerciseToEdit","updateTraining","updatedEx","copyTrEx","indexOfModified","deleteTraining","editToggle","show","class","App","searchResult","submitSearch","exact","path","Signup","Login","Home","Profile","ExerciseNew","ExerciseEdit","withRouter","ReactDOM","document","getElementById"],"mappings":"kRA2CeA,EAFe,I,WAtC5B,aAAe,oBACbC,KAAKC,KAAOC,IAAMC,OAAO,CACvBC,QAASC,mCACTC,iBAAiB,I,mDAIdC,GAAO,IACJC,EAAoCD,EAApCC,MAAOC,EAA6BF,EAA7BE,KAAMC,EAAuBH,EAAvBG,SAAUC,EAAaJ,EAAbI,SAC/B,OAAOX,KAAKC,KAAKW,KAAK,eAAgB,CAAEJ,QAAOC,OAAMC,WAAUC,aAC5DE,MAAK,qBAAGC,U,4BAGPP,GAAO,IACHC,EAAoBD,EAApBC,MAAOG,EAAaJ,EAAbI,SACf,OAAOX,KAAKC,KAAKW,KAAK,cAAe,CAAEJ,QAAOG,aAC3CE,MAAK,qBAAGC,U,+BAIX,OAAOd,KAAKC,KAAKW,KAAK,eAAgB,IACnCC,MAAK,SAAAE,GAAQ,OAAIA,EAASD,U,2BAG1BE,GAAc,IACTR,EAAoCQ,EAApCR,MAAOC,EAA6BO,EAA7BP,KAAMC,EAAuBM,EAAvBN,SAAUC,EAAaK,EAAbL,SAC/B,OAAOX,KAAKC,KACTgB,IAAI,WAAY,CAAET,QAAOC,OAAMC,WAAUC,aACzCE,MAAK,SAAAE,GAAQ,OAAIA,EAASD,U,2BAI7B,OAAOd,KAAKC,KACTiB,IAAI,YACJL,MAAK,SAAAE,GAAQ,OAAIA,EAASD,Y,QChCFK,IAAMC,gBAA7BC,E,EAAAA,SAAUC,E,EAAAA,SAGZC,EAAW,SAAAC,GACf,wLACY,IAAD,OACP,OACE,kBAACH,EAAD,MAGG,YAA4E,IAAzEI,EAAwE,EAAxEA,MAAOC,EAAiE,EAAjEA,OAAQnB,EAAyD,EAAzDA,KAAMoB,EAAmD,EAAnDA,OAAQC,EAA2C,EAA3CA,WAAYC,EAA+B,EAA/BA,UAAWC,EAAoB,EAApBA,cACtD,OACE,kBAACN,EAAD,eACEC,MAAOA,EACPC,OAAQA,EACRnB,KAAMA,EACNoB,OAAQA,EACRC,WAAYA,EACZC,UAAWA,EACXC,cAAeA,GACX,EAAKC,eAhBvB,EAAM,CAAeZ,IAAMa,YAoFdC,E,2MAxDbC,MAAQ,CACNN,YAAY,EACZrB,KAAM,KACNsB,WAAW,EACXC,eAAe,G,EAajBJ,OAAS,SAAAnB,GAAS,IACRC,EAAoCD,EAApCC,MAAOC,EAA6BF,EAA7BE,KAAMC,EAAuBH,EAAvBG,SAAUC,EAAaJ,EAAbI,SAE/BwB,EAAYT,OAAO,CAAElB,QAAOC,OAAMC,WAAUC,aACzCE,MAAK,SAAAN,GAAI,OAAI,EAAK6B,SAAS,CAAER,YAAY,EAAMrB,YAC/C8B,OAAM,SAAAC,GAAG,OAAIC,QAAQC,IAAIF,O,EAG9Bb,MAAQ,SAAAlB,GAAS,IACPC,EAAoBD,EAApBC,MAAOG,EAAaJ,EAAbI,SAEfwB,EAAYV,MAAM,CAAEjB,QAAOG,aACxBE,MAAK,SAAAN,GAAI,OAAI,EAAK6B,SAAS,CAAER,YAAY,EAAMrB,YAC/C8B,OAAM,SAAAC,GACL,EAAKF,SAAS,CAACN,eAAe,IAC9BS,QAAQC,IAAIF,O,EAIlBX,OAAS,WACPQ,EAAYR,SACTd,MAAK,kBAAM,EAAKuB,SAAS,CAAER,YAAY,EAAOrB,KAAM,UACpD8B,OAAM,SAAAC,GAAG,OAAIC,QAAQC,IAAIF,O,mFAhCT,IAAD,OAClBH,EAAYM,KACT5B,MAAK,SAAAN,GAAI,OACR,EAAK6B,SAAS,CAAER,YAAY,EAAMrB,KAAMA,EAAMsB,WAAW,OAE1DQ,OAAM,SAAAC,GAAG,OACR,EAAKF,SAAS,CAAER,YAAY,EAAOrB,KAAM,KAAMsB,WAAW,S,+BA6BtD,IAAD,EAC+C7B,KAAKkC,MAAnDL,EADD,EACCA,UAAWD,EADZ,EACYA,WAAYrB,EADxB,EACwBA,KAAMuB,EAD9B,EAC8BA,cAC7BL,EAA0BzB,KAA1ByB,MAAOE,EAAmB3B,KAAnB2B,OAAQD,EAAW1B,KAAX0B,OAEvB,OACE,kBAACJ,EAAD,CAAUoB,MAAO,CAAEb,YAAWD,aAAYrB,OAAMuB,gBAAeL,QAAOE,SAAQD,WAC3E1B,KAAK+B,MAAMY,c,GAjDOxB,IAAMa,W,QCjC3BY,EAAiB,SAAApB,GAErB,OAAO,SAACO,GAAW,IAAD,EAC0Bc,cAAlCC,EADQ,EACRA,SAAUC,EADF,EACEA,aAAcC,EADhB,EACgBA,OAEhC,OAAO,kBAACxB,EAAD,eAAkBsB,SAAUA,EAAUC,aAAcA,EAAcC,OAAQA,GAAYjB,MCwFlFa,IAAerB,E,2MA1F5BW,MAAQ,CACN1B,MAAO,GACPC,KAAM,GACNC,SAAU,GACVC,SAAU,I,EAGZsC,iBAAmB,WAAO,IAAD,EACqB,EAAKf,MAAzC1B,EADe,EACfA,MAAOC,EADQ,EACRA,KAAMC,EADE,EACFA,SAAUC,EADR,EACQA,SAC/B,EAAKoB,MAAML,OAAO,CAAElB,QAAOC,OAAMC,WAAUC,c,EAG7CuC,aAAe,SAAAC,GAAU,IAAD,EACEA,EAAMC,OAAtB3C,EADc,EACdA,KAAMiC,EADQ,EACRA,MACd,EAAKN,SAAL,eAAiB3B,EAAOiC,K,wEAGhB,IAAD,EACqC1C,KAAKkC,MAAzC1B,EADD,EACCA,MAAOC,EADR,EACQA,KAAMC,EADd,EACcA,SAAUC,EADxB,EACwBA,SAE/B,OAEE,yBAAK0C,UAAU,kBAEb,iCACE,yBAAKA,UAAU,iBACb,yBAAKC,IAAK,YAAaC,IAAI,MAE7B,kDACA,qEAGF,iCACE,uCACA,0BAAMC,SAAUxD,KAAK+B,MAAMgB,aAAa/C,KAAKiD,mBAC3C,wCACA,2BACExC,KAAK,QACLiC,MAAOlC,EACPiD,SAAUzD,KAAKkD,aACfQ,IAAK1D,KAAK+B,MAAMe,SAAS,CAAEa,UAAU,EAAMC,QAAS,iBAErD5D,KAAK+B,MAAMiB,OAAOxC,OAAS,0BAAM6C,UAAU,aAC3CrD,KAAK+B,MAAMiB,OAAOxC,OACoB,YAAjCR,KAAK+B,MAAMiB,OAAOxC,MAAMqD,MACzB,0BAAMR,UAAU,iBAAhB,uBAGL,uCACA,2BACEQ,KAAK,OACLpD,KAAK,OACLiC,MAAOjC,EACPgD,SAAUzD,KAAKkD,aACfQ,IAAK1D,KAAK+B,MAAMe,SAAS,CAAEa,UAAU,MAEtC3D,KAAK+B,MAAMiB,OAAOvC,MAAyC,aAAhCT,KAAK+B,MAAMiB,OAAOvC,KAAKoD,MAAuB,0BAAMR,UAAU,aAE1F,4CACA,2BACEQ,KAAK,OACLpD,KAAK,WACLiC,MAAOhC,EACP+C,SAAUzD,KAAKkD,aACfQ,IAAK1D,KAAK+B,MAAMe,SAAS,CAAEa,UAAU,MAEtC3D,KAAK+B,MAAMiB,OAAOtC,UAAiD,aAApCV,KAAK+B,MAAMiB,OAAOtC,SAASmD,MAAuB,0BAAMR,UAAU,aAElG,2CACA,2BACEQ,KAAK,WACLpD,KAAK,WACLiC,MAAO/B,EACP8C,SAAUzD,KAAKkD,aACfQ,IAAK1D,KAAK+B,MAAMe,SAAS,CAAEa,UAAU,EAAOG,UAAW,MAExD9D,KAAK+B,MAAMiB,OAAOrC,UAAY,0BAAM0C,UAAU,aAC9CrD,KAAK+B,MAAMiB,OAAOrC,UAAgD,cAApCX,KAAK+B,MAAMiB,OAAOrC,SAASkD,MAAwB,0BAAMR,UAAU,iBAAhB,6CAElF,2BAAOA,UAAU,kBAAkBQ,KAAK,SAASnB,MAAM,YAGzD,oDACA,kBAAC,IAAD,CAAMqB,GAAI,UAAV,gB,GApFW/B,eCkENY,IAAerB,E,2MAhE5BW,MAAQ,CACN1B,MAAO,GACPG,SAAU,I,EAGZsC,iBAAmB,SAAAE,GAAU,IAAD,EACE,EAAKjB,MAAzB1B,EADkB,EAClBA,MAAOG,EADW,EACXA,SACf,EAAKoB,MAAMN,MAAM,CAAEjB,QAAOG,c,EAG5BuC,aAAe,SAAAC,GAAU,IAAD,EACEA,EAAMC,OAAtB3C,EADc,EACdA,KAAMiC,EADQ,EACRA,MACd,EAAKN,SAAL,eAAiB3B,EAAOiC,K,wEAGhB,IAAD,EACqB1C,KAAKkC,MAAzB1B,EADD,EACCA,MAAOG,EADR,EACQA,SAEf,OACE,yBAAK0C,UAAU,kBAEb,iCACE,yBAAKA,UAAU,iBACb,yBAAKC,IAAK,YAAaC,IAAI,MAE7B,kDACA,qEAGF,iCACE,qCACA,0BAAMC,SAAUxD,KAAK+B,MAAMgB,aAAa/C,KAAKiD,mBAC3C,wCACA,2BACEY,KAAK,QACLpD,KAAK,QACLiC,MAAOlC,EACPiD,SAAUzD,KAAKkD,aACfQ,IAAK1D,KAAK+B,MAAMe,SAAS,CAAEa,UAAU,MAEtC3D,KAAK+B,MAAMiB,OAAOxC,OAAS,0BAAM6C,UAAU,aAE5C,2CACA,2BACEQ,KAAK,WACLpD,KAAK,WACLiC,MAAO/B,EACP8C,SAAUzD,KAAKkD,aACfQ,IAAK1D,KAAK+B,MAAMe,SAAS,CAAEa,UAAU,MAEtC3D,KAAK+B,MAAMiB,OAAOrC,UAAY,0BAAM0C,UAAU,aAE9CrD,KAAK+B,MAAMD,eAAiB,0BAAMuB,UAAU,iBAAhB,oCAC7B,2BAAOA,UAAU,kBAAkBQ,KAAK,SAASnB,MAAM,WAEzD,8CACA,kBAAC,IAAD,CAAMqB,GAAI,WAAV,iB,GAzDU/B,eCsCLT,I,2MAxCbW,MAAQ,CACN8B,OAAQ,I,EAGVC,aAAe,SAACC,GAAO,IACbxB,EAAUwB,EAAEd,OAAZV,MACR,EAAKN,SAAS,CAAC4B,OAAQtB,K,EAGzByB,aAAe,SAACD,GACd,EAAKnC,MAAMqC,OAAOF,EAAE,EAAKhC,MAAM8B,QAC/B,EAAK5B,SAAS,CAAC4B,OAAQ,M,wEAGf,IAAD,SAC8BhE,KAAK+B,MAAlCxB,EADD,EACCA,KAAcqB,GADf,EACOD,OADP,EACeC,YACtB,OACE,6BACGA,EAEG,6BACE,0BAAM4B,SAAU,SAACU,GAAD,OAAO,EAAKC,aAAaD,KACvC,2BACEL,KAAK,OACLnB,MAAO1C,KAAKkC,MAAM8B,OAClBvD,KAAK,SACLgD,SAAUzD,KAAKiE,aACfI,YAAY,wBAEhB,iCAAO9D,EAAKE,OAGd,U,GAjCYuB,cC+BTT,I,iLA7BH,IAAD,EAC8BvB,KAAK+B,MAApBH,GADf,EACCrB,KADD,EACOoB,OADP,EACeC,YACtB,OACE,6BACGA,EAEC,6BAASyB,UAAU,WACjB,yBAAKA,UAAU,kBACb,yBAAKA,UAAU,OAAOC,IAAK,YAAaC,IAAI,UAE9C,yBAAKF,UAAU,0BACb,kBAAC,IAAD,CAASU,GAAG,WAAWO,gBAAgB,YAAW,wCAClD,kBAAC,IAAD,CAASP,GAAG,gBAAgBO,gBAAgB,YAAW,6CACvD,kBAAC,IAAD,CAASP,GAAG,YAAYO,gBAAgB,YAAW,yCACnD,yBAAKjB,UAAU,UACb,4BAAQA,UAAU,WAAWkB,QAASvE,KAAK+B,MAAMJ,QAC/C,yBAAK2B,IAAK,cAAeC,IAAI,SAASF,UAAU,yBAMxD,U,GAvBarB,c,QCiBRT,SAjBf,YAAiF,IAA9CS,EAA6C,EAAxDwC,UAAsB5C,EAAkC,EAAlCA,WAAYC,EAAsB,EAAtBA,UAAc4C,EAAQ,sDAE9E,OAAI5C,EACK,uCAIL,kBAAC,IAAD,iBACM4C,EADN,CAEEC,OAAQ,SAAA3C,GAAK,OACXH,EAAa,kBAACI,EAAcD,GAAW,kBAAC,IAAD,CAAUgC,GAAG,kB,iBCW/CY,EAFQ,I,WApBrB,aAAe,oBACb3E,KAAK4E,QAAU1E,IAAMC,OAAO,CAC1BC,QAASC,2CACTC,iBAAiB,I,sDAKnB,OAAON,KAAK4E,QACL1D,IAAI,KACJL,MAAK,qBAAGC,U,qCAGF+D,GACb,OAAO7E,KAAK4E,QACL3D,IADA,WACQ4D,IACRhE,MAAK,qBAAGC,Y,MCkBJgE,G,oCAhCb,WAAY/C,GAAQ,IAAD,8BACjB,4CAAMA,KAEDG,MAAQ,CACX6C,aAAc,EAAKhD,MAAMiD,UAJV,E,sEAQjB,IAAMA,EAAWhF,KAAKkC,MAAM6C,aAE5B,OACE,yBAAK1B,UAAU,gBAAgB4B,IAAKC,IAAQC,YAC1C,kBAAC,IAAD,CAAMpB,GAAE,wBAAmBiB,EAASI,MAClC,yBAAK/B,UAAU,yBACb,4BAAK2B,EAASK,OACd,8BAAM,yBAAK/B,IAAK,iBAAkBD,UAAU,mBAAmB2B,EAASM,SAAxE,SAECN,EAASO,UAAUC,KAAK,SAACC,EAAUC,GAClC,OACE,yBAAKrC,UAAU,yCAAyC4B,IAAKS,GAC3D,2BAAID,EAASJ,OACb,0BAAMhC,UAAS,oBAAeoC,EAAS5B,OAAS4B,EAAS5B,gB,GAtBhD7B,cCyEZ2D,E,YApEb,WAAY5D,GAAQ,IAAD,8BACjB,4CAAMA,KAEDG,MAAQ,CACX0D,YAAa,EAAK7D,MAAMwD,UACxBM,WAAY,EAAK9D,MAAMwD,UAAUO,QALlB,E,4EASJjB,GAAK,IAAD,OAEjBkB,EAAeC,eAAenB,GAC3BhE,MAAM,SAACN,GACN,IAAM0F,EAAiB1F,EAAK0F,eAC5B,EAAKlE,MAAMmE,eACX,EAAK9D,SAAS,CAACwD,YAAaK,OAE7B5D,OAAO,SAACC,GAAD,OAASC,QAAQC,IAAIF,Q,+BAGvB,IAAD,OACDsD,EAAc5F,KAAKkC,MAAM0D,YAC/B,OACE,yBAAKvC,UAAU,kBACZuC,EAAYJ,KAAK,SAAAC,GAChB,OACE,6BACE,yBAAKpC,UAAU,uBAAuB4B,IAAKC,IAAQC,YACjD,kBAAC,IAAD,CAAMpB,GAAE,mBAAc0B,EAASL,MAC7B,2BAAG,gCAASK,EAASJ,QACrB,6BAAK,8BAAM,yBAAK/B,IAAK,iBAAkBD,UAAU,mBAAmBoC,EAASH,SAAxE,QAAL,UAAwG,0BAAMjC,UAAS,oBAAeoC,EAAS5B,OAAS4B,EAAS5B,OAE9J4B,EAASU,OAAOf,MAAQ,EAAKrD,MAAMqE,OAElC,6BACE,2BAAG,4CAA0BX,EAASU,OAAO1F,KAA7C,IAAoDgF,EAASU,OAAOzF,WAGtE,MAIH+E,EAASU,OAAOf,MAAQ,EAAKrD,MAAMqE,QAAW,EAAKrE,MAAMsE,eAMxD,KAJE,4BAAQhD,UAAU,WAAWkB,QAAS,kBAAM,EAAKyB,eAAeP,EAASL,OACvE,yBAAK9B,IAAK,WAAYC,IAAI,SAASF,UAAU,sBAMnD,EAAKtB,MAAMsE,eACP,4BAAQhD,UAAU,WAAWkB,QAAS,kBAAI,EAAKxC,MAAMuE,YAAYb,EAASL,OACxE,yBAAK9B,IAAK,WAAYC,IAAI,GAAGF,UAAU,sBAEzC,e,GAxDKrB,aC8GZuE,E,2MArGbrE,MAAQ,CACN3B,KAAM,GACNiG,qBAAsB,G,EAGxBN,aAAe,WACb,IAAIJ,EAAS,EAAK5D,MAAMsE,qBACxBV,GAAU,EACV,EAAK1D,SAAS,CAACoE,qBAAsBV,K,mFAGlB,IAAD,OAClBW,OAAOC,SAAS,EAAG,GACnBX,EAAeY,UACZ9F,MAAM,SAAC+F,GACN,EAAKxE,SAAS,CAAC7B,KAAMqG,IACrB,EAAKxE,SAAS,CAACoE,qBAAsBI,EAASX,eAAeH,YAE9DzD,OAAO,SAACC,GAAD,OAASC,QAAQC,IAAIF,Q,+BAI/B,IAAMuE,EAAgB7G,KAAKkC,MAAM3B,KAAKgF,UAChCU,EAAiBjG,KAAKkC,MAAM3B,KAAK0F,eACjCa,EAAgB9G,KAAKkC,MAAM3B,KAAKwG,UAEtC,OACE,0BAAM1D,UAAU,WACd,yBAAKA,UAAU,kBACb,uCACA,kBAAC,IAAD,CAAMU,GAAI,iBACR,4BAAQV,UAAU,gBAAlB,kBAGJ,yBAAKA,UAAU,qBAEb,yBAAKA,UAAU,kBACb,yBAAKA,UAAU,UAEXyD,EACI,+CAAqBA,EAAchB,OAAnC,KACA,mDAKNgB,EAEE,yBAAKzD,UAAU,4CACdyD,EAActB,KAAK,SAAAR,GAClB,OACE,kBAAC,EAAD,CAAcA,SAAUA,EAAUC,IAAKC,IAAQC,iBAKnD,MAIN,yBAAK9B,UAAU,kBACb,yBAAKA,UAAU,UAEXwD,EACI,+CAAqBA,EAAcf,OAAnC,KACA,kDAEN,kBAAC,IAAD,CAAMzC,UAAU,iBAAiBU,GAAI,yBAArC,QAGA8C,EAEE,kBAAC,EAAD,CAActB,UAAWsB,EAAeT,OAAQpG,KAAKkC,MAAM3B,KAAK6E,MAEhE,MAIN,yBAAK/B,UAAU,kBACb,yBAAKA,UAAU,UAEX4C,EACI,gDAAsBjG,KAAKkC,MAAMsE,qBAAjC,KACA,oDAKNP,EAEI,kBAAC,EAAD,CAAcV,UAAWU,EAAgBG,OAAQpG,KAAKkC,MAAM3B,KAAK6E,IAAKc,aAAclG,KAAKkG,eAE3F,Y,GA9FQlE,aC2CTgF,EAFS,I,WArDtB,aAAe,oBACbhH,KAAKgF,SAAW9E,IAAMC,OAAO,CAC3BC,QAASC,gDACTC,iBAAiB,I,qDAKnB,OAAON,KAAKgF,SACL9D,IAAI,KACJL,MAAK,qBAAGC,U,6BAGVmG,GAAc,IACX5B,EAAyD4B,EAAzD5B,MAAO6B,EAAkDD,EAAlDC,YAAa5B,EAAqC2B,EAArC3B,SAAU6B,EAA2BF,EAA3BE,MAAOtD,EAAoBoD,EAApBpD,KAAM0B,EAAc0B,EAAd1B,UACnD,OAAOvF,KAAKgF,SACLpE,KAAK,OAAQ,CAAEyE,QAAO6B,cAAa5B,WAAU6B,QAAOtD,OAAM0B,cAC1D1E,MAAK,qBAAGC,U,6BAGV+D,GACL,OAAO7E,KAAKgF,SACL9D,IADA,WACQ2D,IACRhE,MAAK,qBAAGC,U,gCAGP+D,GACR,OAAO7E,KAAKgF,SACToC,OADI,WACOvC,IACXhE,MAAK,qBAAGC,U,qCAGEuG,EAAYC,GACzB,OAAOtH,KAAKgF,SACT/D,IADI,WACIoG,EADJ,YACkBC,EADlB,YAEJzG,MAAK,qBAAGC,U,gCAGHyG,EAAkB1C,GAAK,IACvBQ,EAAwCkC,EAAxClC,MAAO6B,EAAiCK,EAAjCL,YAAa5B,EAAoBiC,EAApBjC,SAAU6B,EAAUI,EAAVJ,MACtC,OAAOnH,KAAKgF,SACL/D,IADA,WACQ4D,GAAM,CAAEQ,QAAO6B,cAAa5B,WAAU6B,UAC9CtG,MAAK,qBAAGC,U,kCAGLuG,EAAYC,GACtB,OAAOtH,KAAKgF,SACLpE,KADA,WACSyG,EADT,YACuBC,IACvBzG,MAAK,SAACC,GAAD,OAAUA,S,MCHX0G,G,iNAvCbtF,MAAQ,CACN6E,UAAW,I,mFAGQ,IAAD,OAClBN,OAAOC,SAAS,EAAG,GACnBe,EAAgBC,SACb7G,MAAM,SAACkG,GACN,EAAK3E,SAAS,CAAC2E,UAAWA,OAE3B1E,OAAO,SAACC,GAAD,OAASC,QAAQC,IAAIF,Q,+BAI/B,IAAMwE,EAAgB9G,KAAKkC,MAAM6E,UACjC,OACE,yBAAK1D,UAAU,WACb,yBAAKA,UAAU,mBACb,4CACA,kBAAC,IAAD,CAAMU,GAAI,8BAA8B,4BAAQV,UAAU,kBAAlB,SAG1C,yBAAKA,UAAU,mBAEXyD,EAEIA,EAActB,KAAK,SAACR,EAAU2C,GAC5B,OAAO,kBAAC,EAAD,CAAc3C,SAAUA,EAAUC,IAAK0C,OAGlD,kD,GAhCY3F,c,iBCYX4F,EAFO,I,WAdpB,aAAe,oBACb5H,KAAKgE,OAAS9D,IAAMC,OAAO,CACzBC,QAASC,0CACTC,iBAAiB,I,uDAIVuH,GACT,OAAO7H,KAAKgE,OACL9C,IADA,kBACe2G,IACfhH,MAAK,qBAAEC,Y,MCaHgH,EAFS,I,WArBtB,aAAe,oBACb9H,KAAK+H,SAAW7H,IAAMC,OAAO,CAC3BC,QAASC,4CACTC,iBAAiB,I,qDAKnB,OAAON,KAAK+H,SACL7G,IAAI,KACJL,MAAK,qBAAGC,U,2BAGZ+D,GACH,OAAO7E,KAAK+H,SACL9G,IADA,UACO4D,IACPhE,MAAK,qBAAGC,Y,MCaJkH,E,YA1Bb,WAAYjG,GAAQ,IAAD,8BACjB,4CAAMA,KAEDG,MAAQ,CACXuD,SAAU,EAAK1D,MAAM0D,UAJN,E,sEASjB,IAAMA,EAAWzF,KAAKkC,MAAMuD,SAC5B,OACE,yBAAKpC,UAAU,gBAAgB4B,IAAKC,IAAQC,YAC1C,kBAAC,IAAD,CAAMpB,GAAE,oBAAe0B,EAASL,MAC5B,4BAAKK,EAASJ,OACd,yBAAKhC,UAAU,kBACb,2BAAG,yBAAKC,IAAK,iBAAkBD,UAAU,mBAAmBoC,EAASH,SAArE,UAAsFG,EAAS0B,OAC/F,0BAAM9D,UAAS,oBAAeoC,EAAS5B,OAAS4B,EAAS5B,OAE3D,2BAAG,4CAA0B4B,EAASU,OAAO1F,KAA7C,IAAoDgF,EAASU,OAAOzF,gB,GApBrDsB,aC8BZiG,E,iLAxBX,IAAMC,EAAgBlI,KAAK+B,MAAMwD,UACjC,OACE,yBAAKlC,UAAU,iBAEY,IAAvB6E,EAAcpC,OAEZoC,EAAc1C,KAAK,SAAAC,GACjB,OAAO,kBAAC,EAAD,CAAcA,SAAUA,EAAUR,IAAKC,IAAQC,gBAIxD,6CAIJ,uBAAGgD,cAAY,SACf,uBAAGA,cAAY,c,GAnBInG,a,gBCMrBoG,EAAS,CACb,CAAE1F,MAAO,MAAO2F,MAAO,OACvB,CAAE3F,MAAO,QAAS2F,MAAO,SACzB,CAAE3F,MAAO,aAAc2F,MAAO,cAC9B,CAAE3F,MAAO,WAAY2F,MAAO,aAGxBxE,EAAO,CACX,CAAEnB,MAAO,MAAO2F,MAAO,OACvB,CAAE3F,MAAO,SAAU2F,MAAO,UAC1B,CAAE3F,MAAO,SAAU2F,MAAO,UAC1B,CAAE3F,MAAO,UAAW2F,MAAO,WAC3B,CAAE3F,MAAO,KAAM2F,MAAO,2BACtB,CAAE3F,MAAO,UAAW2F,MAAO,WAC3B,CAAE3F,MAAO,WAAY2F,MAAO,aA+GfC,E,2MA1GbpG,MAAQ,CACNqG,aAAc,KACdC,cAAe,KACfrB,MAAO,MACPtD,KAAM,O,EAeRI,aAAe,WACb,IAAMwE,EAASC,IAAYC,MAAM,EAAK5G,MAAM6G,SAAS5E,QAClDyE,EAAOzE,OACR6E,EAAcC,WAAWL,EAAOzE,QAC7BnD,MAAM,SAACC,GAEN,EAAKsB,SAAS,CAACmG,aAAczH,EAAM0H,cAAe1H,OAEnDuB,OAAO,SAACC,GAAD,OAASC,QAAQC,IAAIF,MAG/ByG,EAAgBrB,SACb7G,MAAM,SAACC,GACN,EAAKsB,SAAS,CAACmG,aAAczH,EAAM0H,cAAe1H,OAEnDuB,OAAO,SAACC,GAAD,OAASC,QAAQC,IAAIF,O,EAInC0G,YAAc,SAACC,GACb,EAAK7G,SAAS,CAAC+E,MAAO8B,K,EAGxBC,WAAa,SAACD,GACZ,EAAK7G,SAAS,CAACyB,KAAMoF,K,EAGvBE,OAAS,SAACjF,GACRA,EAAEkF,iBACF7G,QAAQC,IAAI,EAAKN,MAAMiF,MAAMzE,MAAO,EAAKR,MAAM2B,KAAKnB,OACpD,IAAM2G,EAAa,EAAKnH,MAAMqG,aAC1Be,EAAc,GAIhBA,EAD6B,QAA3B,EAAKpH,MAAMiF,MAAMzE,MACL2G,EAEAA,EAAWF,QAAQ,SAAAI,GAC/B,OAAOA,EAAGpC,QAAU,EAAKjF,MAAMiF,MAAMzE,SAKX,QAA1B,EAAKR,MAAM2B,KAAKnB,QAClB4G,EAAcA,EAAYH,QAAQ,SAAAI,GAChC,OAAOA,EAAG1F,OAAS,EAAK3B,MAAM2B,KAAKnB,UAIvC,EAAKN,SAAS,CAACoG,cAAec,K,mFA5D9B7C,OAAOC,SAAS,EAAE,GAClB1G,KAAKiE,iB,yCAGYuF,GACbA,EAAUZ,SAAS5E,SAAWhE,KAAK+B,MAAM6G,SAAS5E,SACpDzB,QAAQC,IAAI,WACZxC,KAAKiE,kB,+BAyDP,OACE,yBAAKZ,UAAU,WACb,6CAEA,0BAAMG,SAAUxD,KAAKmJ,OAAQ9F,UAAU,eACrC,yBAAKA,UAAU,WACb,kBAAC,IAAD,CACEA,UAAU,gBACVX,MAAO1C,KAAKkC,MAAMiF,MAClB1D,SAAUzD,KAAKgJ,YACfS,QAASrB,IAEX,kBAAC,IAAD,CACE/E,UAAU,gBACVX,MAAO1C,KAAKkC,MAAM2B,KAClBJ,SAAUzD,KAAKkJ,WACfO,QAAS5F,KAGb,4BAAQR,UAAU,kBAAlB,WAIArD,KAAKkC,MAAMsG,cACR,kBAAC,EAAD,CAAcjD,UAAWvF,KAAKkC,MAAMsG,gBACpC,kD,GAnGUxG,aCGRT,GCnBSS,YDmBTT,E,iLAxBH,IAAD,EAC8BvB,KAAK+B,MAApBH,GADf,EACCrB,KADD,EACOoB,OADP,EACeC,YACtB,OACE,6BACGA,EACC,kBAAC,IAAD,CAAUmC,GAAG,aAEb,6BACE,kBAAC,IAAD,CAAMA,GAAG,UACN,IACD,4BAAQV,UAAU,OAAlB,SAAuC,KAEzC,6BACA,kBAAC,IAAD,CAAMU,GAAG,WACN,IACD,4BAAQV,UAAU,OAAlB,UAAwC,W,GAhBnCrB,eEaJT,SAjBf,YAA8E,IAA9CS,EAA6C,EAAxDwC,UAAsB5C,EAAkC,EAAlCA,WAAYC,EAAsB,EAAtBA,UAAc4C,EAAQ,sDAE3E,OAAI5C,EACK,uCAIL,kBAAC,IAAD,iBACM4C,EADN,CAEEC,OAAQ,SAAA3C,GAAK,OACVH,EAAwC,kBAAC,IAAD,CAAUmC,GAAG,aAAxC,kBAAC/B,EAAcD,UCyExB2H,E,2MAjFbxH,MAAQ,CACN1B,MAAO,GACPC,KAAM,GACNC,SAAU,GACVC,SAAU,I,EAGZsC,iBAAmB,WAAO,IAAD,EACqB,EAAKf,MAAzC1B,EADe,EACfA,MAAOC,EADQ,EACRA,KAAMC,EADE,EACFA,SAAUC,EADR,EACQA,SAC/BwB,EAAYwH,KAAK,CAAEnJ,QAAOC,OAAMC,WAAUC,aACvCE,MAAM,SAACN,GACN,EAAKwB,MAAM6H,QAAQC,KAAK,eAEzBxH,OAAO,SAACC,GAAD,OAASC,QAAQC,IAAIF,O,EAGjCY,aAAe,SAAAC,GAAU,IAAD,EACEA,EAAMC,OAAtB3C,EADc,EACdA,KAAMiC,EADQ,EACRA,MACd,EAAKN,SAAL,eAAiB3B,EAAOiC,K,mFAGL,IAAD,OAClBP,EAAYM,KACT5B,MAAM,SAACN,GAAU,IACRC,EAAoCD,EAApCC,MAAOC,EAA6BF,EAA7BE,KAAMC,EAAuBH,EAAvBG,SAAUC,EAAaJ,EAAbI,SAC/B,EAAKyB,SAAS,CAAE5B,QAAOC,OAAMC,WAAUC,gBAExC0B,OAAO,SAACC,GAAD,OAASC,QAAQC,IAAIF,Q,+BAGvB,IAAD,SACqCtC,KAAKkC,MAAzC1B,EADD,EACCA,MAAOC,EADR,EACQA,KAAMC,EADd,EACcA,SAAUC,EADxB,EACwBA,SAC/B,OACE,yBAAK0C,UAAU,WACb,4BAAQA,UAAU,WAAWkB,QAAS,kBAAM,EAAKxC,MAAM6H,QAAQC,KAAK,cAClE,yBAAKvG,IAAK,aAAcD,UAAU,YAAYE,IAAI,MAEpD,4CACA,0BAAMC,SAAUxD,KAAKiD,iBAAkBI,UAAU,cAC/C,yCACA,2BACEA,UAAU,QACVQ,KAAK,QACLpD,KAAK,QACLiC,MAAOlC,EACPiD,SAAUzD,KAAKkD,eAEjB,wCACA,2BACEG,UAAU,QACVQ,KAAK,OACLpD,KAAK,OACLiC,MAAOjC,EACPgD,SAAUzD,KAAKkD,eAGjB,6CACA,2BACEG,UAAU,QACVQ,KAAK,OACLpD,KAAK,WACLiC,MAAOhC,EACP+C,SAAUzD,KAAKkD,eAGjB,4CACA,2BACEG,UAAU,QACVQ,KAAK,WACLpD,KAAK,WACLiC,MAAO/B,EACP8C,SAAUzD,KAAKkD,eAGjB,2BAAOG,UAAU,oCAAoCQ,KAAK,SAASnB,MAAM,e,GA5EzDV,aCyCX8H,EAFU,I,WAxCvB,aAAe,oBACb9J,KAAKuF,UAAYrF,IAAMC,OAAO,CAC5BC,QAASC,6CACTC,iBAAiB,I,mDAIduE,GACL,OAAO7E,KAAKuF,UACDrE,IADJ,WACY2D,IACRhE,MAAK,qBAAGC,U,6BAGd2E,GAAW,IACTJ,EAAwEI,EAAxEJ,MAAO6B,EAAiEzB,EAAjEyB,YAAa5B,EAAoDG,EAApDH,SAAU6B,EAA0C1B,EAA1C0B,MAAOtD,EAAmC4B,EAAnC5B,KAAMkG,EAA6BtE,EAA7BsE,UAAWC,EAAkBvE,EAAlBuE,QAASC,EAASxE,EAATwE,MACtE,OAAOjK,KAAKuF,UACD3E,KAAK,OAAQ,CAACyE,QAAO6B,cAAa5B,WAAU6B,QAAOtD,OAAMkG,YAAWC,UAASC,UAC7EpJ,MAAK,qBAAGC,U,kCAGToJ,GACV,OAAOlK,KAAKuF,UACD3E,KAAK,aAAcsJ,GACnBrJ,MAAK,qBAAEC,U,gCAGVqJ,EAAkBtF,GAAK,IACxBQ,EAAwE8E,EAAxE9E,MAAO6B,EAAiEiD,EAAjEjD,YAAa5B,EAAoD6E,EAApD7E,SAAU6B,EAA0CgD,EAA1ChD,MAAOtD,EAAmCsG,EAAnCtG,KAAMkG,EAA6BI,EAA7BJ,UAAWC,EAAkBG,EAAlBH,QAASC,EAASE,EAATF,MACtE,OAAOjK,KAAKuF,UACDtE,IADJ,WACY4D,GAAM,CAACQ,QAAO6B,cAAa5B,WAAU6B,QAAOtD,OAAMkG,YAAWC,UAASC,UAC9EpJ,MAAK,qBAAGC,U,gCAGX+D,GACR,OAAO7E,KAAKuF,UACD6B,OADJ,WACevC,IACXhE,MAAK,qBAAGC,Y,MCuFRsJ,E,2MArHblI,MAAQ,CACNuD,SAAU,GACVW,OAAQ,GACRiE,QAAS,M,EAGXC,aAAe,SAACpG,GACdA,EAAEkF,iBACF7G,QAAQC,IAAI,MACZ,IAAMqC,EAAK,EAAK3C,MAAMuD,SAASL,IAC/B2D,EAAgBwB,KAAK1F,GAClBhE,MAAM,WACL,EAAKuB,SAAS,CAACiI,SAAS,IACxB9H,QAAQC,IAAI,0BAEbH,OAAO,SAACC,GAAD,OAASC,QAAQC,IAAIF,O,EAGjC0D,eAAiB,SAAC9B,GAChBA,EAAEkF,iBACF,IAAMvE,EAAK,EAAK3C,MAAMuD,SAASL,IAC/BW,EAAeC,eAAenB,GAC3BhE,MAAM,WACL,EAAKuB,SAAS,CAACiI,SAAS,OAEzBhI,OAAO,SAACC,GAAD,OAASC,QAAQC,IAAIF,O,mFAGZ,IAAD,OAClBmE,OAAOC,SAAS,EAAG,GADD,IAEX7B,EAAM7E,KAAK+B,MAAMyI,MAAMC,OAAvB5F,GACPiF,EAAiBY,OAAO7F,GACrBhE,MAAM,SAAC4E,GACNM,EAAeY,UACZ9F,MAAM,SAACN,GACN,IAAM8J,EAAU9J,EAAK0F,eAAe0E,MAAM,SAAAC,GACxC,OAAOA,EAAQxF,MAAQK,EAASL,OAElC,EAAKhD,SAAS,CAACqD,WAAUW,OAAQ7F,EAAK6E,IAAKiF,eAE5ChI,OAAO,SAACC,GAAD,OAASC,QAAQC,IAAIF,W,+BAI3B,IAAD,OACDmD,EAAWzF,KAAKkC,MAAMuD,SACtBW,EAASpG,KAAKkC,MAAMkE,OAE1B,OADA7D,QAAQC,IAAI,YAAaxC,KAAKkC,MAAMmI,SAElC,0BAAMhH,UAAU,WACd,4BAAQA,UAAU,WAAWkB,QAAS,kBAAM,EAAKxC,MAAM6H,QAAQiB,WAC7D,yBAAKvH,IAAK,aAAcD,UAAU,YAAYE,IAAI,MAGlD,6BACI,yBAAKF,UAAU,0CACb,yBAAKA,UAAU,iCACb,4BAAKoC,EAASJ,OACd,0BAAMhC,UAAS,oBAAeoC,EAAS5B,OAAS4B,EAAS5B,MAErD4B,EAASwE,MAEP,KADA,kBAAC,IAAD,CAAMlG,GAAE,mBAAc0B,EAASL,IAAvB,UAAmC,4BAAQ/B,UAAU,gBAAlB,UAKnD,yBAAKA,UAAU,0CACb,2BACE,2CAAyBoC,EAAS0B,MAClC,mCACA,8BAAM,yBAAK7D,IAAK,iBAAkBD,UAAU,mBAAmBoC,EAASH,SAAxE,WAKN,2CACA,2BAAIG,EAASyB,aACb,yBAAK7D,UAAU,kBACb,yBAAKA,UAAU,yBACb,qCAEEoC,EAASuE,QACP,yBAAK3G,UAAU,qBAAqBC,IAAKmC,EAASuE,QAASzG,IAAI,aAC/D,2BAAG,uDAGT,yBAAKF,UAAU,yBACb,qCAEEoC,EAASsE,UACP,wCAAQe,MAAM,MAAMC,OAAO,MAAMzH,IAAKmC,EAASsE,UAAWiB,YAAY,IAAIC,MAAM,2EAAhF,QAAgK,eAEhK,2BAAG,wDAORxF,EAASU,SAAWC,EAEjB,6BAEGpG,KAAKkC,MAAMmI,QAER,4BAAQhH,UAAU,iBAAiBkB,QAASvE,KAAKgG,gBAAjD,UADA,4BAAQ3C,UAAU,kBAAkBkB,QAASvE,KAAKsK,cAAlD,SAKN,W,GA/GUtI,a,oBCExBoG,GAAS,CACb,CAAE1F,MAAO,MAAO2F,MAAO,OACvB,CAAE3F,MAAO,QAAS2F,MAAO,SACzB,CAAE3F,MAAO,aAAc2F,MAAO,cAC9B,CAAE3F,MAAO,WAAY2F,MAAO,aAGxBxE,GAAO,CACX,CAAEnB,MAAO,MAAO2F,MAAO,OACvB,CAAE3F,MAAO,SAAU2F,MAAO,UAC1B,CAAE3F,MAAO,SAAU2F,MAAO,UAC1B,CAAE3F,MAAO,UAAW2F,MAAO,WAC3B,CAAE3F,MAAO,KAAM2F,MAAO,2BACtB,CAAE3F,MAAO,UAAW2F,MAAO,WAC3B,CAAE3F,MAAO,WAAY2F,MAAO,aA8JfzF,K,2MAzJbV,MAAQ,CACNuD,SAAU,GACV0B,MAAO,MACPtD,KAAM,MACNhC,WAAW,G,EAGbqJ,YAAc,SAAChH,GACb,IAAMd,EAASc,EAAEd,OACXV,EAAwB,aAAhBU,EAAOS,KAAsBT,EAAO+H,QAAU/H,EAAOV,MAC7DjC,EAAO2C,EAAO3C,KAEd2K,EAAe,EAAKlJ,MAAMuD,SAChC2F,EAAa3K,GAAQiC,EACrB,EAAKN,SAAS,CAAEqD,SAAU2F,K,EAG5BpC,YAAc,SAACC,GACb,EAAK7G,SAAS,CAAC+E,MAAO8B,K,EAGxBC,WAAa,SAACD,GACZ,EAAK7G,SAAS,CAACyB,KAAMoF,K,EAGvBoC,aAAe,SAAClI,GACd,EAAKf,SAAS,CAACP,WAAW,IAC1B,IAAMqI,EAAO/G,EAAMC,OAAOkI,MAAM,GAC1BC,EAAa,IAAIC,SACvBD,EAAWE,OAAO,QAASvB,GAE3BJ,EAAiB4B,YAAYH,GAC1B1K,MAAK,SAACmJ,GACL,IAAMoB,EAAe,EAAKlJ,MAAMuD,SAChC2F,EAAapB,QAAUA,EACvB,EAAK5H,SAAS,CAAEqD,SAAU2F,EAAcvJ,WAAW,OAEpDQ,OAAM,SAACsJ,GAAD,OAAWpJ,QAAQC,IAAImJ,O,EAGlCrB,aAAe,SAACpG,GAAO,IAAD,EAC4C,EAAKhC,MAAMuD,SAAtEJ,EADe,EACfA,MAAO6B,EADQ,EACRA,YAAa5B,EADL,EACKA,SAAUyE,EADf,EACeA,UAAWC,EAD1B,EAC0BA,QAASC,EADnC,EACmCA,MACjD9C,EAAQ,EAAKjF,MAAMiF,MAAMzE,MACzBmB,EAAO,EAAK3B,MAAM2B,KAAKnB,MACvBkJ,EAAUC,KAAW9B,GAC3B,OAAO6B,EAAQE,SACb,IAAK,UACD/B,EAAS,wCAAoC6B,EAAQ/G,IACvD,MACF,IAAK,QACDkF,EAAS,yCAAqC6B,EAAQ/G,IACxD,MACF,QACIkF,EAAY,GAElBD,EAAiB3J,OAAO,CAACkF,QAAO6B,cAAa5B,WAAU6B,QAAOtD,OAAMkG,YAAWC,UAASC,UACrFpJ,MAAM,WACL,EAAKkB,MAAM6H,QAAQC,KAAK,eAEzBxH,OAAO,SAACC,GAAD,OAASC,QAAQC,IAAIF,O,mFAK/BmE,OAAOC,SAAS,EAAE,K,+BAGV,IAAD,OACP,OACE,yBAAKrD,UAAU,WACb,4BAAQA,UAAU,WAAWkB,QAAS,kBAAM,EAAKxC,MAAM6H,QAAQiB,WAC7D,yBAAKvH,IAAK,aAAcD,UAAU,YAAYE,IAAI,MAEpD,4CACA,0BAAMC,SAAUxD,KAAK+B,MAAMgB,aAAa/C,KAAKsK,cAAejH,UAAU,cACpE,2BAAO0I,QAAQ,IAAf,SACA,2BAAO1I,UAAU,QAAQQ,KAAK,OAAOnB,MAAO1C,KAAKkC,MAAMuD,SAASJ,MACxD5E,KAAK,QACLgD,SAAUzD,KAAKkL,YACfxH,IAAK1D,KAAK+B,MAAMe,SAAS,CAAEa,UAAU,MAE5C3D,KAAK+B,MAAMiB,OAAOqC,OAAS,0BAAMhC,UAAU,aAE5C,2BAAO0I,QAAQ,IAAf,eACA,8BAAUrJ,MAAO1C,KAAKkC,MAAMuD,SAASyB,YAC3BzG,KAAK,cACLgD,SAAUzD,KAAKkL,YACfxH,IAAK1D,KAAK+B,MAAMe,SAAS,CAAEa,UAAU,MAE9C3D,KAAK+B,MAAMiB,OAAOkE,aAAe,0BAAM7D,UAAU,mCAElD,yBAAKA,UAAU,kBACb,yBAAKA,UAAU,0BACb,2BAAO0I,QAAQ,IAAf,SACE,kBAAC,IAAD,CACE1I,UAAU,SACVX,MAAO1C,KAAKkC,MAAMiF,MAClB1D,SAAUzD,KAAKgJ,YACfS,QAASrB,GACT3H,KAAK,QACLiD,IAAK1D,KAAK+B,MAAMe,SAAS,CAAEa,UAAU,MAEtC3D,KAAK+B,MAAMiB,OAAOmE,OAAS,0BAAM9D,UAAU,cAEhD,yBAAKA,UAAU,0BACX,2BAAO0I,QAAQ,IAAf,QACA,kBAAC,IAAD,CACE1I,UAAU,SACVX,MAAO1C,KAAKkC,MAAM2B,KAClBJ,SAAUzD,KAAKkJ,WACfO,QAAS5F,GACTpD,KAAK,OACLiD,IAAK1D,KAAK+B,MAAMe,SAAS,CAAEa,UAAU,MAEtC3D,KAAK+B,MAAMiB,OAAOa,MAAQ,0BAAMR,UAAU,eAIjD,2BAAO0I,QAAQ,IAAf,SACA,2BAAO1I,UAAU,QAAQQ,KAAK,OAAOpD,KAAK,YAAYiC,MAAO1C,KAAKkC,MAAMuD,SAASsE,UAAWtG,SAAUzD,KAAKkL,cAC3G,2BAAOa,QAAQ,IAAf,SACA,2BAAOlI,KAAK,OAAOR,UAAU,oBAAoBwB,GAAG,aAAapE,KAAK,UAAUgD,SAAU,SAACN,GAAD,OAAS,EAAKkI,aAAalI,MACrH,yBAAKE,UAAU,kBACb,2BAAO0I,QAAQ,IAAf,YACA,2BAAO1I,UAAU,QAAQQ,KAAK,SACtBnB,MAAO1C,KAAKkC,MAAMuD,SAASH,SAC3B7E,KAAK,WACLgD,SAAUzD,KAAKkL,YACfxH,IAAK1D,KAAK+B,MAAMe,SAAS,CAAEa,UAAU,MAE7C,qCAEA,2BAAOlD,KAAK,SAAZ,SACA,2BAAO4C,UAAU,UACf,2BAAOQ,KAAK,WAAWpD,KAAK,QAAQ0K,QAASnL,KAAKkC,MAAMuD,SAASwE,MAAOxG,SAAUzD,KAAKkL,cACvF,0BAAM7H,UAAU,mBAGnBrD,KAAK+B,MAAMiB,OAAOsC,UAAY,0BAAMjC,UAAU,gCAE7CrD,KAAKkC,MAAML,UACN,0BAAMwB,UAAU,mCACf,yBAAKA,UAAU,cAAcC,IAAK,eAAgBC,IAAI,aAExD,4BAAQF,UAAU,mBAAlB,c,GAlJUrB,cClBpBoG,GAAS,CACb,CAAE1F,MAAO,MAAO2F,MAAO,OACvB,CAAE3F,MAAO,QAAS2F,MAAO,SACzB,CAAE3F,MAAO,aAAc2F,MAAO,cAC9B,CAAE3F,MAAO,WAAY2F,MAAO,aAGxBxE,GAAO,CACX,CAAEnB,MAAO,MAAO2F,MAAO,OACvB,CAAE3F,MAAO,SAAU2F,MAAO,UAC1B,CAAE3F,MAAO,SAAU2F,MAAO,UAC1B,CAAE3F,MAAO,UAAW2F,MAAO,WAC3B,CAAE3F,MAAO,KAAM2F,MAAO,2BACtB,CAAE3F,MAAO,UAAW2F,MAAO,WAC3B,CAAE3F,MAAO,WAAY2F,MAAO,aAqLfzF,K,2MAhLbV,MAAQ,CACNuD,SAAU,GACV0B,MAAO,GACPtD,KAAM,GACNhC,WAAW,G,EAGbqJ,YAAc,SAAChH,GACb,IAAMd,EAASc,EAAEd,OACXV,EAAwB,aAAhBU,EAAOS,KAAsBT,EAAO+H,QAAU/H,EAAOV,MAC7DjC,EAAO2C,EAAO3C,KAEd2K,EAAe,EAAKlJ,MAAMuD,SAChC2F,EAAa3K,GAAQiC,EACrB,EAAKN,SAAS,CAAEqD,SAAU2F,K,EAG5BpC,YAAc,SAACC,GACb,EAAK7G,SAAS,CAAC+E,MAAO8B,K,EAGxBC,WAAa,SAACD,GACZ,EAAK7G,SAAS,CAACyB,KAAMoF,K,EAGvBoC,aAAe,SAAClI,GACd,EAAKf,SAAS,CAACP,WAAW,IAC1B,IAAMqI,EAAO/G,EAAMC,OAAOkI,MAAM,GAC1BC,EAAa,IAAIC,SACvBD,EAAWE,OAAO,QAASvB,GAE3BJ,EAAiB4B,YAAYH,GAC1B1K,MAAK,SAACmJ,GACL,IAAMoB,EAAe,EAAKlJ,MAAMuD,SAChC2F,EAAapB,QAAUA,EACvB,EAAK5H,SAAS,CAAEqD,SAAU2F,EAAcvJ,WAAW,OAEpDQ,OAAM,SAACsJ,GAAD,OAAWpJ,QAAQC,IAAImJ,O,EAGlCK,eAAiB,SAAC9H,GAChB,IAAMW,EAAK,EAAK3C,MAAMuD,SAASL,IADT,EAG0C,EAAKlD,MAAMuD,SAAtEJ,EAHiB,EAGjBA,MAAO6B,EAHU,EAGVA,YAAa5B,EAHH,EAGGA,SAAUyE,EAHb,EAGaA,UAAWC,EAHxB,EAGwBA,QAASC,EAHjC,EAGiCA,MACjD9C,EAAQ,EAAKjF,MAAMiF,MAAMzE,MACzBmB,EAAO,EAAK3B,MAAM2B,KAAKnB,MACvBkJ,EAAUC,KAAW9B,GAC3B,OAAO6B,EAAQE,SACb,IAAK,UACD/B,EAAS,wCAAoC6B,EAAQ/G,IACvD,MACF,IAAK,QACDkF,EAAS,yCAAqC6B,EAAQ/G,IACxD,MACF,QACIkF,EAAY,GAGlBD,EAAiBmC,UAAU,CAAC5G,QAAO6B,cAAa5B,WAAU6B,QAAOtD,OAAMkG,YAAWC,UAASC,SAAQpF,GAChGhE,MAAM,SAACqL,GACN,EAAK9J,SAAS,CAAEqD,SAAUyG,IAC1B,EAAKnK,MAAM6H,QAAQiB,YAEpBxI,OAAO,SAACC,GAAD,OAASC,QAAQC,IAAIF,O,EAGjC6J,eAAiB,WACfrC,EAAiBsC,UAAU,EAAKlK,MAAMuD,SAASL,KAC5CvE,MAAM,WACL,EAAKkB,MAAM6H,QAAQC,KAAK,eAEzBxH,OAAO,SAACC,GAAD,OAASC,QAAQC,IAAIF,O,mFAGZ,IAAD,OAClBmE,OAAOC,SAAS,EAAG,GADD,IAEX7B,EAAM7E,KAAK+B,MAAMyI,MAAMC,OAAvB5F,GACPiF,EAAiBY,OAAO7F,GACrBhE,MAAM,SAAC4E,GACN,IAAM0B,EAAQ,CACZzE,MAAO+C,EAAS0B,MAChBkB,MAAM,GAAD,OAAK5C,EAAS0B,MAAMkF,OAAO,GAAGC,eAA9B,OAA8C7G,EAAS0B,MAAMoF,MAAM,KAEpE1I,EAAO,CACXnB,MAAO+C,EAAS5B,KAChBwE,MAAM,GAAD,OAAK5C,EAAS5B,KAAKwI,OAAO,GAAGC,eAA7B,OAA6C7G,EAAS5B,KAAK0I,MAAM,KAExE,EAAKnK,SAAS,CAACqD,WAAU0B,QAAOtD,YAEjCxB,OAAO,SAACC,GAAD,OAASC,QAAQC,IAAIF,Q,+BAGvB,IAAD,OACP,OACE,0BAAMe,UAAU,WAEd,4BAAQA,UAAU,WAAWkB,QAAS,kBAAM,EAAKxC,MAAM6H,QAAQiB,WAC7D,yBAAKvH,IAAK,aAAcD,UAAU,YAAYE,IAAI,MAEpD,yBAAKF,UAAU,kBACb,6CACA,4BAAQA,UAAU,iBAAiBkB,QAASvE,KAAKmM,gBAAjD,WAGF,0BAAM3I,SAAUxD,KAAK+B,MAAMgB,aAAa/C,KAAKgM,gBAAiB3I,UAAU,cACxE,2BAAO0I,QAAQ,IAAf,SACE,2BAAO1I,UAAU,QAAQQ,KAAK,OAAOnB,MAAO1C,KAAKkC,MAAMuD,SAASJ,MACxD5E,KAAK,QACLgD,SAAUzD,KAAKkL,YACfxH,IAAK1D,KAAK+B,MAAMe,SAAS,CAAEa,UAAU,MAE5C3D,KAAK+B,MAAMiB,OAAOqC,OAAS,0BAAMhC,UAAU,aAE5C,2BAAO0I,QAAQ,IAAf,eACA,8BAAUrJ,MAAO1C,KAAKkC,MAAMuD,SAASyB,YAC3BzG,KAAK,cACLgD,SAAUzD,KAAKkL,YACfxH,IAAK1D,KAAK+B,MAAMe,SAAS,CAAEa,UAAU,MAE9C3D,KAAK+B,MAAMiB,OAAOkE,aAAe,0BAAM7D,UAAU,mCAElD,yBAAKA,UAAU,kBACb,yBAAKA,UAAU,0BACb,2BAAO0I,QAAQ,IAAf,SACE,kBAAC,IAAD,CACE1I,UAAU,SACVX,MAAO1C,KAAKkC,MAAMiF,MAClB1D,SAAUzD,KAAKgJ,YACfS,QAASrB,GACTzE,UAAQ,KAGd,yBAAKN,UAAU,0BACX,2BAAO0I,QAAQ,IAAf,QACA,kBAAC,IAAD,CACE1I,UAAU,SACVX,MAAO1C,KAAKkC,MAAM2B,KAClBJ,SAAUzD,KAAKkJ,WACfO,QAAS5F,GACTF,UAAQ,MAIhB,2BAAOoI,QAAQ,IAAf,SACA,2BAAO1I,UAAU,QAAQQ,KAAK,OAAOpD,KAAK,YAAYiC,MAAO1C,KAAKkC,MAAMuD,SAASsE,UAAWtG,SAAUzD,KAAKkL,cAC3G,2BAAOa,QAAQ,IAAf,SACA,2BAAOlI,KAAK,OAAOR,UAAU,oBAAoBwB,GAAG,aAAapE,KAAK,UAAUgD,SAAU,SAACN,GAAD,OAAS,EAAKkI,aAAalI,MACrH,yBAAKE,UAAU,kBACb,2BAAO0I,QAAQ,IAAf,YACA,2BAAO1I,UAAU,QAAQQ,KAAK,SACtBnB,MAAO1C,KAAKkC,MAAMuD,SAASH,SAC3B7E,KAAK,WACLgD,SAAUzD,KAAKkL,YACfxH,IAAK1D,KAAK+B,MAAMe,SAAS,CAAEa,UAAU,MAE7C,qCACA,2BAAOlD,KAAK,SAAZ,SACA,2BAAO4C,UAAU,UACf,2BAAOQ,KAAK,WAAWpD,KAAK,QAAQ0K,QAASnL,KAAKkC,MAAMuD,SAASwE,MAAOxG,SAAUzD,KAAKkL,cACvF,0BAAM7H,UAAU,mBAGnBrD,KAAK+B,MAAMiB,OAAOsC,UAAY,0BAAMjC,UAAU,gCAE7CrD,KAAKkC,MAAML,UACN,4BAAQ2K,UAAQ,EAACnJ,UAAU,mCAC1B,yBAAKA,UAAU,cAAcC,IAAK,eAAgBC,IAAI,aAExD,4BAAQF,UAAU,mBAAlB,c,GA1KWrB,cCmEZyK,G,YAhFb,WAAY1K,GAAQ,IAAD,8BACjB,4CAAMA,KAEDG,MAAQ,CACX8C,SAAU,EAAKjD,MAAMiD,UAJN,E,iFAQE,IAAD,OAClByB,OAAOC,SAAS,EAAG,GADD,IAEX7B,EAAM7E,KAAK+B,MAAMyI,MAAMC,OAAvB5F,GACP4C,EAAgBiD,OAAO7F,GACpBhE,MAAM,SAACmE,GACN,EAAK5C,SAAS,CAAC4C,gBAEhB3C,OAAO,SAACC,GAAD,OAASC,QAAQC,IAAIF,Q,+BAGvB,IAAD,OACD0C,EAAWhF,KAAKkC,MAAM8C,SAE5B,OACE,yBAAK3B,UAAU,WACb,4BAAQA,UAAU,WAAWkB,QAAS,kBAAM,EAAKxC,MAAM6H,QAAQC,KAAK,mBAClE,yBAAKvG,IAAK,aAAcD,UAAU,YAAYE,IAAI,MAGlDyB,EAEE,yBAAK3B,UAAU,iBACb,yBAAKA,UAAU,yBACb,yBAAKA,UAAU,mBACb,4BAAK2B,EAASK,OACd,kBAAC,IAAD,CAAMtB,GAAE,wBAAmBiB,EAASI,IAA5B,UAAwC,4BAAQ/B,UAAU,gBAAlB,UAGlD,yBAAKA,UAAU,0CACb,2BACE,2CAAyB2B,EAASmC,MAClC,mCACA,8BAAM,yBAAK7D,IAAK,iBAAkBD,UAAU,mBAAmB2B,EAASM,SAAxE,WAIN,2CACA,2BAAIN,EAASkC,aAEb,yCACA,yBAAK7D,UAAU,oBACZ2B,EAASO,UAAUC,KAAK,SAACC,EAAUC,GAClC,OAEI,yBAAKrC,UAAU,sDAAsD4B,IAAKS,GACxE,kBAAC,IAAD,CAAM3B,GAAE,mBAAc0B,EAASL,MAC7B,yBAAK/B,UAAU,kBACb,2BAAG,gCAASqC,EAAE,EAAX,KAAgBD,EAASJ,QAC5B,0BAAMhC,UAAS,oBAAeoC,EAAS5B,OAAS4B,EAAS5B,OAE3D,2BAAG,2CAAyB4B,EAAS0B,OACrC,8BAAM,yBAAK7D,IAAK,iBAAkBD,UAAU,mBAAmBoC,EAASH,SAAxE,QACA,2BAAIG,EAASyB,kBAMvB,uBAAGiB,cAAY,SACf,uBAAGA,cAAY,WAInB,U,GAzEkBnG,aCAxBoG,GAAS,CACb,CAAE1F,MAAO,MAAO2F,MAAO,OACvB,CAAE3F,MAAO,QAAS2F,MAAO,SACzB,CAAE3F,MAAO,aAAc2F,MAAO,cAC9B,CAAE3F,MAAO,WAAY2F,MAAO,aA0MfqE,G,2MArMbxK,MAAQ,CACN8C,SAAU,GACVqC,WAAY,GACZsF,kBAAmB,GACnBpM,KAAM,GACN4G,MAAO,I,EAGT+D,YAAc,SAAAhH,GAAM,IAAD,EACOA,EAAEd,OAAlB3C,EADS,EACTA,KAAMiC,EADG,EACHA,MACRkK,EAAe,EAAK1K,MAAM8C,SAChC4H,EAAanM,GAAQiC,EACrB,EAAKN,SAAS,CAAE4C,SAAU4H,K,EAG5BC,aAAe,SAAC3I,GACdA,EAAEkF,iBACF,IAAMvE,EAAK,EAAK3C,MAAM8C,SAASI,IAFX,EAGqB,EAAKlD,MAAM8C,SAA5CK,EAHY,EAGZA,MAAO6B,EAHK,EAGLA,YAAa5B,EAHR,EAGQA,SACtB6B,EAAQ,EAAKjF,MAAMiF,MAAMzE,MAC/BoK,EAAiBb,UAAU,CAAE5G,QAAO6B,cAAa5B,WAAU6B,SAAStC,GACjEhE,MAAM,SAAC0G,GACN,EAAKnF,SAAS,CAAE4C,SAAUuC,IAC1B,EAAKxF,MAAM6H,QAAQC,KAAnB,wBAAyChF,OAE1CxC,OAAO,SAACC,GAAD,OAASC,QAAQC,IAAIF,O,EAGjCyK,kBAAoB,SAAC7I,GACnBA,EAAEkF,iBACF,IAAM/B,EAAa,EAAKnF,MAAM8C,SAASI,IACvC0H,EAAiBV,UAAU/E,GACxBxG,MAAM,kBAAM,EAAKkB,MAAM6H,QAAQC,KAAK,oBACpCxH,OAAO,SAACC,GAAD,OAASC,QAAQC,IAAIF,O,EAGjCgE,YAAc,SAACgB,GACb,IAAMD,EAAa,EAAKnF,MAAM8C,SAASI,IACvC0H,EAAiBxG,YAAYe,EAAYC,GACtCzG,MAAM,SAACmM,GACN,IAAML,EAAoBK,EAAOlM,KAAKyE,UACtC,EAAKnD,SAAS,CAACuK,yBAEhBtK,OAAO,SAACC,GAAD,OAASC,QAAQC,IAAIF,O,EAGjC0G,YAAc,SAACC,GACb,EAAK7G,SAAS,CAAC+E,MAAO8B,K,EAGxBgE,2BAA6B,SAAC3F,GAC5BwF,EAAiBX,eAAe,EAAKjK,MAAM8C,SAASI,IAAKkC,GACtDzG,MAAM,SAACC,GACN,IAAM6L,EAAoB7L,EAAKyE,UAC/B,EAAKnD,SAAS,CAACuK,yBAEhBtK,OAAO,SAACC,GAAD,OAASC,QAAQC,IAAIF,O,mFAGZ,IAAD,OAClBmE,OAAOC,SAAS,EAAE,GASlBoG,EAAiB3M,OAAO,CAACkF,MALX,IAKkB6B,YAJZ,IAIyB5B,SAH5B,IAGsC6B,MAFzC,MAGXtG,MAAM,SAACoG,GACNlB,EAAeY,UACZ9F,MAAM,SAAC+F,GACN,EAAKxE,SAAS,CAAC4C,SAAUiC,EACXI,WAAYJ,EAAY7B,IACxBuH,kBAAmB1F,EAAY1B,UAC/BhF,KAAMqG,OAGrBvE,OAAO,SAACC,GAAD,OAASC,QAAQC,IAAIF,W,+BAI3B,IAAD,OACD0C,EAAWhF,KAAKkC,MAAM8C,SACtB2H,EAAoB3M,KAAKkC,MAAMyK,kBAC/B9F,EAAgB7G,KAAKkC,MAAM3B,KAAKgF,UAChCU,EAAiBjG,KAAKkC,MAAM3B,KAAK0F,eAGvC,OACE,0BAAM5C,UAAU,WACd,4BAAQA,UAAU,WAAWkB,QAAS,kBAAM,EAAKxC,MAAM6H,QAAQiB,WAC7D,yBAAKvH,IAAK,aAAcD,UAAU,YAAYE,IAAI,MAEpD,4CACA,yBAAKF,UAAU,iBACb,6BAASA,UAAU,uBACjB,0BAAMG,SAAUxD,KAAK6M,aAAcxJ,UAAU,cAC3C,2BAAO0I,QAAQ,IAAf,SACA,2BAAO1I,UAAU,QAAQQ,KAAK,OAAOnB,MAAOsC,EAASK,MAAO5E,KAAK,QAAQgD,SAAUzD,KAAKkL,cACxF,2BAAOa,QAAQ,IAAf,eACA,8BAAUrJ,MAAOsC,EAASkC,YAAazG,KAAK,cAAcgD,SAAUzD,KAAKkL,cACzE,yBAAK7H,UAAU,kBACb,2BAAO0I,QAAQ,IAAf,YACA,2BAAO1I,UAAU,QAAQQ,KAAK,SAASnB,MAAOsC,EAASM,SAAU7E,KAAK,WAAWgD,SAAUzD,KAAKkL,YAAavH,UAAQ,IACrH,sCAEF,2BAAOoI,QAAQ,IAAf,SACA,kBAAC,IAAD,CACE1I,UAAU,SACVX,MAAO1C,KAAKkC,MAAMiF,MAClB1D,SAAUzD,KAAKgJ,YACfS,QAASrB,KAEX,4BAAQ/E,UAAU,mBAAlB,QACA,4BAAQA,UAAU,iBAAiBkB,QAASvE,KAAK+M,mBAAjD,WAEF,yBAAK1J,UAAU,kBACb,yCAEEsJ,EAAkB7G,OAEd6G,EAAkBnH,KAAK,SAACC,EAAUC,GAChC,OACE,yBAAKrC,UAAU,2BAA2B4B,IAAKS,GAC7C,yBAAKrC,UAAU,sDAAsD4B,IAAKS,GACxE,kBAAC,IAAD,CAAM3B,GAAE,mBAAc0B,EAASL,MAC7B,yBAAK/B,UAAU,kBACb,2BAAG,gCAASqC,EAAE,EAAX,KAAgBD,EAASJ,QAC5B,0BAAMhC,UAAS,oBAAeoC,EAAS5B,OAAS4B,EAAS5B,OAE3D,2BAAG,2CAAyB4B,EAAS0B,OACrC,2BAAG,8CAA4B1B,EAASH,UACxC,2BAAIG,EAASyB,eAIjB,yBAAK7D,UAAU,qCACb,4BAAQA,UAAU,WAAWkB,QAAS,kBAAM,EAAK0I,2BAA2BxH,EAASL,OACnF,yBAAK9B,IAAK,WAAYC,IAAI,kBAAkBF,UAAU,2BASlE,2BAAG,qDAIX,6BAASA,UAAU,iCAEfwD,EACI,+CAAqBA,EAAcf,OAAnC,KACA,kDAEJe,EAEM,kBAAC,EAAD,CACEtB,UAAWsB,EACXT,OAAQpG,KAAKkC,MAAM3B,KAAK6E,IACxBiB,gBAAgB,EAChBC,YAAatG,KAAKsG,cAGpB,MAGV,6BAASjD,UAAU,kCAEf4C,EACI,gDAAsBA,EAAeH,OAArC,KACA,mDAGJG,EAEI,kBAAC,EAAD,CACEV,UAAWU,EACXG,OAAQpG,KAAKkC,MAAM3B,KAAK6E,IACxBiB,gBAAgB,EAChBC,YAAatG,KAAKsG,cAGtB,Y,GA7LUtE,a,SCTpBoG,GAAS,CACb,CAAE1F,MAAO,MAAO2F,MAAO,OACvB,CAAE3F,MAAO,QAAS2F,MAAO,SACzB,CAAE3F,MAAO,aAAc2F,MAAO,cAC9B,CAAE3F,MAAO,WAAY2F,MAAO,aAGxBxE,GAAO,CACX,CAAEnB,MAAO,MAAO2F,MAAO,OACvB,CAAE3F,MAAO,SAAU2F,MAAO,UAC1B,CAAE3F,MAAO,SAAU2F,MAAO,UAC1B,CAAE3F,MAAO,UAAW2F,MAAO,WAC3B,CAAE3F,MAAO,KAAM2F,MAAO,2BACtB,CAAE3F,MAAO,UAAW2F,MAAO,WAC3B,CAAE3F,MAAO,WAAY2F,MAAO,aAwKf6E,G,YAnKb,WAAYnL,GAAQ,IAAD,8BACjB,4CAAMA,KAsCRiK,eAAiB,SAAC9H,GAChBA,EAAEkF,iBACF,IAAMvE,EAAK,EAAK3C,MAAMuD,SAASL,IAFT,EAGyD,EAAKlD,MAAMuD,SAAnFJ,EAHe,EAGfA,MAAO6B,EAHQ,EAGRA,YAAa5B,EAHL,EAGKA,SAAU6B,EAHf,EAGeA,MAAOtD,EAHtB,EAGsBA,KAAMkG,EAH5B,EAG4BA,UAAWC,EAHvC,EAGuCA,QAASC,EAHhD,EAGgDA,MACtEH,EAAiBmC,UAAU,CAAC5G,QAAO6B,cAAa5B,WAAU6B,QAAOtD,OAAMkG,YAAWC,UAASC,SAAQpF,GAChGhE,MAAM,SAACqL,GACN,EAAKnK,MAAMoL,aAAajB,GACxB,EAAKnK,MAAMqL,WAEZ/K,OAAO,SAACC,GAAD,OAASC,QAAQC,IAAIF,OAhDd,EAmDnBY,aAAe,SAAAgB,GACbA,EAAEkF,iBADgB,MAGMlF,EAAEd,OAAlB3C,EAHU,EAGVA,KAAMiC,EAHI,EAGJA,MACdH,QAAQC,IAAI/B,EAAKiC,GAEjB,IAAM0I,EAAe,EAAKlJ,MAAMuD,SAChC2F,EAAa3K,GAAQiC,EACR,aAATjC,EACF,EAAK2B,SAAS,CAAEqD,SAAU2F,EAAciC,WAAY5M,IAEpD,EAAK2B,SAAS,CAAEqD,SAAU2F,KA9DX,EAkEnBpC,YAAc,SAACC,GACb,EAAK7G,SAAS,CAAC+E,MAAO8B,KAnEL,EAsEnBC,WAAa,SAACD,GACZ,EAAK7G,SAAS,CAACyB,KAAMoF,KAvEJ,EA0EnBoC,aAAe,SAAClI,GACd,EAAKf,SAAS,CAACP,WAAW,IAC1B,IAAMqI,EAAO/G,EAAMC,OAAOkI,MAAM,GAC1BC,EAAa,IAAIC,SACvBD,EAAWE,OAAO,QAASvB,GAE3BJ,EAAiB4B,YAAYH,GAC1B1K,MAAK,SAACmJ,GACL,IAAMoB,EAAe,EAAKlJ,MAAMuD,SAChC2F,EAAapB,QAAUA,EACvB,EAAK5H,SAAS,CAAEqD,SAAU2F,EAAcvJ,WAAW,IACnDU,QAAQC,IAAIwH,MAEb3H,OAAM,SAACsJ,GAAD,OAAWpJ,QAAQC,IAAImJ,OApFhC,EAAKzJ,MAAQ,CACXuD,SAAU,KACV4H,gBAAYC,EACZnG,MAAO,GACPtD,KAAM,GACNhC,WAAW,GAGb,EAAK0L,WAAa,CAChBlI,MAAOlE,IAAMqM,YACbtG,YAAa/F,IAAMqM,YACnBlI,SAAUnE,IAAMqM,YAChBrG,MAAOhG,IAAMqM,YACb3J,KAAM1C,IAAMqM,YACZzD,UAAW5I,IAAMqM,YACjBxD,QAAS7I,IAAMqM,YACfvD,MAAO9I,IAAMqM,aAIf,EAAKC,eAAiB,EAAKA,eAAeC,KAApB,iBAvBL,E,8EA2BA,IACTL,EAAerN,KAAKkC,MAApBmL,WACR,GAAIA,EAAY,CAEd,IAAMM,EAAe3N,KAAKuN,WAAWF,GAAYO,QAEjDD,EAAaE,QACbF,EAAaG,eAAiBH,EAAajL,MAAMoD,U,2CAyDnD9F,KAAKyN,mB,0CAIL,IAAMhI,EAAWzF,KAAK+B,MAAM0D,SACtB0B,EAAQ,CACZzE,MAAO+C,EAAS0B,MAChBkB,MAAM,GAAD,OAAK5C,EAAS0B,MAAMkF,OAAO,GAAGC,eAA9B,OAA8C7G,EAAS0B,MAAMoF,MAAM,KAEpE1I,EAAO,CACXnB,MAAO+C,EAAS5B,KAChBwE,MAAM,GAAD,OAAK5C,EAAS5B,KAAKwI,OAAO,GAAGC,eAA7B,OAA6C7G,EAAS5B,KAAK0I,MAAM,KAExEvM,KAAKoC,SAAS,CAACqD,WAAU0B,QAAOtD,W,+BAGxB,IAAD,OACP,OACE,yBAAKR,UAAcrD,KAAK+B,MAAMgM,YAAc,qBAAuB,uBAAwB9I,IAAKC,IAAQC,YACtG,yBAAK9B,UAAU,0BAA0BkB,QAASvE,KAAK+B,MAAMqL,QAE7D,yBAAK/J,UAAU,iCACb,6CACA,4BAAQA,UAAU,gBAAgBkB,QAASvE,KAAK+B,MAAMqL,OAAtD,KAE0B,OAAxBpN,KAAKkC,MAAMuD,SACX,uCAEE,0BAAMjC,SAAUxD,KAAKgM,eAAgB3I,UAAU,cAC7C,2BAAO0I,QAAQ,IAAf,SACA,2BAAO1I,UAAU,QAAQQ,KAAK,OAAOnB,MAAO1C,KAAKkC,MAAMuD,SAASJ,MAAO5E,KAAK,QAAQgD,SAAUzD,KAAKkD,aAAcQ,IAAK1D,KAAKuN,WAAL,QACtH,2BAAOxB,QAAQ,IAAf,eACA,8BAAUrJ,MAAO1C,KAAKkC,MAAMuD,SAASyB,YAAazG,KAAK,cAAcgD,SAAUzD,KAAKkD,aAAeQ,IAAK1D,KAAKuN,WAAL,cACxG,2BAAOxB,QAAQ,IAAf,YACA,2BAAO1I,UAAU,QAAQQ,KAAK,SAASnB,MAAO1C,KAAKkC,MAAMuD,SAASH,SAAU7E,KAAK,WAAWgD,SAAUzD,KAAKkD,eAC3G,2BAAO6I,QAAQ,IAAf,SACE,kBAAC,IAAD,CACE1I,UAAU,SACVX,MAAO1C,KAAKkC,MAAMiF,MAClB1D,SAAUzD,KAAKgJ,YACfS,QAASrB,GACT/D,YAAarE,KAAKkC,MAAMuD,SAAS0B,MACjCxD,UAAQ,IAEZ,2BAAOoI,QAAQ,IAAf,QACE,kBAAC,IAAD,CACE1I,UAAU,SACVX,MAAO1C,KAAKkC,MAAM2B,KAClBJ,SAAUzD,KAAKkJ,WACfO,QAAS5F,GACTF,UAAQ,IAEZ,2BAAOoI,QAAQ,IAAf,SACA,2BAAO1I,UAAU,QAAQQ,KAAK,OAAOpD,KAAK,YAAYiC,MAAO1C,KAAKkC,MAAMuD,SAASsE,UAAWtG,SAAUzD,KAAKkD,aAAeQ,IAAK1D,KAAKuN,WAAL,YAC/H,2BAAOxB,QAAQ,IAAf,SACA,2BAAOlI,KAAK,OAAOR,UAAU,oBAAoBwB,GAAG,aAAapE,KAAK,UAAUgD,SAAU,SAACN,GAAD,OAAS,EAAKkI,aAAalI,MAErHnD,KAAKkC,MAAML,UACN,4BAAQ2K,UAAQ,EAACnJ,UAAU,mCAC1B,yBAAKA,UAAU,cAAcC,IAAK,eAAgBC,IAAI,aAExD,4BAAQF,UAAU,mBAAlB,e,GA1JerB,aCd7BoG,GAAS,CACb,CAAE1F,MAAO,MAAO2F,MAAO,OACvB,CAAE3F,MAAO,QAAS2F,MAAO,SACzB,CAAE3F,MAAO,aAAc2F,MAAO,cAC9B,CAAE3F,MAAO,WAAY2F,MAAO,aA+Of2F,G,2MA1Ob9L,MAAQ,CACN8C,SAAU,GACV2H,kBAAmB,GACnBpM,KAAM,GACN0N,UAAU,EACVC,eAAgB,KAChB/G,MAAO,I,EAGT+D,YAAc,SAAAhH,GAAM,IAAD,EACOA,EAAEd,OAAlB3C,EADS,EACTA,KAAMiC,EADG,EACHA,MACRkK,EAAe,EAAK1K,MAAM8C,SAChC4H,EAAanM,GAAQiC,EACrB,EAAKN,SAAS,CAAE4C,SAAU4H,K,EAG5B5D,YAAc,SAACC,GACb,EAAK7G,SAAS,CAAC+E,MAAO8B,K,EAGxBkF,eAAiB,SAACjK,GAChBA,EAAEkF,iBACF,IAAMvE,EAAK,EAAK3C,MAAM8C,SAASI,IAFT,EAGmB,EAAKlD,MAAM8C,SAA5CK,EAHc,EAGdA,MAAO6B,EAHO,EAGPA,YAAa5B,EAHN,EAGMA,SAEtB6B,EAAQ,EAAKjF,MAAMiF,MAAMzE,MAE/BoK,EAAiBb,UAAU,CAAE5G,QAAO6B,cAAa5B,WAAU6B,SAAStC,GACjEhE,MAAM,SAAC0G,GACN,EAAKnF,SAAS,CAAE4C,SAAUuC,IAC1B,EAAKxF,MAAM6H,QAAQC,KAAnB,wBAAyChF,OAE1CxC,OAAO,SAACC,GAAD,OAASC,QAAQC,IAAIF,O,EAGjC6K,aAAe,SAACiB,GACd,IAAMC,EAAW,EAAKnM,MAAMyK,kBAEtB2B,EAAkBD,EAASlF,QAAQ,SAAC1D,EAAUC,GAClD,GAAID,EAASL,MAAQgJ,EAAUhJ,IAC7B,OAAOM,KAIX2I,EAASC,GAAmBF,EAC5B,EAAKhM,SAAS,CAACuK,kBAAmB0B,K,EAIpC/H,YAAc,SAACgB,GACb,IAAMD,EAAa,EAAKnF,MAAM8C,SAASI,IAEvC0H,EAAiBxG,YAAYe,EAAYC,GACtCzG,MAAM,SAACmM,GACN,IAAML,EAAoBK,EAAOlM,KAAKyE,UACtC,EAAKnD,SAAS,CAACuK,yBAEhBtK,OAAO,SAACC,GAAD,OAASC,QAAQC,IAAIF,O,EAGjCiM,eAAiB,SAACrK,GAChBA,EAAEkF,iBACF,IAAM/B,EAAa,EAAKnF,MAAM8C,SAASI,IACvC0H,EAAiBV,UAAU/E,GACxBxG,MAAM,kBAAM,EAAKkB,MAAM6H,QAAQC,KAAK,oBACpCxH,OAAO,SAACC,GAAD,OAASC,QAAQC,IAAIF,O,EAGjC2K,2BAA6B,SAAC3F,GAC5B/E,QAAQC,IAAI,MACZsK,EAAiBX,eAAe,EAAKjK,MAAM8C,SAASI,IAAKkC,GACtDzG,MAAM,SAACC,GACN,IAAM6L,EAAoB7L,EAAKyE,UAC/B,EAAKnD,SAAS,CAACuK,yBAEhBtK,OAAO,SAACC,GAAD,OAASC,QAAQC,IAAIF,O,EAGjCkM,WAAa,SAAC/I,GACZ,IAAMgJ,GAAQ,EAAKvM,MAAM+L,SACzB,EAAK7L,SACH,CAAC6L,SAAUQ,EACXP,eAAgBzI,K,mFAIC,IAAD,OAClBgB,OAAOC,SAAS,EAAG,GADD,IAEX7B,EAAM7E,KAAK+B,MAAMyI,MAAMC,OAAvB5F,GAEPiI,EAAiBpC,OAAO7F,GACrBhE,MAAM,SAACmE,GACNe,EAAeY,UACZ9F,MAAM,SAAC+F,GACN,IAAMO,EAAQ,CACZzE,MAAOsC,EAASmC,MAChBkB,MAAM,GAAD,OAAKrD,EAASmC,MAAMkF,OAAO,GAAGC,eAA9B,OAA8CtH,EAASmC,MAAMoF,MAAM,KAE1E,EAAKnK,SAAS,CAAC4C,WAAU2H,kBAAmB3H,EAASO,UAAWhF,KAAMqG,EAAUO,aAEjF9E,OAAO,SAACC,GAAD,OAASC,QAAQC,IAAIF,W,+BAK3B,IAAD,OACD0C,EAAWhF,KAAKkC,MAAM8C,SACtB2H,EAAoB3M,KAAKkC,MAAMyK,kBAC/B9F,EAAgB7G,KAAKkC,MAAM3B,KAAKgF,UAChCU,EAAiBjG,KAAKkC,MAAM3B,KAAK0F,eAEvC,OACE,0BAAM5C,UAAU,WACd,4BAAQA,UAAU,WAAWkB,QAAS,kBAAM,EAAKxC,MAAM6H,QAAQiB,WAC7D,yBAAKvH,IAAK,aAAcD,UAAU,YAAYE,IAAI,MAEpD,yBAAKF,UAAU,mBACb,6CACA,4BAAQA,UAAU,iBAAiBkB,QAASvE,KAAKuO,gBAAjD,oBAEF,yBAAKlL,UAAU,iBACZrD,KAAKkC,MAAM+L,SAER,kBAAC,GAAD,CACEF,YAAa/N,KAAKkC,MAAM+L,SACxBb,MAAOpN,KAAKwO,WACZrB,aAAcnN,KAAKmN,aACnB1H,SAAUzF,KAAKkC,MAAMgM,iBAGxB,KAGH,6BAAS7K,UAAU,uBACjB,0BAAMG,SAAUxD,KAAKmO,eAAgBO,MAAM,cACzC,2BAAO3C,QAAQ,IAAf,SACA,2BAAO2C,MAAM,QAAQ7K,KAAK,OAAOnB,MAAOsC,EAASK,MAAO5E,KAAK,QAAQgD,SAAUzD,KAAKkL,cACpF,2BAAOa,QAAQ,IAAf,eACA,8BAAUrJ,MAAOsC,EAASkC,YAAazG,KAAK,cAAcgD,SAAUzD,KAAKkL,cACzE,yBAAK7H,UAAU,kBACb,2BAAO0I,QAAQ,IAAf,YACA,2BAAO1I,UAAU,QAAQQ,KAAK,SAASnB,MAAOsC,EAASM,SAAU7E,KAAK,WAAWgD,SAAUzD,KAAKkL,YAAavH,UAAQ,IACrH,sCAEF,2BAAOoI,QAAQ,IAAf,SACI,kBAAC,IAAD,CACE1I,UAAU,SACVX,MAAO1C,KAAKkC,MAAMiF,MAClB1D,SAAUzD,KAAKgJ,YACfS,QAASrB,GACT/D,YAAaW,EAASmC,MACtBxD,UAAQ,IAEd,4BAAQN,UAAU,mBAAlB,SAEF,yBAAKA,UAAU,kBACb,yCAEEsJ,EAAkB7G,OAEd6G,EAAkBnH,KAAK,SAACC,EAAUC,GAChC,OACE,yBAAKrC,UAAU,2BAA2B4B,IAAKS,GAC7C,yBAAKrC,UAAU,sDAAsD4B,IAAKS,GACxE,kBAAC,IAAD,CAAM3B,GAAE,mBAAc0B,EAASL,MAC7B,yBAAK/B,UAAU,kBACb,2BAAG,gCAASqC,EAAE,EAAX,KAAgBD,EAASJ,QAC5B,0BAAMhC,UAAS,oBAAeoC,EAAS5B,OAAS4B,EAAS5B,OAE3D,2BAAG,2CAAyB4B,EAAS0B,OACrC,8BAAM,yBAAK7D,IAAK,iBAAkBD,UAAU,mBAAmBoC,EAASH,SAAxE,QACA,2BAAIG,EAASyB,eAIjB,yBAAK7D,UAAU,qCACb,4BAAQA,UAAU,eAAekB,QAAS,kBAAM,EAAKiK,WAAW/I,KAAhE,QACA,4BAAQpC,UAAU,WAAWkB,QAAS,kBAAM,EAAK0I,2BAA2BxH,EAASL,OACnF,yBAAK9B,IAAK,WAAYC,IAAI,kBAAkBF,UAAU,2BASlE,2BAAG,qDAIX,6BAASA,UAAU,iCAEfwD,EACI,+CAAqBA,EAAcf,OAAnC,KACA,kDAEJe,EAEM,kBAAC,EAAD,CACEtB,UAAWsB,EACXT,OAAQpG,KAAKkC,MAAM3B,KAAK6E,IACxBiB,gBAAgB,EAChBC,YAAatG,KAAKsG,cAGpB,MAGV,6BAASjD,UAAU,kCAEf4C,EACI,gDAAsBA,EAAeH,OAArC,KACA,mDAGJG,EAEI,kBAAC,EAAD,CACEV,UAAWU,EACXG,OAAQpG,KAAKkC,MAAM3B,KAAK6E,IACxBiB,gBAAgB,EAChBC,YAAatG,KAAKsG,cAGtB,Y,GAnOWtE,aCYrB2M,I,iNAEJzM,MAAQ,CACN0M,aAAc,I,EAGhBC,aAAe,SAAC3K,EAAG2D,GACjB3D,EAAEkF,iBACF,EAAKrH,MAAM6H,QAAQC,KAAnB,2BAA4ChC,K,wEAI5C,OACE,yBAAKxE,UAAU,OAEb,kBAAC,EAAD,CAAWe,OAAQpE,KAAK6O,eAExB,kBAAC,EAAD,MACA,kBAAC,IAAD,KACE,kBAAC,EAAD,CAAWC,OAAK,EAACC,KAAK,UAAUvK,UAAWwK,IAC3C,kBAAC,EAAD,CAAWF,OAAK,EAACC,KAAK,SAASvK,UAAWyK,IAE1C,kBAAC,EAAD,CAAcH,OAAK,EAACC,KAAK,IAAIvK,UAAW0K,IAExC,kBAAC,EAAD,CAAcJ,OAAK,EAACC,KAAK,WAAWvK,UAAW2K,IAC/C,kBAAC,EAAD,CAAcL,OAAK,EAACC,KAAK,gBAAgBvK,UAAWgD,IACpD,kBAAC,EAAD,CAAcsH,OAAK,EAACC,KAAK,YAAYvK,UAAW8D,IAIhD,kBAAC,EAAD,CAAcwG,OAAK,EAACC,KAAK,wBAAwBvK,UAAW4K,KAC5D,kBAAC,EAAD,CAAcN,OAAK,EAACC,KAAK,gBAAgBvK,UAAWkF,IACpD,kBAAC,EAAD,CAAcoF,OAAK,EAACC,KAAK,eAAevK,UAAW4F,IACnD,kBAAC,EAAD,CAAc0E,OAAK,EAACC,KAAK,oBAAoBvK,UAAW6K,KAGxD,kBAAC,EAAD,CAAcP,OAAK,EAACC,KAAK,6BAA6BvK,UAAWkI,KACjE,kBAAC,EAAD,CAAcoC,OAAK,EAACC,KAAK,oBAAoBvK,UAAWiI,KACxD,kBAAC,EAAD,CAAcqC,OAAK,EAACC,KAAK,yBAAyBvK,UAAWwJ,KAG7D,kBAAC,EAAD,CAAcc,OAAK,EAACC,KAAK,gBAAgBvK,UAAW4F,U,GAzC5CpI,cAiDHsN,eAAWX,ICzE1BY,IAAS7K,OACP,kBAAC,IAAD,KACE,kBAAC,EAAD,KACE,kBAAC,GAAD,QAGJ8K,SAASC,eAAe,U","file":"static/js/main.2fd6c973.chunk.js","sourcesContent":["import axios from 'axios';\n\nclass Auth {\n  constructor() {\n    this.auth = axios.create({\n      baseURL: process.env.REACT_APP_API_URL,\n      withCredentials: true,\n    });\n  }\n\n  signup(user) {\n    const { email, name, lastName, password } = user;\n    return this.auth.post('/auth/signup', { email, name, lastName, password })\n      .then(({ data }) => data);\n  }\n\n  login(user) {\n    const { email, password } = user;\n    return this.auth.post('/auth/login', { email, password })\n      .then(({ data }) => data);\n  }\n\n  logout() {\n    return this.auth.post('/auth/logout', {})\n      .then(response => response.data);\n  }\n\n  edit(updatedUser) {\n    const { email, name, lastName, password } = updatedUser;\n    return this.auth\n      .put('/auth/me', { email, name, lastName, password })\n      .then(response => response.data);\n  }\n\n  me() {\n    return this.auth\n      .get('/auth/me')\n      .then(response => response.data);\n  }\n}\n\nconst axiosRequestFunctions = new Auth();\n\nexport default axiosRequestFunctions;\n","//\tservices\n//AuthProvider.js\n\nimport React from 'react';\nimport authService from './auth-service'; // IMPORT functions for axios requests to API\nconst { Consumer, Provider } = React.createContext();\n\n// HOC to create Consumer\nconst withAuth = WrappedComponent => {\n  return class extends React.Component {\n    render() {\n      return (\n        <Consumer>\n          {/* <Consumer> component provides callback which receives Providers \"value\" object */}\n          {/* (value) => { <WrappedComponent />}  */}\n          {({ login, signup, user, logout, isLoggedin, isLoading, isUserInvalid }) => {\n            return (\n              <WrappedComponent\n                login={login}\n                signup={signup}\n                user={user}\n                logout={logout}\n                isLoggedin={isLoggedin}\n                isLoading={isLoading}\n                isUserInvalid={isUserInvalid}\n                {...this.props}\n              />\n            );\n          }}\n        </Consumer>\n      );\n    }\n  };\n};\n\n// Provider --> provides my hoc with functions\nclass AuthProvider extends React.Component {\n  state = { \n    isLoggedin: false, \n    user: null, \n    isLoading: true,\n    isUserInvalid: false,\n  };\n\n  componentDidMount() {\n    authService.me()\n      .then(user =>\n        this.setState({ isLoggedin: true, user: user, isLoading: false }),\n      )\n      .catch(err =>\n        this.setState({ isLoggedin: false, user: null, isLoading: false }),\n      );\n  }\n\n  signup = user => {\n    const { email, name, lastName, password } = user;\n\n    authService.signup({ email, name, lastName, password })\n      .then(user => this.setState({ isLoggedin: true, user }))\n      .catch(err => console.log(err));\n  };\n\n  login = user => {\n    const { email, password } = user;\n\n    authService.login({ email, password })\n      .then(user => this.setState({ isLoggedin: true, user }))\n      .catch(err => {\n        this.setState({isUserInvalid: true})\n        console.log(err)\n      });\n  };\n\n  logout = () => {\n    authService.logout()\n      .then(() => this.setState({ isLoggedin: false, user: null }))\n      .catch(err => console.log(err));\n  };\n\n  render() {\n    const { isLoading, isLoggedin, user, isUserInvalid} = this.state;\n    const { login, logout, signup } = this;\n\n    return (\n      <Provider value={{ isLoading, isLoggedin, user, isUserInvalid, login, logout, signup}}>\n        {this.props.children}\n      </Provider>\n    );\n  }\n}\n\nexport { Consumer, withAuth };\n\nexport default AuthProvider;\n","import React from 'react';\nimport useForm from 'react-hook-form';\n\nconst withValidation = WrappedComponent => {\n  \n  return (props) => {\n    const { register, handleSubmit, errors} = useForm();\n    \n    return <WrappedComponent register={register} handleSubmit={handleSubmit} errors={errors} {...props}/>;\n  };\n  \n}\n\nexport {withValidation};\n\n// this hoc is going to be used in all different forms to validate the inputs\n// and to give feedback to user so that he/she knows what to write and what inputs\n// are required","import React, { Component } from 'react';\nimport { Link } from 'react-router-dom';\nimport { withAuth } from '../services/AuthProvider';\nimport { withValidation } from '../hoc/widthValidation';\n\nclass Signup extends Component {\n  state = { \n    email: '', \n    name: '',\n    lastName: '',\n    password: '' \n  };\n\n  handleFormSubmit = () => {\n    const { email, name, lastName, password } = this.state;\n    this.props.signup({ email, name, lastName, password }); // props.signup is Provided by withAuth() and Context API\n  };\n\n  handleChange = event => {\n    const { name, value } = event.target;\n    this.setState({ [name]: value });\n  };\n\n  render() {\n    const { email, name, lastName, password } = this.state;\n      \n    return (\n      \n      <div className=\"auth-container\">\n\n        <section>\n          <div className=\"img-container\">\n            <img src={'/logo.png'} alt=\"\"/>\n          </div>\n          <h1>Training made easy</h1>\n          <h2>Your final training preparation tool</h2>\n        </section>\n\n        <section>\n          <h2>Sign Up</h2>\n          <form onSubmit={this.props.handleSubmit(this.handleFormSubmit)}>\n            <label>Email</label>\n            <input\n              name=\"email\"\n              value={email}\n              onChange={this.handleChange}\n              ref={this.props.register({ required: true, pattern: /^\\S+@\\S+$/i})}\n            />\n            {this.props.errors.email && <span className=\"feedback\"></span>}\n            {this.props.errors.email \n              &&  this.props.errors.email.type === 'pattern' \n              && <span className=\"feedback-text\">Enter a valid email</span>\n            }\n            \n            <label>Name</label>\n            <input\n              type=\"text\"\n              name=\"name\"\n              value={name}\n              onChange={this.handleChange}\n              ref={this.props.register({ required: true })}\n            />\n            {this.props.errors.name &&  this.props.errors.name.type === 'required' && <span className=\"feedback\"></span>}\n\n            <label>Last name</label>\n            <input\n              type=\"text\"\n              name=\"lastName\"\n              value={lastName}\n              onChange={this.handleChange}\n              ref={this.props.register({ required: true })}\n            />\n            {this.props.errors.lastName &&  this.props.errors.lastName.type === 'required' && <span className=\"feedback\"></span>}\n\n            <label>Password</label>\n            <input\n              type=\"password\"\n              name=\"password\"\n              value={password}\n              onChange={this.handleChange}\n              ref={this.props.register({ required: true,  minLength: 6})}\n            />\n            {this.props.errors.password && <span className=\"feedback\"></span>}\n            {this.props.errors.password && this.props.errors.password.type === 'minLength' && <span className=\"feedback-text\">Password must have at least 6 characters!</span>}\n\n            <input className=\"btn btn-success\" type=\"submit\" value=\"Signup\" />\n          </form>\n          \n          <p>Already have account?</p>\n          <Link to={'/login'}> Login</Link>\n        </section>\n      </div>\n    );\n  }\n}\n\nexport default withValidation(withAuth((Signup)));\n","import React, { Component } from 'react';\nimport { Link } from 'react-router-dom';\nimport { withAuth } from '../services/AuthProvider';\nimport { withValidation } from '../hoc/widthValidation';\n\n\nclass Login extends Component {\n  state = { \n    email: '', \n    password: ''\n  };\n\n  handleFormSubmit = event => {\n    const { email, password } = this.state;\n    this.props.login({ email, password });\n  };\n\n  handleChange = event => {\n    const { name, value } = event.target;\n    this.setState({ [name]: value });\n  };\n\n  render() {\n    const { email, password } = this.state;\n\n    return (\n      <div className=\"auth-container\">\n\n        <section>\n          <div className=\"img-container\">\n            <img src={'/logo.png'} alt=\"\"/>\n          </div>\n          <h1>Training made easy</h1>\n          <h2>Your final training preparation tool</h2>\n        </section>\n\n        <section>\n          <h2>Login</h2>\n          <form onSubmit={this.props.handleSubmit(this.handleFormSubmit)}>\n            <label>Email</label>\n            <input\n              type=\"email\"\n              name=\"email\"\n              value={email}\n              onChange={this.handleChange}\n              ref={this.props.register({ required: true})}\n            />\n            {this.props.errors.email && <span className=\"feedback\"></span>}\n\n            <label>Password</label>\n            <input\n              type=\"password\"\n              name=\"password\"\n              value={password}\n              onChange={this.handleChange}\n              ref={this.props.register({ required: true})}\n            />\n            {this.props.errors.password && <span className=\"feedback\"></span>}\n\n            {this.props.isUserInvalid && <span className=\"feedback-text\">Enter a valid email and password</span>}\n            <input className=\"btn btn-success\" type=\"submit\" value=\"Login\" />   \n          </form>\n          <p>Not a user yet?</p>\n          <Link to={'/signup'}>Sign up</Link>\n        </section>\n\n      </div>\n    );\n  }\n}\n\nexport default withValidation(withAuth(Login));\n","import React, { Component } from 'react';\nimport { withAuth } from '../services/AuthProvider';\n\nclass SearchBar extends Component {\n  state = {\n    search: ''\n  }\n\n  handleSearch = (e) => {\n    const { value } = e.target;\n    this.setState({search: value})\n  }\n\n  searchSubmit = (e) => {\n    this.props.submit(e,this.state.search);\n    this.setState({search: ''});\n  }\n\n  render() {\n    const { user, logout, isLoggedin } = this.props;\n    return (\n      <div>\n        {isLoggedin ? \n          (\n            <nav>\n              <form onSubmit={(e) => this.searchSubmit(e)}>\n                <input \n                  type=\"text\" \n                  value={this.state.search} \n                  name=\"search\"\n                  onChange={this.handleSearch}\n                  placeholder=\"Search by title...\"/>\n              </form>  \n              <p>Hi {user.name}</p>\n            </nav>\n          ) \n          : null\n        }\n      </div>\n      \n    )\n  }\n}\n\nexport default withAuth(SearchBar);","import React, { Component } from 'react';\nimport {NavLink } from 'react-router-dom';\nimport { withAuth } from '../services/AuthProvider';\n\nclass SideMenu extends Component {\n  render() {\n    const { user, logout, isLoggedin } = this.props;\n    return (     \n      <div>\n        {isLoggedin ?\n        (\n          <section className=\"sidebar\">\n            <div className=\"logo-container\">\n              <img className=\"logo\" src={'/logo.png'} alt=\"logo\"/>\n            </div>\n            <div className=\"sidebar__links-wrapper\">\n              <NavLink to=\"/profile\" activeClassName=\"selected\"><h4>Profile</h4></NavLink>\n              <NavLink to=\"/my-trainings\" activeClassName=\"selected\"><h4>My trainings</h4></NavLink>\n              <NavLink to=\"/discover\" activeClassName=\"selected\"><h4>Discover</h4></NavLink>\n              <div className=\"logout\">\n                <button className=\"btn-icon\" onClick={this.props.logout}>\n                  <img src={\"/logout.png\"} alt=\"logout\" className=\"btn-icon__action\"/>\n                </button>\n              </div>\n            </div>\n          </section>\n        )\n        : null}\n      </div>\n      \n    )\n  }\n}\n\nexport default withAuth(SideMenu);","import React from 'react';\nimport { Route, Redirect } from 'react-router-dom';\nimport { withAuth } from '../services/AuthProvider';\n\nfunction PrivateRoute({ component: Component, isLoggedin, isLoading, ...rest }) {\n\n  if (isLoading) {\n    return <h1>Loading</h1>\n  }\n  else {\n    return (\n      <Route\n        {...rest}\n        render={props =>\n          isLoggedin ? <Component {...props} />: <Redirect to=\"/login\" />\n        }\n      />\n    );\n  }\n}\n\nexport default withAuth(PrivateRoute);\n","import axios from 'axios';\n\nclass Profile {\n  constructor() {\n    this.profile = axios.create({\n      baseURL: process.env.REACT_APP_API_URL + '/profile',\n      withCredentials: true,\n    });\n  }\n\n  getUser() {\n    return this.profile\n          .get('/')\n          .then(({ data }) => data);\n  }\n\n  unsaveExercise(id) {\n    return this.profile\n          .put(`/${id}`)\n          .then(({ data }) => data);\n  }\n}\n\nconst ProfileService = new Profile();\n\nexport default ProfileService;\n  ","import React, { Component } from 'react';\nimport shortid from 'shortid';\nimport { Link } from 'react-router-dom';\n\nclass TrainingCard extends Component {\n  constructor(props) {\n    super(props);\n\n    this.state = {\n      userTraining: this.props.training\n    }\n  }\n  render() {\n    const training = this.state.userTraining;\n\n    return(\n      <div className=\"training-card\" key={shortid.generate()}>\n        <Link to={`/my-trainings/${training._id}`}>\n          <div className=\"training-card__header\">\n            <h4>{training.title}</h4>\n            <span><img src={'/stopwatch.png'} className='stopwatch-icon'/>{training.duration} min</span>\n          </div>\n            {training.exercises.map( (exercise, i) => {\n              return (\n                <div className=\"training-card__exercise inline-display\" key={i}>\n                  <p>{exercise.title}</p>\n                  <span className={`item-type ${exercise.type}`}>{exercise.type}</span>\n                </div>\n              )\n            })}\n        </Link>\n      </div>\n    )\n\n  }\n}\n\nexport default TrainingCard;","import React, { Component } from 'react';\nimport shortid from 'shortid';\nimport { Link } from 'react-router-dom';\n\nimport profileService from './../services/profile-service';\n\nimport './../styles/dashboard.scss';\n\nclass ExerciseList extends Component {\n  constructor(props) {\n    super(props);\n\n    this.state = {\n      exerciseArr: this.props.exercises,\n      listLength: this.props.exercises.length\n    }\n  }\n\n  unsaveExercise(id) {\n    \n    profileService.unsaveExercise(id)\n      .then( (user) => {\n        const savedExercises = user.savedExercises;\n        this.props.updateLength();\n        this.setState({exerciseArr: savedExercises});\n      })\n      .catch( (err) => console.log(err));\n  }\n\n  render() {\n    const exerciseArr = this.state.exerciseArr;\n    return(\n      <div className=\"list-container\">\n        {exerciseArr.map( exercise => {\n          return (\n            <div>\n              <div className=\"list-container__item\" key={shortid.generate()}>\n                <Link to={`/profile/${exercise._id}`}>\n                  <p><strong>{exercise.title}</strong></p>\n                  <div><span><img src={'/stopwatch.png'} className='stopwatch-icon'/>{exercise.duration} min</span>   |   <span className={`item-type ${exercise.type}`}>{exercise.type}</span></div>\n                  {\n                    (exercise.author._id !== this.props.userId) ?\n                    (\n                      <div>\n                        <p><strong>Author: </strong>{exercise.author.name} {exercise.author.lastName}</p>\n                      </div>\n                    )\n                    : null\n                  }\n                </Link>\n                {\n                  (exercise.author._id !== this.props.userId && !this.props.inEditTraining) ?\n                    (\n                      <button className=\"btn-icon\" onClick={() => this.unsaveExercise(exercise._id)}>\n                        <img src={\"/bin.png\"} alt=\"unsave\" className=\"btn-icon__action\"/>\n                      </button>\n                    )\n                  : null\n                }     \n                {\n                  this.props.inEditTraining\n                    ? <button className=\"btn-icon\" onClick={()=>this.props.addExercise(exercise._id)}>\n                        <img src={\"/add.png\"} alt=\"\" className=\"btn-icon__action\"/>\n                      </button>\n                    : null\n                }\n              </div>\n              \n              </div>\n          )\n        })}\n        </div>\n    )\n\n  }\n}\n\nexport default ExerciseList;","import React, { Component } from 'react';\nimport shortid from 'shortid';\nimport { Link } from 'react-router-dom';\n\nimport profileService from './../services/profile-service';\n\n\nimport './../styles/navigation.scss';\nimport './../styles/dashboard.scss';\nimport './../styles/profile.scss';\nimport './../styles/forms.scss';\n\nimport TrainingCard from './../components/TrainingCard';\nimport ExerciseList from './../components/ExerciseList';\n\nclass Dashboard extends Component {\n\n  state = {\n    user: {},\n    savedExercisesLength: 0,\n  }\n\n  updateLength = () => {\n    let length = this.state.savedExercisesLength;\n    length -= 1;\n    this.setState({savedExercisesLength: length});\n  }\n\n  componentDidMount() {\n    window.scrollTo(0, 0)\n    profileService.getUser()\n      .then( (userInfo) => {\n        this.setState({user: userInfo});\n        this.setState({savedExercisesLength: userInfo.savedExercises.length})\n      })\n      .catch( (err) => console.log(err));    \n  };\n\n  render() {\n    const userExercises = this.state.user.exercises;\n    const savedExercises = this.state.user.savedExercises;\n    const userTrainings = this.state.user.trainings;\n\n    return (\n      <main className=\"content\">\n        <div className=\"profile-header\">\n          <h1>Profile</h1>\n          <Link to={'/profile/edit'}>\n            <button className=\"btn btn-edit\">Edit profile</button>\n          </Link> \n        </div>              \n        <div className=\"profile-container\">\n          {/* List of user Trainings */}\n          <div className=\"profile-column\"> \n            <div className=\"header\">\n              {\n                userTrainings \n                  ? <h2>Your Trainings ({userTrainings.length})</h2>\n                  : <h2>Your Trainings (0)</h2>\n                  \n              }\n            </div>\n             \n            { userTrainings ?\n              (\n                <div className=\"list-container list-container--trainings\">\n                {userTrainings.map( training => {\n                  return (\n                    <TrainingCard training={training} key={shortid.generate()}/>\n                  )\n                })}\n                </div>\n              )\n              : null\n            }\n          </div>\n          {/* List of user Exercises */}\n          <div className=\"profile-column\"> \n            <div className=\"header\">\n              {\n                userExercises \n                  ? <h2>Your Exercises ({userExercises.length})</h2>\n                  : <h2>Your Exercises (0)</h2>\n              }   \n              <Link className=\"btn btn-create\" to={'/profile/new-exercise'}>New</Link>  \n            </div>\n                  \n            { userExercises ?\n              (\n                <ExerciseList exercises={userExercises} userId={this.state.user._id}/>\n              )\n              : null\n            }\n          </div>\n          {/* List of user saved exercises */}\n          <div className=\"profile-column\">\n            <div className=\"header\">\n              {\n                savedExercises \n                  ? <h2>Saved Exercises ({this.state.savedExercisesLength})</h2>\n                  : <h2>Saved Exercises (0)</h2>\n              } \n            </div>\n             \n            { \n              savedExercises ?\n                (\n                  <ExerciseList exercises={savedExercises} userId={this.state.user._id} updateLength={this.updateLength}/>\n                )\n              : null\n            }\n          </div>\n        </div> \n      </main>\n    );\n  }\n}\n\nexport default Dashboard;","import axios from 'axios';\n\nclass Training {\n  constructor() {\n    this.training = axios.create({\n      baseURL: process.env.REACT_APP_API_URL + '/my-trainings',\n      withCredentials: true,\n    });\n  }\n\n  getAll() {\n    return this.training\n          .get('/')\n          .then(({ data }) => data);\n  }\n\n  create(newTraining) {\n    const { title, description, duration, sport, type, exercises } = newTraining; \n    return this.training\n          .post('/new', { title, description, duration, sport, type, exercises })\n          .then(({ data }) => data);\n  }\n\n  getOne(id) {\n    return this.training\n          .get(`/${id}`)\n          .then(({ data }) => data);\n  }\n\n  deleteOne(id) {\n    return this.training\n      .delete(`/${id}`)\n      .then(({ data }) => data)\n  }\n\n  deleteExercise(trainingId, exerciseId) {\n    return this.training\n      .put(`/${trainingId}/${exerciseId}/delete`)\n      .then(({ data }) => data)\n  }\n\n  modifyOne(modifiedTraining, id) {\n    const { title, description, duration, sport } = modifiedTraining;\n    return this.training    \n          .put(`/${id}`, { title, description, duration, sport })\n          .then(({ data }) => data);\n  }\n\n  addExercise(trainingId, exerciseId) {\n    return this.training\n          .post(`/${trainingId}/${exerciseId}`)\n          .then((data) => data);\n  }\n  \n}\n\nconst TrainingService = new Training();\n\nexport default TrainingService;","import React, {Component} from 'react';\nimport { Link } from 'react-router-dom';\nimport trainingService from './../services/trainings-service';\n\nimport TrainingCard from './../components/TrainingCard';\nimport './../styles/training.scss';\n\nclass MyTrainings extends Component {\n\n  state = {\n    trainings: []\n  }\n \n  componentDidMount() {\n    window.scrollTo(0, 0)\n    trainingService.getAll()\n      .then( (trainings) => {\n        this.setState({trainings: trainings});\n      })\n      .catch( (err) => console.log(err));\n  };\n\n  render() {\n    const userTrainings = this.state.trainings;\n    return(\n      <div className=\"content\">\n        <div className=\"training-header\">\n          <h1>My Trainings</h1>\n          <Link to={'/my-trainings/new-training'}><button className=\"btn btn-create\">New</button></Link>\n        </div>\n        \n        <div className=\"trainings-list \">\n          {\n            userTrainings ?\n              (\n                userTrainings.map( (training, index) => {\n                  return <TrainingCard training={training} key={index}/>\n                }) \n              )\n            : <h2>No trainings</h2>\n          }         \n        </div>\n          \n      </div>\n    )\n  }\n}\n\nexport default MyTrainings;","import axios from 'axios';\n\nclass Search {\n  constructor() {\n    this.search = axios.create({\n      baseURL: process.env.REACT_APP_API_URL + '/search',\n      withCredentials: true,\n    });\n  }\n\n  getResults(searchStr) {\n    return this.search\n          .get(`?search=${searchStr}`)\n          .then(({data}) => data);\n  }\n}\n\nconst SearchService = new Search();\n\nexport default SearchService;\n","import axios from 'axios';\n\nclass Discover {\n  constructor() {\n    this.discover = axios.create({\n      baseURL: process.env.REACT_APP_API_URL + '/discover',\n      withCredentials: true,\n    });\n  }\n\n  getAll() {\n    return this.discover\n          .get('/')\n          .then(({ data }) => data);\n  }\n\n  save(id) {\n    return this.discover\n          .put(`${id}`)\n          .then(({ data }) => data);\n  }\n\n}\n\nconst DiscoverService = new Discover();\n\nexport default DiscoverService;","import React, { Component } from 'react';\nimport shortid from 'shortid';\nimport { Link } from 'react-router-dom';\n\nclass DiscoverCard extends Component {\n\n  constructor(props) {\n    super(props);\n\n    this.state = {\n      exercise: this.props.exercise\n    }\n  }\n\n  render() {\n    const exercise = this.state.exercise;\n    return(\n      <div className=\"discover-card\" key={shortid.generate()}>\n        <Link to={`/discover/${exercise._id}`}>\n            <h4>{exercise.title}</h4>\n            <div className=\"inline-display\">\n              <p><img src={'/stopwatch.png'} className='stopwatch-icon'/>{exercise.duration} min | {exercise.sport}</p>\n              <span className={`item-type ${exercise.type}`}>{exercise.type}</span>\n            </div>\n            <p><strong>Author: </strong>{exercise.author.name} {exercise.author.lastName}</p>\n        </Link>\n      </div>\n    )\n\n  }\n}\n\nexport default DiscoverCard;","import React, { Component } from 'react';\nimport shortid from 'shortid';\nimport { Link } from 'react-router-dom';\n\n\nimport DiscoverCard from './../components/DiscoverCard';\n\nclass DiscoverList extends Component {\n\n  render() {\n    const exercisesList = this.props.exercises;\n    return(\n      <div className=\"discover-list\">\n        {\n          exercisesList.length!==0 ?\n          (\n            exercisesList.map( exercise => {\n              return <DiscoverCard exercise={exercise} key={shortid.generate()}/>\n            })\n            \n          )\n          : <h2>No results :(</h2>\n        }  \n\n        {/* this is to make the flexbox items to be one after the other when the row has less than 4 elements */}\n        <i aria-hidden=\"true\"></i>\n        <i aria-hidden=\"true\"></i>\n\n      </div>\n    )\n\n  }\n}\n\nexport default DiscoverList;","import React, {Component} from 'react';\nimport shortid from 'shortid';\nimport queryString from 'query-string';\n\nimport searchService from './../services/search-service';\nimport discoverService from './../services/discover-service';\n\nimport DiscoverList from './../components/DiscoverList';\n\nimport './../styles/discover.scss';\n\nimport Select from 'react-select';\n\nconst sports = [\n  { value: 'all', label: 'All' },\n  { value: 'rugby', label: 'Rugby' },\n  { value: 'basketball', label: 'Basketball' },\n  { value: 'football', label: 'Football' },\n];\n\nconst type = [\n  { value: 'all', label: 'All' },\n  { value: 'skills', label: 'Skills' },\n  { value: 'attack', label: 'Attack' },\n  { value: 'defense', label: 'Defense' },\n  { value: 'sc', label: 'Strength & Conditioning' },\n  { value: 'stretch', label: 'Stretch' },\n  { value: 'recovery', label: 'Recovery' },\n];\n\nclass Discover extends Component {\n\n  state = {\n    allExercises: null,\n    exercisesCopy: null,\n    sport: 'all',\n    type: 'all'\n  }\n\n  componentDidMount() {\n    window.scrollTo(0,0);\n    this.handleSearch();  \n  }\n  \n  componentDidUpdate(prevProps) {\n    if (prevProps.location.search !== this.props.location.search) {\n      console.log('updated')\n      this.handleSearch();\n    }  \n  }\n\n  handleSearch = () => {\n    const values = queryString.parse(this.props.location.search)\n    if(values.search) {\n      searchService.getResults(values.search)\n        .then( (data) =>{\n          //console.log('search result', data);\n          this.setState({allExercises: data, exercisesCopy: data})\n        })\n        .catch( (err) => console.log(err));\n    }\n    else {\n      discoverService.getAll()\n        .then( (data) => {\n          this.setState({allExercises: data, exercisesCopy: data})\n        })\n        .catch( (err) => console.log(err));\n    }\n  }\n\n  handleSport = (selected) => {\n    this.setState({sport: selected})\n  }\n\n  handleType = (selected) => {\n    this.setState({type: selected})\n  }\n\n  filter = (e) => {\n    e.preventDefault();\n    console.log(this.state.sport.value, this.state.type.value);\n    const currentExs = this.state.allExercises;\n    let filteredExs = [];\n\n    // filter by sport --> IMPROVEBABLE\n    if (this.state.sport.value === 'all') {\n      filteredExs = currentExs;\n    } else {\n      filteredExs = currentExs.filter( ex => {\n        return ex.sport === this.state.sport.value;\n      })\n    }\n\n    // filter by type\n    if (this.state.type.value !== 'all') {\n      filteredExs = filteredExs.filter( ex => {\n        return ex.type === this.state.type.value;\n      })\n    }\n\n    this.setState({exercisesCopy: filteredExs});\n  }\n\n  render() {\n    return(\n      <div className=\"content\">\n        <h1>Discover page</h1>\n        \n        <form onSubmit={this.filter} className=\"filter-form\">\n          <div className=\"selects\">\n            <Select\n              className=\"custom-select\"\n              value={this.state.sport}\n              onChange={this.handleSport}\n              options={sports}\n            />\n            <Select\n              className=\"custom-select\"\n              value={this.state.type}\n              onChange={this.handleType}\n              options={type}\n            />\n          </div>\n          <button className=\"btn btn-filter\">Filter</button>\n        </form>\n        \n        {\n          this.state.exercisesCopy\n           ? <DiscoverList exercises={this.state.exercisesCopy}/>\n           : <h2>No results :(</h2>\n        }\n        \n             \n      </div>\n    )\n  }\n}\n\nexport default Discover;\n","import React, { Component } from 'react';\nimport { Redirect } from 'react-router-dom';\n\nimport { Link } from 'react-router-dom';\nimport { withAuth } from '../services/AuthProvider';\n\nimport Dashboard from './Dashboard';\n\nclass Home extends Component {\n  render() {\n    const { user, logout, isLoggedin } = this.props;\n    return (\n      <div>\n        {isLoggedin ? (\n          <Redirect to=\"/profile\" />\n        ) : (\n          <div>\n            <Link to=\"/login\">\n              {' '}\n              <button className=\"btn\">Login</button>{' '}\n            </Link>\n            <br />\n            <Link to=\"/signup\">\n              {' '}\n              <button className=\"btn\">Signup</button>{' '}\n            </Link>\n          </div>\n        )}\n      </div>\n    );\n  }\n}\n\nexport default withAuth(Home);\n","import React, { Component } from 'react';\nimport { Switch, Route } from 'react-router-dom';\n\nimport SearchBar from './../components/SearchBar';\nimport SideMenu from './../components/SideMenu';\nimport PrivateRoute from './../components/PrivateRoute';\n\nimport Profile from './Profile';\nimport MyTrainings from './MyTrainings';\nimport Discover from './Discover';\n\nimport './../styles/navigation.scss';\nimport './../styles/dashboard.scss';\n\nclass Dashboard extends Component {\n\n  render() {\n    return (\n      <div>\n        {/* SearchBar component --> name and image here\n        <SearchBar userName={this.props.user.name}/>\n         SideMenu component --> logout here*\n        <SideMenu logout={this.props.logout}/>  */}\n\n        \n          \n      </div>\n    );\n  }\n}\n\nexport default Dashboard;\n","import React from 'react';\nimport { Route, Redirect } from 'react-router-dom';\nimport { withAuth } from '../services/AuthProvider';\n\nfunction AnonRoute({ component: Component, isLoggedin, isLoading, ...rest }) {\n\n  if (isLoading) {\n    return <h1>Loading</h1>\n  }\n  else {\n    return (\n      <Route\n        {...rest}\n        render={props =>\n          !isLoggedin ? <Component {...props} /> : <Redirect to=\"/profile\" />\n        }\n      />\n    );\n  }\n}\n\nexport default withAuth(AnonRoute);","import React, { Component } from 'react';\n\nimport authService from './../services/auth-service';\n\nclass ProfileEdit extends Component {\n\n  state = { \n    email: '', \n    name: '',\n    lastName: '',\n    password: '' \n  };\n\n  handleFormSubmit = () => {\n    const { email, name, lastName, password } = this.state;\n    authService.edit({ email, name, lastName, password })\n      .then( (user) => {\n        this.props.history.push('/profile')\n      })\n      .catch( (err) => console.log(err));\n  };\n\n  handleChange = event => {\n    const { name, value } = event.target;\n    this.setState({ [name]: value });\n  };\n\n  componentDidMount() {\n    authService.me()\n      .then( (user) => {\n        const { email, name, lastName, password } = user;\n        this.setState({ email, name, lastName, password });\n      })\n      .catch( (err) => console.log(err));\n  }\n\n  render() {\n    const { email, name, lastName, password } = this.state;\n    return(\n      <div className=\"content\">\n        <button className=\"btn-icon\" onClick={() => this.props.history.push('/profile')}>\n          <img src={'/arrow.svg'} className=\"back-icon\" alt=\"\"/>\n        </button>\n        <h1>Edit profile</h1>\n        <form onSubmit={this.handleFormSubmit} className=\"input-form\">\n          <label>Email:</label>\n          <input\n            className=\"input\"\n            type=\"email\"\n            name=\"email\"\n            value={email}\n            onChange={this.handleChange}\n          />\n          <label>Name:</label>\n          <input\n            className=\"input\"\n            type=\"text\"\n            name=\"name\"\n            value={name}\n            onChange={this.handleChange}\n          />\n\n          <label>Last name:</label>\n          <input\n            className=\"input\"\n            type=\"text\"\n            name=\"lastName\"\n            value={lastName}\n            onChange={this.handleChange}\n          />\n\n          <label>Password:</label>\n          <input\n            className=\"input\"\n            type=\"password\"\n            name=\"password\"\n            value={password}\n            onChange={this.handleChange}\n          />\n\n          <input className=\"btn btn-success btn-success--edit\" type=\"submit\" value=\"Save\" />\n        </form>\n      </div>\n    )\n  }\n}\n\nexport default ProfileEdit;\n\n\n\n\n\n","import axios from 'axios';\n\nclass Exercises {\n  constructor() {\n    this.exercises = axios.create({\n      baseURL: process.env.REACT_APP_API_URL + '/exercises',\n      withCredentials: true,\n    });\n  }\n\n  getOne(id) {\n    return this.exercises\n              .get(`/${id}`)\n              .then(({ data }) => data);\n  }\n\n  create(exercise) {\n    const {title, description, duration, sport, type, video_url, img_url, share} = exercise;\n    return this.exercises\n              .post('/new', {title, description, duration, sport, type, video_url, img_url, share})\n              .then(({ data }) => data);\n  }\n\n  uploadImage(file) {\n    return this.exercises\n              .post('/new/image', file)\n              .then(({data}) => data);\n  }\n\n  modifyOne(modifiedExercise, id) {\n    const {title, description, duration, sport, type, video_url, img_url, share} = modifiedExercise;\n    return this.exercises\n              .put(`/${id}`, {title, description, duration, sport, type, video_url, img_url, share})\n              .then(({ data }) => data);\n  }\n\n  deleteOne(id) {\n    return this.exercises\n              .delete(`/${id}`)\n              .then(({ data }) => data);\n  }\n}\n\nconst exercisesService = new Exercises();\n\nexport default exercisesService;","import React, { Component } from 'react';\nimport { Link } from 'react-router-dom';\n\nimport exercisesService from './../services/exercises-service';\nimport profileService from './../services/profile-service';\nimport discoverService from './../services/discover-service';\n\nclass ExerciseDetails extends Component {\n\n  state = {\n    exercise: {},\n    userId: '',\n    isSaved: null\n  }\n\n  saveExercise = (e) => {\n    e.preventDefault();\n    console.log('in');\n    const id = this.state.exercise._id;\n    discoverService.save(id)\n      .then( () => {\n        this.setState({isSaved: true});\n        console.log('added to favourites');\n      })\n      .catch( (err) => console.log(err));\n  }\n\n  unsaveExercise = (e) => {\n    e.preventDefault();\n    const id = this.state.exercise._id;\n    profileService.unsaveExercise(id)\n      .then( () => {\n        this.setState({isSaved: false});\n      })\n      .catch( (err) => console.log(err));\n  }\n\n  componentDidMount() {\n    window.scrollTo(0, 0)\n    const {id} = this.props.match.params; // get exercise id from url\n    exercisesService.getOne(id)\n      .then( (exercise) => {\n        profileService.getUser()\n          .then( (user) => {\n            const isSaved = user.savedExercises.some( savedEx => {\n              return savedEx._id === exercise._id;\n            });\n            this.setState({exercise, userId: user._id, isSaved});\n          })\n          .catch( (err) => console.log(err));\n      })\n  }\n\n  render() {\n    const exercise = this.state.exercise;\n    const userId = this.state.userId;\n    console.log('is saved?', this.state.isSaved);\n    return(\n      <main className=\"content\">\n        <button className=\"btn-icon\" onClick={() => this.props.history.goBack()}>\n          <img src={'/arrow.svg'} className=\"back-icon\" alt=\"\"/>\n        </button>\n        {/* <h1>Exercise details</h1> */}\n          <div>\n              <div className=\"profile-header profile-header--details\">\n                <div className=\"profile-header--details__info\">\n                  <h1>{exercise.title}</h1>\n                  <span className={`item-type ${exercise.type}`}>{exercise.type}</span>\n                  {\n                    (!exercise.share) \n                      ? <Link to={`/profile/${exercise._id}/edit`}><button className=\"btn btn-edit\">Edit</button></Link>\n                      : null\n                  }\n                </div>\n                \n                <div className=\"inline-display inline-display--details\">\n                  <p>\n                    <strong>Sport: </strong>{exercise.sport}\n                    <span>|</span>\n                    <span><img src={'/stopwatch.png'} className='stopwatch-icon'/>{exercise.duration} min</span>      \n                  </p>\n                </div>\n              </div>\n              \n              <h4>Description</h4>\n              <p>{exercise.description}</p>\n              <div className=\"inline-display\">\n                <div className=\"inline-display__media\">\n                  <h4>Image</h4>\n                  {\n                    exercise.img_url\n                    ? <img className=\"edit-exercise__img\" src={exercise.img_url} alt='exercise'/>\n                    : <p><strong>No image provided</strong></p>\n                  }\n                </div>\n                <div className=\"inline-display__media\">\n                  <h4>Video</h4>\n                  {\n                    exercise.video_url\n                    ? <iframe width=\"400\" height=\"250\" src={exercise.video_url} frameborder=\"0\" allow=\"accelerometer; autoplay; encrypted-media; gyroscope; picture-in-picture\" allow=\"fullscreen\"></iframe>\n\n                    : <p><strong>No video provided</strong></p>\n                  }\n                </div>\n              </div>\n              \n              \n              {\n                (exercise.author !== userId) ?\n                  (\n                    <div>\n                    {\n                      !this.state.isSaved\n                        ? <button className=\"btn btn-success\" onClick={this.saveExercise}>Save</button>\n                        : <button className=\"btn btn-delete\" onClick={this.unsaveExercise}>Unsave</button>\n                    }\n                    </div>\n                  )\n                  : null\n              }\n            </div>\n      </main>\n    )\n  }\n}\n\nexport default ExerciseDetails;","import React, {Component} from 'react';\nimport Select from 'react-select';\nimport getVideoId from 'get-video-id';\n\nimport exercisesService from './../services/exercises-service';\nimport { withValidation } from '../hoc/widthValidation';\n\nimport './../styles/auth.scss';\n\nconst sports = [\n  { value: 'all', label: 'All' },\n  { value: 'rugby', label: 'Rugby' },\n  { value: 'basketball', label: 'Basketball' },\n  { value: 'football', label: 'Football' },\n];\n\nconst type = [\n  { value: 'all', label: 'All' },\n  { value: 'skills', label: 'Skills' },\n  { value: 'attack', label: 'Attack' },\n  { value: 'defense', label: 'Defense' },\n  { value: 'sc', label: 'Strength & Conditioning' },\n  { value: 'stretch', label: 'Stretch' },\n  { value: 'recovery', label: 'Recovery' },\n];\n\nclass ExerciseNew extends Component {\n\n  state = {\n    exercise: [],\n    sport: 'all',\n    type: 'all',\n    isLoading: false\n  }\n \n  handleInput = (e) => {\n    const target = e.target;\n    const value = target.type === 'checkbox' ? target.checked : target.value;\n    const name = target.name;\n\n    const exerciseCopy = this.state.exercise;\n    exerciseCopy[name] = value;\n    this.setState({ exercise: exerciseCopy });\n  };\n\n  handleSport = (selected) => {\n    this.setState({sport: selected})\n  }\n\n  handleType = (selected) => {\n    this.setState({type: selected})\n  }\n\n  fileOnchange = (event) => {\n    this.setState({isLoading: true});\n    const file = event.target.files[0];\n    const uploadData = new FormData()\n    uploadData.append('photo', file)\n\n    exercisesService.uploadImage(uploadData)\n      .then((img_url) => {\n        const exerciseCopy = this.state.exercise;\n        exerciseCopy.img_url = img_url;\n        this.setState({ exercise: exerciseCopy, isLoading: false})\n      })\n      .catch((error) => console.log(error))\n  }\n\n  saveExercise = (e) => {\n    let {title, description, duration, video_url, img_url, share} = this.state.exercise; \n    const sport = this.state.sport.value;\n    const type = this.state.type.value;\n    const videoId = getVideoId(video_url);\n    switch(videoId.service) {\n      case 'youtube':\n          video_url = `https://www.youtube.com/embed/${videoId.id}`;\n        break;\n      case 'vimeo':\n          video_url = `https://player.vimeo.com/video/${videoId.id}`;\n        break;\n      default:\n          video_url = '';\n    }\n    exercisesService.create({title, description, duration, sport, type, video_url, img_url, share})\n      .then( () => {\n        this.props.history.push('/profile');\n      })\n      .catch( (err) => console.log(err));\n      \n  }\n\n  componentDidMount() {\n    window.scrollTo(0,0);\n  }\n\n  render() {\n    return(\n      <div className=\"content\">\n        <button className=\"btn-icon\" onClick={() => this.props.history.goBack()}>\n          <img src={'/arrow.svg'} className=\"back-icon\" alt=\"\"/>\n        </button>\n        <h1>New exercise</h1>\n        <form onSubmit={this.props.handleSubmit(this.saveExercise)} className=\"input-form\">\n          <label htmlFor=\"\">Title</label>\n          <input className=\"input\" type=\"text\" value={this.state.exercise.title} \n                  name=\"title\" \n                  onChange={this.handleInput} \n                  ref={this.props.register({ required: true})}\n          />\n          {this.props.errors.title && <span className=\"feedback\"></span>}\n          \n          <label htmlFor=\"\">Description</label>\n          <textarea value={this.state.exercise.description} \n                    name=\"description\" \n                    onChange={this.handleInput} \n                    ref={this.props.register({ required: true})}\n          />\n          {this.props.errors.description && <span className=\"feedback feedback--description\"></span>}\n\n          <div className=\"inline-display\">\n            <div className=\"inline-display__column\">\n              <label htmlFor=\"\">Sport</label>\n                <Select\n                  className=\"select\"\n                  value={this.state.sport}\n                  onChange={this.handleSport}\n                  options={sports}\n                  name=\"sport\"\n                  ref={this.props.register({ required: true})}\n                />\n                {this.props.errors.sport && <span className=\"feedback\"></span>}\n            </div>\n            <div className=\"inline-display__column\">          \n                <label htmlFor=\"\">Type</label>\n                <Select\n                  className=\"select\"\n                  value={this.state.type}\n                  onChange={this.handleType}\n                  options={type}\n                  name=\"type\"\n                  ref={this.props.register({ required: true})}\n                />\n                {this.props.errors.type && <span className=\"feedback\"></span>}\n            </div>\n\n          </div>\n          <label htmlFor=\"\">Video</label>\n          <input className=\"input\" type=\"text\" name=\"video_url\" value={this.state.exercise.video_url} onChange={this.handleInput}/>\n          <label htmlFor=\"\">Image</label>\n          <input type=\"file\" className=\"custom-file-input\" id=\"customFile\" name='img_url' onChange={(event)=>this.fileOnchange(event)} />\n          <div className=\"inline-display\">\n            <label htmlFor=\"\">Duration</label>\n            <input className=\"input\" type=\"number\" \n                    value={this.state.exercise.duration} \n                    name=\"duration\" \n                    onChange={this.handleInput}\n                    ref={this.props.register({ required: true})}\n            />\n            <span>min</span>\n            \n            <label name=\"share\">Share</label>\n            <label className=\"switch\">\n              <input type=\"checkbox\" name=\"share\" checked={this.state.exercise.share} onChange={this.handleInput}/>\n              <span className=\"slider round\"></span>\n            </label>\n          </div>\n          {this.props.errors.duration && <span className=\"feedback feedback--duration\"></span>}\n          {\n            this.state.isLoading \n              ? (<span className=\"btn btn-success loading-gif-btn\">\n                  <img className=\"loading-gif\" src={'/loading.gif'} alt=\"loading\"/>\n                </span>)\n              : <button className=\"btn btn-success\">Save</button>\n          }\n          \n        </form>                \n      </div>\n    )\n  }\n}\n\nexport default withValidation(ExerciseNew);","import React, { Component } from 'react';\nimport Select from 'react-select';\nimport getVideoId from 'get-video-id';\n\nimport { withValidation } from '../hoc/widthValidation';\nimport exercisesService from './../services/exercises-service';\n\n\nconst sports = [\n  { value: 'all', label: 'All' },\n  { value: 'rugby', label: 'Rugby' },\n  { value: 'basketball', label: 'Basketball' },\n  { value: 'football', label: 'Football' },\n];\n\nconst type = [\n  { value: 'all', label: 'All' },\n  { value: 'skills', label: 'Skills' },\n  { value: 'attack', label: 'Attack' },\n  { value: 'defense', label: 'Defense' },\n  { value: 'sc', label: 'Strength & Conditioning' },\n  { value: 'stretch', label: 'Stretch' },\n  { value: 'recovery', label: 'Recovery' },\n];\n\nclass ExerciseEdit extends Component {\n\n  state = {\n    exercise: {},\n    sport: {},\n    type: {},\n    isLoading: false\n  }\n \n  handleInput = (e) => {\n    const target = e.target;\n    const value = target.type === 'checkbox' ? target.checked : target.value;\n    const name = target.name;\n\n    const exerciseCopy = this.state.exercise;\n    exerciseCopy[name] = value;\n    this.setState({ exercise: exerciseCopy });\n  };\n\n  handleSport = (selected) => {\n    this.setState({sport: selected})\n  }\n\n  handleType = (selected) => {\n    this.setState({type: selected})\n  }\n\n  fileOnchange = (event) => {\n    this.setState({isLoading: true});\n    const file = event.target.files[0];\n    const uploadData = new FormData()\n    uploadData.append('photo', file)\n\n    exercisesService.uploadImage(uploadData)\n      .then((img_url) => {\n        const exerciseCopy = this.state.exercise;\n        exerciseCopy.img_url = img_url;\n        this.setState({ exercise: exerciseCopy, isLoading: false})\n      })\n      .catch((error) => console.log(error))\n  }\n\n  updateExercise = (e) => {\n    const id = this.state.exercise._id;\n\n    let {title, description, duration, video_url, img_url, share} = this.state.exercise; \n    const sport = this.state.sport.value;\n    const type = this.state.type.value;\n    const videoId = getVideoId(video_url);\n    switch(videoId.service) {\n      case 'youtube':\n          video_url = `https://www.youtube.com/embed/${videoId.id}`;\n        break;\n      case 'vimeo':\n          video_url = `https://player.vimeo.com/video/${videoId.id}`;\n        break;\n      default:\n          video_url = '';\n    }\n    \n    exercisesService.modifyOne({title, description, duration, sport, type, video_url, img_url, share}, id)\n      .then( (updatedExercise) => {\n        this.setState({ exercise: updatedExercise });\n        this.props.history.goBack();\n      })\n      .catch( (err) => console.log(err));\n  }\n\n  deleteExercise = () => {\n    exercisesService.deleteOne(this.state.exercise._id)\n      .then( () => {\n        this.props.history.push('/profile')\n      })\n      .catch( (err) => console.log(err));\n  } \n\n  componentDidMount() {\n    window.scrollTo(0, 0)\n    const {id} = this.props.match.params; // get id from url\n    exercisesService.getOne(id)\n      .then( (exercise) => {\n        const sport = {\n          value: exercise.sport,\n          label: `${exercise.sport.charAt(0).toUpperCase()}${exercise.sport.slice(1)}`\n        };\n        const type = {\n          value: exercise.type,\n          label: `${exercise.type.charAt(0).toUpperCase()}${exercise.type.slice(1)}`\n        };\n        this.setState({exercise, sport, type});\n      })\n      .catch( (err) => console.log(err));\n  }\n\n  render() {\n    return(\n      <main className=\"content\">\n\n        <button className=\"btn-icon\" onClick={() => this.props.history.goBack()}>\n          <img src={'/arrow.svg'} className=\"back-icon\" alt=\"\"/>\n        </button>\n        <div className=\"inline-display\">\n          <h1>Exercise edit</h1>\n          <button className=\"btn btn-delete\" onClick={this.deleteExercise}>Delete</button>\n        </div>\n\n        <form onSubmit={this.props.handleSubmit(this.updateExercise)} className=\"input-form\">\n        <label htmlFor=\"\">Title</label>\n          <input className=\"input\" type=\"text\" value={this.state.exercise.title} \n                  name=\"title\" \n                  onChange={this.handleInput} \n                  ref={this.props.register({ required: true})}\n          />\n          {this.props.errors.title && <span className=\"feedback\"></span>}\n          \n          <label htmlFor=\"\">Description</label>\n          <textarea value={this.state.exercise.description} \n                    name=\"description\" \n                    onChange={this.handleInput} \n                    ref={this.props.register({ required: true})}\n          />\n          {this.props.errors.description && <span className=\"feedback feedback--description\"></span>}\n          \n          <div className=\"inline-display\">\n            <div className=\"inline-display__column\">\n              <label htmlFor=\"\">Sport</label>\n                <Select\n                  className=\"select\"\n                  value={this.state.sport}\n                  onChange={this.handleSport}\n                  options={sports}\n                  required\n                />\n            </div>\n            <div className=\"inline-display__column\">          \n                <label htmlFor=\"\">Type</label>\n                <Select\n                  className=\"select\"\n                  value={this.state.type}\n                  onChange={this.handleType}\n                  options={type}\n                  required\n                />\n            </div>\n          </div>\n          <label htmlFor=\"\">Video</label>\n          <input className=\"input\" type=\"text\" name=\"video_url\" value={this.state.exercise.video_url} onChange={this.handleInput}/>\n          <label htmlFor=\"\">Image</label>\n          <input type=\"file\" className=\"custom-file-input\" id=\"customFile\" name='img_url' onChange={(event)=>this.fileOnchange(event)} />\n          <div className=\"inline-display\">\n            <label htmlFor=\"\">Duration</label>\n            <input className=\"input\" type=\"number\" \n                    value={this.state.exercise.duration} \n                    name=\"duration\" \n                    onChange={this.handleInput}\n                    ref={this.props.register({ required: true})}\n            />\n            <span>min</span>\n            <label name=\"share\">Share</label>\n            <label className=\"switch\">\n              <input type=\"checkbox\" name=\"share\" checked={this.state.exercise.share} onChange={this.handleInput}/>\n              <span className=\"slider round\"></span>\n            </label>\n          </div>\n          {this.props.errors.duration && <span className=\"feedback feedback--duration\"></span>}\n          {\n            this.state.isLoading \n              ? (<button disabled className=\"btn btn-success loading-gif-btn\">\n                  <img className=\"loading-gif\" src={'/loading.gif'} alt=\"loading\"/>\n                </button>)\n              : <button className=\"btn btn-success\">Save</button>\n            }\n        </form>\n      </main>\n    )\n  }\n}\n\nexport default withValidation(ExerciseEdit);","import React, { Component } from 'react';\nimport { Link } from 'react-router-dom';\n\nimport trainingService from './../services/trainings-service';\n\nimport './../styles/navigation.scss';\nimport './../styles/dashboard.scss';\nimport './../styles/profile.scss';\nimport './../styles/training.scss';\n\nclass TrainingDetails extends Component {\n\n  constructor(props) {\n    super(props);\n\n    this.state = {\n      training: this.props.training\n    }\n  }\n  \n  componentDidMount() {\n    window.scrollTo(0, 0)\n    const {id} = this.props.match.params; // get id from url\n    trainingService.getOne(id)\n      .then( (training) => {\n        this.setState({training})      \n      })\n      .catch( (err) => console.log(err));\n  }\n\n  render() {\n    const training = this.state.training;\n\n    return(\n      <div className=\"content\">\n        <button className=\"btn-icon\" onClick={() => this.props.history.push('/my-trainings')}>\n          <img src={'/arrow.svg'} className=\"back-icon\" alt=\"\"/>\n        </button>\n        {\n          training ?\n          (\n            <div className=\"training-info\">\n              <div className=\"training-info__header\">   \n                <div className=\"training-header\">\n                  <h1>{training.title}</h1>\n                  <Link to={`/my-trainings/${training._id}/edit`}><button className=\"btn btn-edit\">Edit</button></Link>\n                </div>\n              \n                <div className=\"inline-display inline-display--details\">\n                  <p>\n                    <strong>Sport: </strong>{training.sport}\n                    <span>|</span>\n                    <span><img src={'/stopwatch.png'} className='stopwatch-icon'/>{training.duration} min</span>      \n                  </p>\n                </div>\n              </div>\n              <h4>Description</h4>\n              <p>{training.description}</p>\n\n              <h4>Exercises</h4>\n              <div className=\"training-ex-list\">\n                {training.exercises.map( (exercise, i) => {\n                  return (\n                    \n                      <div className=\"list-container__item list-container__item--training\" key={i}>\n                        <Link to={`/profile/${exercise._id}`}>\n                          <div className=\"inline-display\">\n                            <p><strong>{i+1}. {exercise.title}</strong></p>\n                            <span className={`item-type ${exercise.type}`}>{exercise.type}</span>\n                          </div>\n                          <p><strong>Sport: </strong>{exercise.sport}</p>\n                          <span><img src={'/stopwatch.png'} className='stopwatch-icon'/>{exercise.duration} min</span>\n                          <p>{exercise.description}</p>\n                          \n                        </Link>\n                      </div>\n                  )\n                })}\n                <i aria-hidden=\"true\"></i>\n                <i aria-hidden=\"true\"></i>\n              </div>\n            </div>          \n          )\n          : null\n        }\n        \n      </div>\n    )\n    \n  }\n}\n\nexport default TrainingDetails;","import React, {Component} from 'react';\nimport { Link } from 'react-router-dom';\n\nimport trainingsService from './../services/trainings-service';\nimport profileService from './../services/profile-service';\n\nimport ExerciseList from './../components/ExerciseList';\n\nimport Select from 'react-select';\n\nconst sports = [\n  { value: 'all', label: 'All' },\n  { value: 'rugby', label: 'Rugby' },\n  { value: 'basketball', label: 'Basketball' },\n  { value: 'football', label: 'Football' },\n];\n\nclass TrainingNew extends Component {\n\n  state = {\n    training: {},\n    trainingId: '',\n    trainingExercises: [],\n    user: {},\n    sport: {},\n  }\n \n  handleInput = e => {\n    const { name, value } = e.target;\n    const trainingCopy = this.state.training;\n    trainingCopy[name] = value;\n    this.setState({ training: trainingCopy });\n  };\n\n  saveTraining = (e) => {\n    e.preventDefault();\n    const id = this.state.training._id;\n    const { title, description, duration } = this.state.training;\n    const sport = this.state.sport.value\n    trainingsService.modifyOne({ title, description, duration, sport }, id)\n      .then( (modifiedTraining) => {\n        this.setState({ training: modifiedTraining });\n        this.props.history.push(`/my-trainings/${id}`);\n      })\n      .catch( (err) => console.log(err));  \n  }\n\n  cancelNewTraining = (e) => {\n    e.preventDefault();\n    const trainingId = this.state.training._id;\n    trainingsService.deleteOne(trainingId)\n      .then( () => this.props.history.push('/my-trainings'))\n      .catch( (err) => console.log(err));\n  }\n\n  addExercise = (exerciseId) => {\n    const trainingId = this.state.training._id;\n    trainingsService.addExercise(trainingId, exerciseId)\n      .then( (result) => {\n        const trainingExercises = result.data.exercises;\n        this.setState({trainingExercises});\n      })\n      .catch( (err) => console.log(err));\n  }\n\n  handleSport = (selected) => {\n    this.setState({sport: selected})\n  }\n\n  removeExerciseFromTraining = (exerciseId) => {\n    trainingsService.deleteExercise(this.state.training._id, exerciseId)\n      .then( (data) => {\n        const trainingExercises = data.exercises;\n        this.setState({trainingExercises});\n      })\n      .catch( (err) => console.log(err));\n  }\n\n  componentDidMount() {\n    window.scrollTo(0,0);\n    // *LOGIC* --> with the current model, to be able to add exercises in the new training, we need to \n    // create the training when the page is loaded, so when the user saves the info, it is actually\n    // updating the training that has just been created\n    const title = ' ';\n    const description = ' ';\n    const duration = '0';\n    const sport = ' ';\n\n    trainingsService.create({title, description, duration, sport})\n      .then( (newTraining) => {\n        profileService.getUser()\n          .then( (userInfo) => {\n            this.setState({training: newTraining, \n                          trainingId: newTraining._id, \n                          trainingExercises: newTraining.exercises, \n                          user: userInfo\n            });\n          })\n          .catch( (err) => console.log(err));\n      })\n  }\n\n  render() {\n    const training = this.state.training;\n    const trainingExercises = this.state.trainingExercises;\n    const userExercises = this.state.user.exercises;\n    const savedExercises = this.state.user.savedExercises;\n\n    \n    return(\n      <main className=\"content\">\n        <button className=\"btn-icon\" onClick={() => this.props.history.goBack()}>\n          <img src={'/arrow.svg'} className=\"back-icon\" alt=\"\"/>\n        </button>\n        <h1>New training</h1>\n        <div className=\"edit-training\">\n          <section className=\"edit-training__info\">\n            <form onSubmit={this.saveTraining} className=\"input-form\">\n              <label htmlFor=\"\">Title</label>\n              <input className=\"input\" type=\"text\" value={training.title} name=\"title\" onChange={this.handleInput}/>\n              <label htmlFor=\"\">Description</label>\n              <textarea value={training.description} name=\"description\" onChange={this.handleInput}/>\n              <div className=\"inline-display\">\n                <label htmlFor=\"\">Duration</label>\n                <input className=\"input\" type=\"number\" value={training.duration} name=\"duration\" onChange={this.handleInput} required/>\n                <span>min</span>\n              </div>\n              <label htmlFor=\"\">Sport</label>\n              <Select\n                className=\"select\"\n                value={this.state.sport}\n                onChange={this.handleSport}\n                options={sports}\n              />\n              <button className=\"btn btn-success\">Save</button>\n              <button className=\"btn btn-cancel\" onClick={this.cancelNewTraining}>Cancel</button>\n            </form>\n            <div className=\"exercises-edit\">\n              <h4>Exercises</h4>\n              {\n                trainingExercises.length ?\n                  (\n                    trainingExercises.map( (exercise, i) => {\n                      return (\n                        <div className=\"training-info__exercises\" key={i}>\n                          <div className=\"list-container__item list-container__item--training\" key={i}>\n                            <Link to={`/profile/${exercise._id}`}>\n                              <div className=\"inline-display\">\n                                <p><strong>{i+1}. {exercise.title}</strong></p>\n                                <span className={`item-type ${exercise.type}`}>{exercise.type}</span>\n                              </div>\n                              <p><strong>Sport: </strong>{exercise.sport}</p>\n                              <p><strong>Duration: </strong>{exercise.duration}</p>\n                              <p>{exercise.description}</p>\n                              \n                            </Link>\n                          </div>\n                          <div className=\"training-info__exercises__buttons\">\n                            <button className=\"btn-icon\" onClick={() => this.removeExerciseFromTraining(exercise._id)}>\n                              <img src={\"/bin.png\"} alt=\"remove-exercise\" className=\"btn-icon__action\"/>\n                            </button>\n                          </div>      \n                        </div>\n                      )\n                    })\n                  \n                  )\n                    \n                : <p><strong>Add exercises!</strong></p>\n              }\n            </div>\n          </section>\n          <section className=\"edit-training__user-exercises\">\n            {\n              userExercises \n                ? <h2>Your Exercises ({userExercises.length})</h2>\n                : <h2>Your Exercises (0)</h2>  \n            }  \n            { userExercises ?\n                  (\n                    <ExerciseList\n                      exercises={userExercises}\n                      userId={this.state.user._id} \n                      inEditTraining={true}\n                      addExercise={this.addExercise}\n                    />\n                  )\n                  : null\n                }\n          </section>\n          <section className=\"edit-training__saved-exercises\">\n            {\n              savedExercises\n                ? <h2>Saved Exercises ({savedExercises.length})</h2>\n                : <h2>Saved Exercises (0)</h2>\n            }\n            {\n              savedExercises ?\n                (\n                  <ExerciseList\n                    exercises={savedExercises}\n                    userId={this.state.user._id} \n                    inEditTraining={true}\n                    addExercise={this.addExercise}\n                  />\n                )\n              : null\n            }\n          </section>\n        </div>\n        \n      </main>\n    )\n  }\n}\n\nexport default TrainingNew;","import React, { Component } from 'react';\nimport shortid from 'shortid';\nimport { Link } from 'react-router-dom';\n\nimport exercisesService from './../services/exercises-service'\n\nimport Select from 'react-select';\n\nconst sports = [\n  { value: 'all', label: 'All' },\n  { value: 'rugby', label: 'Rugby' },\n  { value: 'basketball', label: 'Basketball' },\n  { value: 'football', label: 'Football' },\n];\n\nconst type = [\n  { value: 'all', label: 'All' },\n  { value: 'skills', label: 'Skills' },\n  { value: 'attack', label: 'Attack' },\n  { value: 'defense', label: 'Defense' },\n  { value: 'sc', label: 'Strength & Conditioning' },\n  { value: 'stretch', label: 'Stretch' },\n  { value: 'recovery', label: 'Recovery' },\n];\n\nclass TrainingExerciseEdit extends Component {\n\n  constructor(props) {\n    super(props);\n\n    this.state = {\n      exercise: null,\n      focusInput: undefined,\n      sport: {},\n      type: {},\n      isLoading: false\n    }\n\n    this.references = {\n      title: React.createRef(), \n      description: React.createRef(), \n      duration: React.createRef(), \n      sport: React.createRef(), \n      type: React.createRef(), \n      video_url: React.createRef(),\n      img_url: React.createRef(), \n      share: React.createRef(),\n    }\n    \n\n    this.focusTextInput = this.focusTextInput.bind(this);\n\n  }\n\n  focusTextInput () {\n    const { focusInput } = this.state;\n    if (focusInput) {\n\n      const currentInput = this.references[focusInput].current;\n\n      currentInput.focus();\n      currentInput.selectionStart = currentInput.value.length;\n    }\n    \n  }\n  \n  updateExercise = (e) => {\n    e.preventDefault();\n    const id = this.state.exercise._id;\n    const {title, description, duration, sport, type, video_url, img_url, share} = this.state.exercise;\n    exercisesService.modifyOne({title, description, duration, sport, type, video_url, img_url, share}, id)\n      .then( (updatedExercise) => { \n        this.props.editExercise(updatedExercise)\n        this.props.click();\n      })\n      .catch( (err) => console.log(err));\n  }\n\n  handleChange = e => {\n    e.preventDefault();\n    \n    const { name, value } = e.target;\n    console.log(name,value);\n\n    const exerciseCopy = this.state.exercise;\n    exerciseCopy[name] = value;\n    if (name !== 'duration') {\n      this.setState({ exercise: exerciseCopy, focusInput: name });\n    } else {\n      this.setState({ exercise: exerciseCopy});\n    }\n  };\n\n  handleSport = (selected) => {\n    this.setState({sport: selected})\n  }\n\n  handleType = (selected) => {\n    this.setState({type: selected})\n  }\n\n  fileOnchange = (event) => {\n    this.setState({isLoading: true});\n    const file = event.target.files[0];\n    const uploadData = new FormData()\n    uploadData.append('photo', file)\n\n    exercisesService.uploadImage(uploadData)\n      .then((img_url) => {\n        const exerciseCopy = this.state.exercise;\n        exerciseCopy.img_url = img_url;\n        this.setState({ exercise: exerciseCopy, isLoading: false})\n        console.log(img_url)\n      })\n      .catch((error) => console.log(error))\n  }\n\n  componentDidUpdate() {\n    this.focusTextInput();\n  }\n\n  componentDidMount() {\n    const exercise = this.props.exercise;\n    const sport = {\n      value: exercise.sport,\n      label: `${exercise.sport.charAt(0).toUpperCase()}${exercise.sport.slice(1)}`\n    };\n    const type = {\n      value: exercise.type,\n      label: `${exercise.type.charAt(0).toUpperCase()}${exercise.type.slice(1)}`\n    };\n    this.setState({exercise, sport, type});\n  }\n\n  render() {\n    return(\n      <div className = { this.props.classToggle ? \"edit-exercise show\" : \"edit-exercise hidden\"} key={shortid.generate()}>\n        <div className=\"edit-exercise__backdrop\" onClick={this.props.click}></div>\n        \n        <div className=\"edit-exercise__form-container\">\n          <h2>Edit exercise</h2>\n          <button className=\"btn close-btn\" onClick={this.props.click}>X</button>\n\n          {(this.state.exercise === null) ?\n            <h1>loading</h1>\n            : (\n              <form onSubmit={this.updateExercise} className=\"input-form\">\n                <label htmlFor=\"\">Title</label>\n                <input className=\"input\" type=\"text\" value={this.state.exercise.title} name=\"title\" onChange={this.handleChange} ref={this.references['title']} />\n                <label htmlFor=\"\">Description</label>\n                <textarea value={this.state.exercise.description} name=\"description\" onChange={this.handleChange}  ref={this.references['description']}/>\n                <label htmlFor=\"\">Duration</label>\n                <input className=\"input\" type=\"number\" value={this.state.exercise.duration} name=\"duration\" onChange={this.handleChange}/>\n                <label htmlFor=\"\">Sport</label>\n                  <Select\n                    className=\"select\"\n                    value={this.state.sport}\n                    onChange={this.handleSport}\n                    options={sports}\n                    placeholder={this.state.exercise.sport}\n                    required\n                  />\n                <label htmlFor=\"\">Type</label>\n                  <Select\n                    className=\"select\"\n                    value={this.state.type}\n                    onChange={this.handleType}\n                    options={type}\n                    required\n                  />\n                <label htmlFor=\"\">Video</label>\n                <input className=\"input\" type=\"text\" name=\"video_url\" value={this.state.exercise.video_url} onChange={this.handleChange}  ref={this.references['video_url']}/>\n                <label htmlFor=\"\">Image</label>\n                <input type=\"file\" className=\"custom-file-input\" id=\"customFile\" name='img_url' onChange={(event)=>this.fileOnchange(event)} />\n                {\n                this.state.isLoading \n                  ? (<button disabled className=\"btn btn-success loading-gif-btn\">\n                      <img className=\"loading-gif\" src={'/loading.gif'} alt=\"loading\"/>\n                    </button>)\n                  : <button className=\"btn btn-success\">Save</button>\n                }\n              </form>\n            )\n          }\n        </div>\n      </div>\n    )\n  }\n}\n\nexport default TrainingExerciseEdit;","import React, { Component } from 'react';\nimport { Link } from 'react-router-dom';\n\nimport trainingsService from './../services/trainings-service';\nimport profileService from './../services/profile-service';\n\nimport TrainingExerciseEdit from './../components/TrainingExerciseEdit';\nimport ExerciseList from './../components/ExerciseList';\n\nimport Select from 'react-select';\n\nconst sports = [\n  { value: 'all', label: 'All' },\n  { value: 'rugby', label: 'Rugby' },\n  { value: 'basketball', label: 'Basketball' },\n  { value: 'football', label: 'Football' },\n];\n\nclass TrainingEdit extends Component {\n\n  state = {\n    training: {},\n    trainingExercises: [],\n    user: {},\n    showEdit: false,\n    exerciseToEdit: null,\n    sport: {}\n  }\n\n  handleInput = e => {\n    const { name, value } = e.target;\n    const trainingCopy = this.state.training;\n    trainingCopy[name] = value;\n    this.setState({ training: trainingCopy });\n  };\n\n  handleSport = (selected) => {\n    this.setState({sport: selected})\n  }\n\n  updateTraining = (e) => {\n    e.preventDefault();\n    const id = this.state.training._id;\n    const { title, description, duration } = this.state.training;\n\n    const sport = this.state.sport.value;\n\n    trainingsService.modifyOne({ title, description, duration, sport }, id)\n      .then( (modifiedTraining) => {\n        this.setState({ training: modifiedTraining });\n        this.props.history.push(`/my-trainings/${id}`);\n      })\n      .catch( (err) => console.log(err));\n  }\n\n  editExercise = (updatedEx) => {\n    const copyTrEx = this.state.trainingExercises;\n\n    const indexOfModified = copyTrEx.filter( (exercise, i) => {\n      if (exercise._id === updatedEx._id) {\n        return i\n      }\n    });\n\n    copyTrEx[indexOfModified] = updatedEx;\n    this.setState({trainingExercises: copyTrEx});\n\n  }\n\n  addExercise = (exerciseId) => {\n    const trainingId = this.state.training._id;\n\n    trainingsService.addExercise(trainingId, exerciseId)\n      .then( (result) => {\n        const trainingExercises = result.data.exercises;\n        this.setState({trainingExercises});\n      })\n      .catch( (err) => console.log(err));\n  }\n\n  deleteTraining = (e) => {\n    e.preventDefault();\n    const trainingId = this.state.training._id;\n    trainingsService.deleteOne(trainingId)\n      .then( () => this.props.history.push('/my-trainings'))\n      .catch( (err) => console.log(err));\n  }\n\n  removeExerciseFromTraining = (exerciseId) => {\n    console.log('in')\n    trainingsService.deleteExercise(this.state.training._id, exerciseId)\n      .then( (data) => {\n        const trainingExercises = data.exercises;\n        this.setState({trainingExercises});\n      })\n      .catch( (err) => console.log(err));\n  }\n\n  editToggle = (exercise) => {\n    const show = !this.state.showEdit;\n    this.setState(\n      {showEdit: show, \n      exerciseToEdit: exercise}\n    );\n  }\n\n  componentDidMount() {\n    window.scrollTo(0, 0)\n    const {id} = this.props.match.params;\n\n    trainingsService.getOne(id)\n      .then( (training) => {\n        profileService.getUser()\n          .then( (userInfo) => {\n            const sport = {\n              value: training.sport,\n              label: `${training.sport.charAt(0).toUpperCase()}${training.sport.slice(1)}`\n            };\n            this.setState({training, trainingExercises: training.exercises, user: userInfo, sport});\n          })\n          .catch( (err) => console.log(err));\n      })\n    \n  }\n\n  render() { \n    const training = this.state.training;\n    const trainingExercises = this.state.trainingExercises;\n    const userExercises = this.state.user.exercises;\n    const savedExercises = this.state.user.savedExercises;\n\n    return(\n      <main className=\"content\">\n        <button className=\"btn-icon\" onClick={() => this.props.history.goBack()}>\n          <img src={'/arrow.svg'} className=\"back-icon\" alt=\"\"/>\n        </button>\n        <div className=\"training-header\">\n          <h1>Edit training</h1>\n          <button className=\"btn btn-delete\" onClick={this.deleteTraining}>Delete training</button>\n        </div>\n        <div className=\"edit-training\">\n          {this.state.showEdit ?\n            (\n              <TrainingExerciseEdit \n                classToggle={this.state.showEdit} \n                click={this.editToggle}\n                editExercise={this.editExercise}\n                exercise={this.state.exerciseToEdit}\n              />\n            )\n            :null\n          }\n        \n          <section className=\"edit-training__info\">\n            <form onSubmit={this.updateTraining} class=\"input-form\">\n              <label htmlFor=\"\">Title</label>\n              <input class=\"input\" type=\"text\" value={training.title} name=\"title\" onChange={this.handleInput} />\n              <label htmlFor=\"\">Description</label>\n              <textarea value={training.description} name=\"description\" onChange={this.handleInput}/>\n              <div className=\"inline-display\">\n                <label htmlFor=\"\">Duration</label>\n                <input className=\"input\" type=\"number\" value={training.duration} name=\"duration\" onChange={this.handleInput} required/>\n                <span>min</span>\n              </div>\n              <label htmlFor=\"\">Sport</label>\n                  <Select\n                    className=\"select\"\n                    value={this.state.sport}\n                    onChange={this.handleSport}\n                    options={sports}\n                    placeholder={training.sport}\n                    required\n                  />\n              <button className=\"btn btn-success\">Save</button>\n            </form>\n            <div className=\"exercises-edit\">\n              <h4>Exercises</h4>\n              {\n                trainingExercises.length ?\n                  (\n                    trainingExercises.map( (exercise, i) => {\n                      return (\n                        <div className=\"training-info__exercises\" key={i}>\n                          <div className=\"list-container__item list-container__item--training\" key={i}>\n                            <Link to={`/profile/${exercise._id}`}>\n                              <div className=\"inline-display\">\n                                <p><strong>{i+1}. {exercise.title}</strong></p>\n                                <span className={`item-type ${exercise.type}`}>{exercise.type}</span>\n                              </div>\n                              <p><strong>Sport: </strong>{exercise.sport}</p>\n                              <span><img src={'/stopwatch.png'} className='stopwatch-icon'/>{exercise.duration} min</span>\n                              <p>{exercise.description}</p>\n                              \n                            </Link>\n                          </div>\n                          <div className=\"training-info__exercises__buttons\">\n                            <button className=\"btn btn-edit\" onClick={() => this.editToggle(exercise)}>Edit</button>\n                            <button className=\"btn-icon\" onClick={() => this.removeExerciseFromTraining(exercise._id)}>\n                              <img src={\"/bin.png\"} alt=\"remove-exercise\" className=\"btn-icon__action\"/>\n                            </button>\n                          </div>      \n                        </div>\n                      )\n                    })\n                  \n                  )\n                    \n                : <p><strong>Add exercises!</strong></p>\n              }\n            </div>\n          </section>\n          <section className=\"edit-training__user-exercises\">\n            {\n              userExercises \n                ? <h2>Your Exercises ({userExercises.length})</h2>\n                : <h2>Your Exercises (0)</h2>  \n            }  \n            { userExercises ?\n                  (\n                    <ExerciseList\n                      exercises={userExercises}\n                      userId={this.state.user._id} \n                      inEditTraining={true}\n                      addExercise={this.addExercise}\n                    />\n                  )\n                  : null\n                }\n          </section>\n          <section className=\"edit-training__saved-exercises\">\n            {\n              savedExercises\n                ? <h2>Saved Exercises ({savedExercises.length})</h2>\n                : <h2>Saved Exercises (0)</h2>\n            }\n            {\n              savedExercises ?\n                (\n                  <ExerciseList\n                    exercises={savedExercises}\n                    userId={this.state.user._id} \n                    inEditTraining={true}\n                    addExercise={this.addExercise}\n                  />\n                )\n              : null\n            }\n          </section>\n        </div>\n      </main>\n    )\n  }\n}\n\nexport default TrainingEdit;","import React, { Component } from 'react';\nimport { Switch, Route, withRouter } from 'react-router-dom';\nimport \"./App.scss\";\nimport \"./styles/auth.scss\";\n\nimport Signup from './pages/Signup';\nimport Login from './pages/Login';\nimport Home from './pages/Home';\n\n// Routes\nimport AnonRoute from './components/AnonRoute';\nimport PrivateRoute from './components/PrivateRoute';\n\nimport SearchBar from './components/SearchBar';\nimport SideMenu from './components/SideMenu';\n\nimport Profile from './pages/Profile';\nimport ProfileEdit from './pages/ProfileEdit';\nimport MyTrainings from './pages/MyTrainings';\nimport Discover from './pages/Discover';\nimport ExerciseDetails from './pages/ExerciseDetails';\nimport ExerciseNew from './pages/ExerciseNew';\nimport ExerciseEdit from './pages/ExerciseEdit';\nimport TrainingDetails from './pages/TrainingDetails';\nimport TrainingNew from './pages/TrainingNew';\nimport TrainingEdit from './pages/TrainingEdit';\n\n\nimport './styles/buttons.scss';\n\nclass App extends Component {\n\n  state = {\n    searchResult: []\n  }\n\n  submitSearch = (e, searchStr) => {\n    e.preventDefault();\n    this.props.history.push(`/discover?search=${searchStr}`);\n  }\n\n  render() {\n    return (\n      <div className=\"App\">\n        {/* SearchBar component --> search, name and image here*/}\n        <SearchBar submit={this.submitSearch}/>\n        {/* SideMenu component --> logout here*/}\n        <SideMenu/>\n        <Switch>\n          <AnonRoute exact path=\"/signup\" component={Signup} />\n          <AnonRoute exact path=\"/login\" component={Login} />\n          \n          <PrivateRoute exact path=\"/\" component={Home} />\n          {/* Navigation routes */}\n          <PrivateRoute exact path=\"/profile\" component={Profile} />\n          <PrivateRoute exact path=\"/my-trainings\" component={MyTrainings} />\n          <PrivateRoute exact path=\"/discover\" component={Discover}/>\n\n          {/* INNER ROUTES */}\n          {/* -- Profile -- */}\n          <PrivateRoute exact path=\"/profile/new-exercise\" component={ExerciseNew} />\n          <PrivateRoute exact path=\"/profile/edit\" component={ProfileEdit} />\n          <PrivateRoute exact path=\"/profile/:id\" component={ExerciseDetails} />\n          <PrivateRoute exact path=\"/profile/:id/edit\" component={ExerciseEdit} />\n\n          {/* -- My trainings -- */}\n          <PrivateRoute exact path=\"/my-trainings/new-training\" component={TrainingNew} />\n          <PrivateRoute exact path=\"/my-trainings/:id\" component={TrainingDetails} />\n          <PrivateRoute exact path=\"/my-trainings/:id/edit\" component={TrainingEdit} />\n\n          {/* -- Discover -- */}\n          <PrivateRoute exact path=\"/discover/:id\" component={ExerciseDetails} />\n          {/* -- Forum -- */}\n        </Switch>\n      </div>\n    );\n  }\n}\n\nexport default withRouter(App);\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport App from './App';\nimport { BrowserRouter as Router } from 'react-router-dom';\nimport AuthProvider from './services/AuthProvider';\n\nReactDOM.render(\n  <Router>\n    <AuthProvider>\n      <App />\n    </AuthProvider>\n  </Router>,\n  document.getElementById('root'),\n);\n"],"sourceRoot":""}