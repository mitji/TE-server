(this["webpackJsonpreact-auth-client-done-v2"]=this["webpackJsonpreact-auth-client-done-v2"]||[]).push([[0],{18:function(e,t,n){},22:function(e,t,n){},35:function(e,t,n){},36:function(e,t,n){},40:function(e,t,n){e.exports=n(77)},45:function(e,t,n){},76:function(e,t,n){},77:function(e,t,n){"use strict";n.r(t);var a=n(0),r=n.n(a),i=n(37),c=n.n(i),l=n(1),s=n(2),o=n(4),u=n(3),m=n(5),h=n(14),p=(n(45),n(19)),d=n(6),g=n(12),E=n.n(g),v=new(function(){function e(){Object(l.a)(this,e),this.auth=E.a.create({baseURL:"https://te-app.herokuapp.com",withCredentials:!0})}return Object(s.a)(e,[{key:"signup",value:function(e){var t=e.email,n=e.name,a=e.lastName,r=e.password;return this.auth.post("/auth/signup",{email:t,name:n,lastName:a,password:r}).then((function(e){return e.data}))}},{key:"login",value:function(e){var t=e.email,n=e.password;return this.auth.post("/auth/login",{email:t,password:n}).then((function(e){return e.data}))}},{key:"logout",value:function(){return this.auth.post("/auth/logout",{}).then((function(e){return e.data}))}},{key:"me",value:function(){return this.auth.get("/auth/me").then((function(e){return e.data}))}}]),e}()),f=r.a.createContext(),b=f.Consumer,x=f.Provider,y=function(e){return function(t){function n(){return Object(l.a)(this,n),Object(o.a)(this,Object(u.a)(n).apply(this,arguments))}return Object(m.a)(n,t),Object(s.a)(n,[{key:"render",value:function(){var t=this;return r.a.createElement(b,null,(function(n){var a=n.login,i=n.signup,c=n.user,l=n.logout,s=n.isLoggedin,o=n.isLoading;return r.a.createElement(e,Object.assign({login:a,signup:i,user:c,logout:l,isLoggedin:s,isLoading:o},t.props))}))}}]),n}(r.a.Component)},O=function(e){function t(){var e,n;Object(l.a)(this,t);for(var a=arguments.length,r=new Array(a),i=0;i<a;i++)r[i]=arguments[i];return(n=Object(o.a)(this,(e=Object(u.a)(t)).call.apply(e,[this].concat(r)))).state={isLoggedin:!1,user:null,isLoading:!0},n.signup=function(e){var t=e.email,a=e.name,r=e.lastName,i=e.password;v.signup({email:t,name:a,lastName:r,password:i}).then((function(e){return n.setState({isLoggedin:!0,user:e})})).catch((function(e){return console.log(e)}))},n.login=function(e){var t=e.email,a=e.password;v.login({email:t,password:a}).then((function(e){return n.setState({isLoggedin:!0,user:e})})).catch((function(e){return console.log(e)}))},n.logout=function(){v.logout().then((function(){return n.setState({isLoggedin:!1,user:null})})).catch((function(e){return console.log(e)}))},n}return Object(m.a)(t,e),Object(s.a)(t,[{key:"componentDidMount",value:function(){var e=this;v.me().then((function(t){return e.setState({isLoggedin:!0,user:t,isLoading:!1})})).catch((function(t){return e.setState({isLoggedin:!1,user:null,isLoading:!1})}))}},{key:"render",value:function(){var e=this.state,t=e.isLoading,n=e.isLoggedin,a=e.user,i=this.login,c=this.logout,l=this.signup;return r.a.createElement(x,{value:{isLoading:t,isLoggedin:n,user:a,login:i,logout:c,signup:l}},this.props.children)}}]),t}(r.a.Component),j=y(function(e){function t(){var e,n;Object(l.a)(this,t);for(var a=arguments.length,r=new Array(a),i=0;i<a;i++)r[i]=arguments[i];return(n=Object(o.a)(this,(e=Object(u.a)(t)).call.apply(e,[this].concat(r)))).state={email:"",name:"",lastName:"",password:""},n.handleFormSubmit=function(e){e.preventDefault();var t=n.state,a=t.email,r=t.name,i=t.lastName,c=t.password;n.props.signup({email:a,name:r,lastName:i,password:c})},n.handleChange=function(e){var t=e.target,a=t.name,r=t.value;n.setState(Object(p.a)({},a,r))},n}return Object(m.a)(t,e),Object(s.a)(t,[{key:"render",value:function(){var e=this.state,t=e.email,n=e.name,a=e.lastName,i=e.password;return r.a.createElement("div",null,r.a.createElement("h1",null,"Sign Up"),r.a.createElement("form",{onSubmit:this.handleFormSubmit},r.a.createElement("label",null,"Email:"),r.a.createElement("input",{type:"email",name:"email",value:t,onChange:this.handleChange}),r.a.createElement("label",null,"Name:"),r.a.createElement("input",{type:"text",name:"name",value:n,onChange:this.handleChange}),r.a.createElement("label",null,"Last name:"),r.a.createElement("input",{type:"text",name:"lastName",value:a,onChange:this.handleChange}),r.a.createElement("label",null,"Password:"),r.a.createElement("input",{type:"password",name:"password",value:i,onChange:this.handleChange}),r.a.createElement("input",{type:"submit",value:"Signup"})),r.a.createElement("p",null,"Already have account?"),r.a.createElement(d.b,{to:"/login"}," Login"))}}]),t}(a.Component)),k=y(function(e){function t(){var e,n;Object(l.a)(this,t);for(var a=arguments.length,r=new Array(a),i=0;i<a;i++)r[i]=arguments[i];return(n=Object(o.a)(this,(e=Object(u.a)(t)).call.apply(e,[this].concat(r)))).state={email:"",password:""},n.handleFormSubmit=function(e){e.preventDefault();var t=n.state,a=t.email,r=t.password;n.props.login({email:a,password:r})},n.handleChange=function(e){var t=e.target,a=t.name,r=t.value;n.setState(Object(p.a)({},a,r))},n}return Object(m.a)(t,e),Object(s.a)(t,[{key:"render",value:function(){var e=this.state,t=e.email,n=e.password;return r.a.createElement("div",null,r.a.createElement("h1",null,"Login"),r.a.createElement("form",{onSubmit:this.handleFormSubmit},r.a.createElement("label",null,"Email:"),r.a.createElement("input",{type:"email",name:"email",value:t,onChange:this.handleChange}),r.a.createElement("label",null,"Password:"),r.a.createElement("input",{type:"password",name:"password",value:n,onChange:this.handleChange}),r.a.createElement("input",{type:"submit",value:"Login"}),r.a.createElement("p",null,"Not a user yet?"),r.a.createElement(d.b,{to:"/signup"},"Sign up")))}}]),t}(a.Component)),C=y(function(e){function t(){return Object(l.a)(this,t),Object(o.a)(this,Object(u.a)(t).apply(this,arguments))}return Object(m.a)(t,e),Object(s.a)(t,[{key:"render",value:function(){var e=this.props,t=e.user,n=(e.logout,e.isLoggedin);return r.a.createElement("div",null,n?r.a.createElement("nav",null,r.a.createElement("input",{type:"text",placeholder:"Search exercise..."}),r.a.createElement("p",null,"Hi ",t.name)):null)}}]),t}(a.Component)),_=y(function(e){function t(){return Object(l.a)(this,t),Object(o.a)(this,Object(u.a)(t).apply(this,arguments))}return Object(m.a)(t,e),Object(s.a)(t,[{key:"render",value:function(){var e=this.props,t=(e.user,e.logout,e.isLoggedin);return r.a.createElement("div",null,t?r.a.createElement("section",{className:"sidebar"},r.a.createElement("img",{className:"logo",src:"",alt:"logo"}),r.a.createElement("div",{className:"sidebar__links-wrapper"},r.a.createElement(d.c,{to:"/profile",activeClassName:"selected"},r.a.createElement("h4",null,"Profile")),r.a.createElement(d.c,{to:"/my-trainings",activeClassName:"selected"},r.a.createElement("h4",null,"My trainings")),r.a.createElement(d.c,{to:"/discover",activeClassName:"selected"},r.a.createElement("h4",null,"Discover")),r.a.createElement(d.c,{to:"#"},r.a.createElement("h4",null,"Articles")),r.a.createElement("button",{onClick:this.props.logout},"Logout"))):null)}}]),t}(a.Component)),w=n(20);var S=y((function(e){var t=e.component,n=e.isLoggedin,a=e.isLoading,i=Object(w.a)(e,["component","isLoggedin","isLoading"]);return a?r.a.createElement("h1",null,"Loading"):r.a.createElement(h.b,Object.assign({},i,{render:function(e){return n?r.a.createElement(t,e):r.a.createElement(h.a,{to:"/login"})}}))})),N=n(10),L=n.n(N),I=new(function(){function e(){Object(l.a)(this,e),this.profile=E.a.create({baseURL:"https://te-app.herokuapp.com/profile",withCredentials:!0})}return Object(s.a)(e,[{key:"getUser",value:function(){return this.profile.get("/").then((function(e){return e.data}))}},{key:"unsaveExercise",value:function(e){return this.profile.put("/".concat(e)).then((function(e){return e.data}))}}]),e}()),T=(n(22),n(18),n(35),function(e){function t(e){var n;return Object(l.a)(this,t),(n=Object(o.a)(this,Object(u.a)(t).call(this,e))).state={userTraining:n.props.training},n}return Object(m.a)(t,e),Object(s.a)(t,[{key:"render",value:function(){var e=this.state.userTraining;return r.a.createElement("div",{className:"training-card",key:L.a.generate()},r.a.createElement(d.b,{to:"/my-trainings/".concat(e._id)},r.a.createElement("div",{className:"training-card__header"},r.a.createElement("h4",null,e.title),r.a.createElement("span",null,e.duration," min")),e.exercises.map((function(e){return r.a.createElement("div",{className:"training-card__exercise",key:L.a.generate()},r.a.createElement("p",null,e.title),r.a.createElement("span",{className:"item-type ".concat(e.type)},e.type))}))))}}]),t}(a.Component)),D=function(e){function t(e){var n;return Object(l.a)(this,t),(n=Object(o.a)(this,Object(u.a)(t).call(this,e))).state={exerciseArr:n.props.exercises,listLength:n.props.exercises.length},n}return Object(m.a)(t,e),Object(s.a)(t,[{key:"unsaveExercise",value:function(e){var t=this;I.unsaveExercise(e).then((function(e){var n=e.savedExercises;t.props.updateLength(),t.setState({exerciseArr:n})})).catch((function(e){return console.log(e)}))}},{key:"render",value:function(){var e=this,t=this.state.exerciseArr;return r.a.createElement("div",{className:"exercises-container"},t.map((function(t){return r.a.createElement("div",{className:"exercises-container__item",key:L.a.generate()},r.a.createElement(d.b,{to:"/profile/".concat(t._id)},r.a.createElement("p",null,t.title),r.a.createElement("span",{className:"item-type ".concat(t.type)},t.type),r.a.createElement("p",null,t.description),t.author._id!==e.props.userId?r.a.createElement("div",null,r.a.createElement("p",null,r.a.createElement("strong",null,"Author: "),t.author.name," ",t.author.lastName),r.a.createElement("p",null,r.a.createElement("strong",null,"Duration:"),t.duration)):null),t.author._id===e.props.userId||e.props.inEditTraining?null:r.a.createElement("button",{onClick:function(){return e.unsaveExercise(t._id)}},"Unsave"),e.props.inEditTraining?r.a.createElement("button",{onClick:function(){return e.props.addExercise(t._id)}},"Add to training"):null)})))}}]),t}(a.Component),F=function(e){function t(){var e,n;Object(l.a)(this,t);for(var a=arguments.length,r=new Array(a),i=0;i<a;i++)r[i]=arguments[i];return(n=Object(o.a)(this,(e=Object(u.a)(t)).call.apply(e,[this].concat(r)))).state={user:{},savedExercisesLength:0},n.updateLength=function(){var e=n.state.savedExercisesLength;e-=1,n.setState({savedExercisesLength:e})},n}return Object(m.a)(t,e),Object(s.a)(t,[{key:"componentDidMount",value:function(){var e=this;window.scrollTo(0,0),I.getUser().then((function(t){e.setState({user:t}),e.setState({savedExercisesLength:t.savedExercises.length})})).catch((function(e){return console.log(e)}))}},{key:"render",value:function(){var e=this.state.user.exercises,t=this.state.user.savedExercises,n=this.state.user.trainings;return r.a.createElement("main",{className:"content"},r.a.createElement("h1",null,"Profile"),r.a.createElement("div",{className:"profile-container"},r.a.createElement("div",{className:"profile-column"},n?r.a.createElement("h2",null,"Your Trainings (",n.length,")"):r.a.createElement("h2",null,"Your Trainings (0)"),n?r.a.createElement("div",{className:"training-container"},n.map((function(e){return r.a.createElement(T,{training:e,key:L.a.generate()})}))):null),r.a.createElement("div",{className:"profile-column"},e?r.a.createElement("h2",null,"Your Exercises (",e.length,")"):r.a.createElement("h2",null,"Your Exercises (0)"),r.a.createElement(d.b,{to:"/profile/new-exercise"},"Create exercise"),e?r.a.createElement(D,{exercises:e,userId:this.state.user._id}):null),r.a.createElement("div",{className:"profile-column"},t?r.a.createElement("h2",null,"Saved Exercises (",this.state.savedExercisesLength,")"):r.a.createElement("h2",null,"Saved Exercises (0)"),t?r.a.createElement(D,{exercises:t,userId:this.state.user._id,updateLength:this.updateLength}):null)))}}]),t}(a.Component),A=new(function(){function e(){Object(l.a)(this,e),this.training=E.a.create({baseURL:"https://te-app.herokuapp.com/my-trainings",withCredentials:!0})}return Object(s.a)(e,[{key:"getAll",value:function(){return this.training.get("/").then((function(e){return e.data}))}},{key:"create",value:function(e){var t=e.title,n=e.description,a=e.duration,r=e.sport,i=e.type,c=e.exercises;return this.training.post("/new",{title:t,description:n,duration:a,sport:r,type:i,exercises:c}).then((function(e){return e.data}))}},{key:"getOne",value:function(e){return this.training.get("/".concat(e)).then((function(e){return e.data}))}},{key:"deleteOne",value:function(e){return this.training.delete("/".concat(e)).then((function(e){return e.data}))}},{key:"deleteExercise",value:function(e,t){return this.training.put("/".concat(e,"/").concat(t,"/delete")).then((function(e){return e.data}))}},{key:"modifyOne",value:function(e,t){var n=e.title,a=e.description,r=e.duration,i=e.sport;return this.training.put("/".concat(t),{title:n,description:a,duration:r,sport:i}).then((function(e){return e.data}))}},{key:"addExercise",value:function(e,t){return this.training.post("/".concat(e,"/").concat(t)).then((function(e){return e}))}}]),e}()),B=(n(36),function(e){function t(){var e,n;Object(l.a)(this,t);for(var a=arguments.length,r=new Array(a),i=0;i<a;i++)r[i]=arguments[i];return(n=Object(o.a)(this,(e=Object(u.a)(t)).call.apply(e,[this].concat(r)))).state={trainings:[]},n}return Object(m.a)(t,e),Object(s.a)(t,[{key:"componentDidMount",value:function(){var e=this;window.scrollTo(0,0),A.getAll().then((function(t){e.setState({trainings:t})})).catch((function(e){return console.log(e)}))}},{key:"render",value:function(){var e=this.state.trainings;return r.a.createElement("div",{className:"content"},r.a.createElement("h1",null,"My Trainings"),r.a.createElement(d.b,{to:"/my-trainings/new-training"},r.a.createElement("button",null,"New training")),r.a.createElement("div",{className:"trainings-list "},e?e.map((function(e,t){return r.a.createElement(T,{training:e,key:t})})):r.a.createElement("h2",null,"No trainings")))}}]),t}(a.Component)),M=function(e){function t(e){var n;return Object(l.a)(this,t),(n=Object(o.a)(this,Object(u.a)(t).call(this,e))).state={exercise:n.props.exercise},n}return Object(m.a)(t,e),Object(s.a)(t,[{key:"render",value:function(){var e=this.state.exercise;return r.a.createElement("div",{className:"discover-card",key:L.a.generate()},r.a.createElement(d.b,{to:"/discover/".concat(e._id)},r.a.createElement("div",{className:"discover-card__header"},r.a.createElement("h4",null,e.title),r.a.createElement("p",null,e.duration," min | ",e.sport),r.a.createElement("p",null,e.type),r.a.createElement("p",null,"By ",e.author.name," ",e.author.lastName))))}}]),t}(a.Component),U=new(function(){function e(){Object(l.a)(this,e),this.discover=E.a.create({baseURL:"https://te-app.herokuapp.com/discover",withCredentials:!0})}return Object(s.a)(e,[{key:"getAll",value:function(){return this.discover.get("/").then((function(e){return e.data}))}},{key:"save",value:function(e){return this.discover.put("".concat(e)).then((function(e){return e.data}))}}]),e}()),Y=(n(76),function(e){function t(){var e,n;Object(l.a)(this,t);for(var a=arguments.length,r=new Array(a),i=0;i<a;i++)r[i]=arguments[i];return(n=Object(o.a)(this,(e=Object(u.a)(t)).call.apply(e,[this].concat(r)))).state={publicExercises:[]},n}return Object(m.a)(t,e),Object(s.a)(t,[{key:"componentDidMount",value:function(){var e=this;window.scrollTo(0,0),U.getAll().then((function(t){e.setState({publicExercises:t})})).catch((function(e){return console.log(e)}))}},{key:"render",value:function(){var e=this.state.publicExercises;return r.a.createElement("div",{className:"content"},r.a.createElement("h1",null,"Discover page"),e?r.a.createElement("div",{className:"discover-list"},e.map((function(e){return r.a.createElement(M,{exercise:e})}))):null)}}]),t}(a.Component)),R=(a.Component,y(function(e){function t(){return Object(l.a)(this,t),Object(o.a)(this,Object(u.a)(t).apply(this,arguments))}return Object(m.a)(t,e),Object(s.a)(t,[{key:"render",value:function(){var e=this.props,t=(e.user,e.logout,e.isLoggedin);return r.a.createElement("div",null,t?r.a.createElement(h.a,{to:"/profile"}):r.a.createElement("div",null,r.a.createElement(d.b,{to:"/login"}," ",r.a.createElement("button",null,"Login")," "),r.a.createElement("br",null),r.a.createElement(d.b,{to:"/signup"}," ",r.a.createElement("button",null,"Signup")," ")))}}]),t}(a.Component))),P=new(function(){function e(){Object(l.a)(this,e),this.exercises=E.a.create({baseURL:"https://te-app.herokuapp.com/exercises",withCredentials:!0})}return Object(s.a)(e,[{key:"getOne",value:function(e){return this.exercises.get("/".concat(e)).then((function(e){return e.data}))}},{key:"create",value:function(e){var t=e.title,n=e.description,a=e.duration,r=e.sport,i=e.type,c=e.video_url,l=e.img_url,s=e.share;return this.exercises.post("/new",{title:t,description:n,duration:a,sport:r,type:i,video_url:c,img_url:l,share:s}).then((function(e){return e.data}))}},{key:"modifyOne",value:function(e,t){var n=e.title,a=e.description,r=e.duration,i=e.sport,c=e.type,l=e.video_url,s=e.img_url,o=e.share;return this.exercises.put("/".concat(t),{title:n,description:a,duration:r,sport:i,type:c,video_url:l,img_url:s,share:o}).then((function(e){return e.data}))}},{key:"deleteOne",value:function(e){return this.exercises.delete("/".concat(e)).then((function(e){return e.data}))}}]),e}()),J=function(e){function t(){var e,n;Object(l.a)(this,t);for(var a=arguments.length,r=new Array(a),i=0;i<a;i++)r[i]=arguments[i];return(n=Object(o.a)(this,(e=Object(u.a)(t)).call.apply(e,[this].concat(r)))).state={exercise:{},userId:""},n.saveExercise=function(e){e.preventDefault(),console.log("in");var t=n.state.exercise._id;U.save(t).then((function(){console.log("added to favourites")})).catch((function(e){return console.log(e)}))},n}return Object(m.a)(t,e),Object(s.a)(t,[{key:"componentDidMount",value:function(){var e=this;window.scrollTo(0,0);var t=this.props.match.params.id;P.getOne(t).then((function(t){I.getUser().then((function(n){e.setState({exercise:t}),e.setState({userId:n._id})})).catch((function(e){return console.log(e)}))}))}},{key:"render",value:function(){var e=this,t=this.state.exercise,n=this.state.userId;return r.a.createElement("main",{className:"content"},r.a.createElement("h1",null,"Exercise details"),t?r.a.createElement("div",null,r.a.createElement("h2",null,t.title),t.share?null:r.a.createElement(d.b,{to:"/profile/".concat(t._id,"/edit")},r.a.createElement("button",null,"Edit")),r.a.createElement("p",null,t.description),r.a.createElement("p",null,r.a.createElement("strong",null,"Duration:")," ",t.duration),t.author!==n?r.a.createElement("button",{onClick:this.saveExercise},"Save"):null):null,r.a.createElement("button",{onClick:function(){return e.props.history.goBack()}},"Back"))}}]),t}(a.Component),V=function(e){function t(){var e,n;Object(l.a)(this,t);for(var a=arguments.length,r=new Array(a),i=0;i<a;i++)r[i]=arguments[i];return(n=Object(o.a)(this,(e=Object(u.a)(t)).call.apply(e,[this].concat(r)))).state={exercise:[]},n.handleInput=function(e){var t=e.target,a=t.name,r=t.value,i=n.state.exercise;i[a]=r,n.setState({exercise:i})},n.saveExercise=function(e){e.preventDefault();var t=n.state.exercise,a=t.title,r=t.description,i=t.duration,c=t.sport,l=t.type,s=t.video_url,o=t.img_url,u=t.share;P.create({title:a,description:r,duration:i,sport:c,type:l,video_url:s,img_url:o,share:u}).then((function(){n.props.history.push("/profile")})).catch((function(e){return console.log(e)}))},n}return Object(m.a)(t,e),Object(s.a)(t,[{key:"componentDidMount",value:function(){window.scrollTo(0,0)}},{key:"render",value:function(){var e=this;return r.a.createElement("div",{className:"content"},r.a.createElement("h1",null,"New exercise"),r.a.createElement("form",{onSubmit:this.saveExercise},r.a.createElement("label",{htmlFor:""},"Title"),r.a.createElement("input",{type:"text",value:this.state.exercise.title,name:"title",onChange:this.handleInput}),r.a.createElement("label",{htmlFor:""},"Description"),r.a.createElement("textarea",{value:this.state.exercise.description,name:"description",onChange:this.handleInput}),r.a.createElement("label",{htmlFor:""},"Duration"),r.a.createElement("input",{type:"number",value:this.state.exercise.duration,name:"duration",onChange:this.handleInput}),r.a.createElement("label",{htmlFor:""},"Sport"),r.a.createElement("input",{type:"text",name:"sport",value:this.state.exercise.sport,onChange:this.handleInput}),r.a.createElement("label",{htmlFor:""},"Type"),r.a.createElement("input",{type:"text",name:"type",value:this.state.exercise.type,onChange:this.handleInput}),r.a.createElement("label",{htmlFor:""},"Video"),r.a.createElement("input",{type:"text",name:"video_url",value:this.state.exercise.video_url,onChange:this.handleInput}),r.a.createElement("label",{htmlFor:""},"Image"),r.a.createElement("input",{type:"text",name:"img_url",value:this.state.exercise.img_url,onChange:this.handleInput}),r.a.createElement("label",{htmlFor:""},"Share"),r.a.createElement("input",{type:"text",name:"share",value:this.state.exercise.share,onChange:this.handleInput}),r.a.createElement("button",null,"Save")),r.a.createElement("button",{onClick:function(){return e.props.history.goBack()}},"Back"))}}]),t}(a.Component),H=function(e){function t(){var e,n;Object(l.a)(this,t);for(var a=arguments.length,r=new Array(a),i=0;i<a;i++)r[i]=arguments[i];return(n=Object(o.a)(this,(e=Object(u.a)(t)).call.apply(e,[this].concat(r)))).state={exercise:{}},n.handleInput=function(e){var t=e.target,a=t.name,r=t.value,i=n.state.exercise;i[a]=r,n.setState({exercise:i})},n.updateExercise=function(e){e.preventDefault();var t=n.state.exercise._id,a=n.state.exercise,r=a.title,i=a.description,c=a.duration,l=a.sport,s=a.type,o=a.video_url,u=a.img_url,m=a.share;P.modifyOne({title:r,description:i,duration:c,sport:l,type:s,video_url:o,img_url:u,share:m},t).then((function(e){n.setState({exercise:e}),n.props.history.goBack()})).catch((function(e){return console.log(e)}))},n.deleteExercise=function(){P.deleteOne(n.state.exercise._id).then((function(){n.props.history.push("/profile")})).catch((function(e){return console.log(e)}))},n}return Object(m.a)(t,e),Object(s.a)(t,[{key:"componentDidMount",value:function(){var e=this;window.scrollTo(0,0);var t=this.props.match.params.id;P.getOne(t).then((function(t){e.setState({exercise:t})})).catch((function(e){return console.log(e)}))}},{key:"render",value:function(){var e=this;return r.a.createElement("main",{className:"content"},r.a.createElement("h1",null,"Exercise details"),r.a.createElement("form",{onSubmit:this.updateExercise},r.a.createElement("label",{htmlFor:""},"Title"),r.a.createElement("input",{type:"text",value:this.state.exercise.title,name:"title",onChange:this.handleInput}),r.a.createElement("label",{htmlFor:""},"Description"),r.a.createElement("textarea",{value:this.state.exercise.description,name:"description",onChange:this.handleInput}),r.a.createElement("label",{htmlFor:""},"Duration"),r.a.createElement("input",{type:"number",value:this.state.exercise.duration,name:"duration",onChange:this.handleInput}),r.a.createElement("label",{htmlFor:""},"Sport"),r.a.createElement("input",{type:"text",name:"sport",value:this.state.exercise.sport,onChange:this.handleInput}),r.a.createElement("label",{htmlFor:""},"Type"),r.a.createElement("input",{type:"text",name:"type",value:this.state.exercise.type,onChange:this.handleInput}),r.a.createElement("label",{htmlFor:""},"Video"),r.a.createElement("input",{type:"text",name:"video_url",value:this.state.exercise.video_url,onChange:this.handleInput}),r.a.createElement("label",{htmlFor:""},"Image"),r.a.createElement("input",{type:"text",name:"img_url",value:this.state.exercise.img_url,onChange:this.handleInput}),r.a.createElement("label",{htmlFor:""},"Share"),r.a.createElement("input",{type:"text",name:"share",value:this.state.exercise.share,onChange:this.handleInput}),r.a.createElement("button",null,"Save")),r.a.createElement("button",{onClick:function(){return e.props.history.goBack()}},"Back"),r.a.createElement("button",{onClick:this.deleteExercise},"Delete"))}}]),t}(a.Component),q=function(e){function t(e){var n;return Object(l.a)(this,t),(n=Object(o.a)(this,Object(u.a)(t).call(this,e))).state={training:n.props.training},n}return Object(m.a)(t,e),Object(s.a)(t,[{key:"componentDidMount",value:function(){var e=this;window.scrollTo(0,0);var t=this.props.match.params.id;A.getOne(t).then((function(t){e.setState({training:t})})).catch((function(e){return console.log(e)}))}},{key:"render",value:function(){var e=this,t=this.state.training;return r.a.createElement("div",{className:"content"},r.a.createElement("button",{onClick:function(){return e.props.history.push("/my-trainings")}},"Back"),t?r.a.createElement("div",{className:"training-info"},r.a.createElement("div",{className:"training-info__header"},r.a.createElement("h1",null,t.title),r.a.createElement("span",null,t.duration," min | ",t.sport),r.a.createElement(d.b,{to:"/my-trainings/".concat(t._id,"/edit")},r.a.createElement("button",null,"Edit"))),r.a.createElement("p",{className:"training-info__description"},t.description),t.exercises.map((function(e){return r.a.createElement("div",{className:"training-info__exercises",key:L.a.generate()},r.a.createElement("h4",null,e.title),r.a.createElement("span",{className:"item-type ".concat(e.type)},e.type),r.a.createElement("p",null,e.description),r.a.createElement("p",null,r.a.createElement("strong",null,"Sport: "),e.sport))}))):null)}}]),t}(a.Component),z=function(e){function t(){var e,n;Object(l.a)(this,t);for(var a=arguments.length,r=new Array(a),i=0;i<a;i++)r[i]=arguments[i];return(n=Object(o.a)(this,(e=Object(u.a)(t)).call.apply(e,[this].concat(r)))).state={training:{},trainingId:"",trainingExercises:[],user:{}},n.handleInput=function(e){var t=e.target,a=t.name,r=t.value,i=n.state.training;i[a]=r,n.setState({training:i})},n.saveTraining=function(e){e.preventDefault();var t=n.state.training._id,a=n.state.training,r=a.title,i=a.description,c=a.duration,l=a.sport;A.modifyOne({title:r,description:i,duration:c,sport:l},t).then((function(e){n.setState({training:e}),n.props.history.push("/my-trainings/".concat(t))})).catch((function(e){return console.log(e)}))},n.cancelNewTraining=function(e){e.preventDefault();var t=n.state.training._id;A.deleteOne(t).then((function(){return n.props.history.push("/my-trainings")})).catch((function(e){return console.log(e)}))},n.addExercise=function(e){var t=n.state.training._id;A.addExercise(t,e).then((function(e){var t=e.data.exercises;n.setState({trainingExercises:t})})).catch((function(e){return console.log(e)}))},n.removeExerciseFromTraining=function(e){A.deleteExercise(n.state.training._id,e).then((function(e){var t=e.exercises;n.setState({trainingExercises:t})})).catch((function(e){return console.log(e)}))},n}return Object(m.a)(t,e),Object(s.a)(t,[{key:"componentDidMount",value:function(){var e=this;window.scrollTo(0,0);A.create({title:" ",description:" ",duration:"0",sport:" "}).then((function(t){I.getUser().then((function(n){e.setState({training:t}),e.setState({trainingId:t._id}),e.setState({trainingExercises:t.exercises}),e.setState({user:n})})).catch((function(e){return console.log(e)}))}))}},{key:"render",value:function(){var e=this,t=this.state.training,n=this.state.trainingExercises,a=this.state.user.exercises,i=this.state.user.savedExercises;return r.a.createElement("main",{className:"content edit-training"},r.a.createElement("section",{className:"edit-training__info"},r.a.createElement("form",{onSubmit:this.saveTraining},r.a.createElement("label",{htmlFor:""},"Title"),r.a.createElement("input",{type:"text",value:t.title,name:"title",onChange:this.handleInput}),r.a.createElement("label",{htmlFor:""},"Description"),r.a.createElement("textarea",{value:t.description,name:"description",onChange:this.handleInput}),r.a.createElement("label",{htmlFor:""},"Duration"),r.a.createElement("input",{type:"number",value:t.duration,name:"duration",onChange:this.handleInput}),r.a.createElement("label",{htmlFor:""},"Sport"),r.a.createElement("input",{type:"text",name:"sport",value:t.sport,onChange:this.handleInput}),r.a.createElement("button",null,"Save"),r.a.createElement("button",{onClick:function(){return e.props.history.goBack()}},"Back"),r.a.createElement("button",{onClick:this.cancelNewTraining},"Cancel")),r.a.createElement("div",{className:"exercises-edit"},n?n.map((function(t,n){return r.a.createElement("div",{className:"training-info__exercises",key:n},r.a.createElement("h4",null,t.title),r.a.createElement("span",{className:"item-type ".concat(t.type)},t.type),r.a.createElement("p",null,t.description),r.a.createElement("p",null,r.a.createElement("strong",null,"Sport: "),t.sport),r.a.createElement("button",{onClick:function(){return e.removeExerciseFromTraining(t._id)}},"Remove"))})):null)),r.a.createElement("section",{className:"edit-training__user-exercises"},a?r.a.createElement("h2",null,"Your Exercises (",a.length,")"):r.a.createElement("h2",null,"Your Exercises (0)"),a?r.a.createElement(D,{exercises:a,userId:this.state.user._id,inEditTraining:!0,addExercise:this.addExercise}):null),r.a.createElement("section",{className:"edit-training__saved-exercises"},i?r.a.createElement("h2",null,"Saved Exercises (",i.length,")"):r.a.createElement("h2",null,"Saved Exercises (0)"),i?r.a.createElement(D,{exercises:i,userId:this.state.user._id,inEditTraining:!0,addExercise:this.addExercise}):null))}}]),t}(a.Component),G=function(e){function t(){var e,n;Object(l.a)(this,t);for(var a=arguments.length,r=new Array(a),i=0;i<a;i++)r[i]=arguments[i];return(n=Object(o.a)(this,(e=Object(u.a)(t)).call.apply(e,[this].concat(r)))).state={training:{},trainingExercises:[],user:{}},n.handleInput=function(e){var t=e.target,a=t.name,r=t.value,i=n.state.training;i[a]=r,n.setState({training:i})},n.updateTraining=function(e){e.preventDefault();var t=n.state.training._id,a=n.state.training,r=a.title,i=a.description,c=a.duration,l=a.sport;A.modifyOne({title:r,description:i,duration:c,sport:l},t).then((function(e){n.setState({training:e}),n.props.history.push("/my-trainings/".concat(t))})).catch((function(e){return console.log(e)}))},n.addExercise=function(e){var t=n.state.training._id;A.addExercise(t,e).then((function(e){var t=e.data.exercises;n.setState({trainingExercises:t})})).catch((function(e){return console.log(e)}))},n.deleteTraining=function(e){e.preventDefault();var t=n.state.training._id;A.deleteOne(t).then((function(){return n.props.history.push("/my-trainings")})).catch((function(e){return console.log(e)}))},n.removeExerciseFromTraining=function(e){console.log("in"),A.deleteExercise(n.state.training._id,e).then((function(e){var t=e.exercises;n.setState({trainingExercises:t})})).catch((function(e){return console.log(e)}))},n}return Object(m.a)(t,e),Object(s.a)(t,[{key:"componentDidMount",value:function(){var e=this;window.scrollTo(0,0);var t=this.props.match.params.id;A.getOne(t).then((function(t){I.getUser().then((function(n){e.setState({training:t}),e.setState({trainingExercises:t.exercises}),e.setState({user:n})})).catch((function(e){return console.log(e)}))}))}},{key:"render",value:function(){var e=this,t=this.state.training,n=this.state.trainingExercises,a=this.state.user.exercises,i=this.state.user.savedExercises;return r.a.createElement("main",{className:"content edit-training"},r.a.createElement("section",{className:"edit-training__info"},r.a.createElement("form",{onSubmit:this.updateTraining},r.a.createElement("label",{htmlFor:""},"Title"),r.a.createElement("input",{type:"text",value:t.title,name:"title",onChange:this.handleInput}),r.a.createElement("label",{htmlFor:""},"Description"),r.a.createElement("textarea",{value:t.description,name:"description",onChange:this.handleInput}),r.a.createElement("label",{htmlFor:""},"Duration"),r.a.createElement("input",{type:"number",value:t.duration,name:"duration",onChange:this.handleInput}),r.a.createElement("label",{htmlFor:""},"Sport"),r.a.createElement("input",{type:"text",name:"sport",value:t.sport,onChange:this.handleInput}),r.a.createElement("button",null,"Save"),r.a.createElement("button",{onClick:function(){return e.props.history.goBack()}},"Back"),r.a.createElement("button",{onClick:this.deleteTraining},"Delete training")),r.a.createElement("div",{className:"exercises-edit"},n?n.map((function(t,n){return r.a.createElement("div",{className:"training-info__exercises",key:n},r.a.createElement("h4",null,t.title),r.a.createElement("span",{className:"item-type ".concat(t.type)},t.type),r.a.createElement("p",null,t.description),r.a.createElement("p",null,r.a.createElement("strong",null,"Sport: "),t.sport),r.a.createElement("button",{onClick:function(){return e.removeExerciseFromTraining(t._id)}},"Remove"))})):null)),r.a.createElement("section",{className:"edit-training__user-exercises"},a?r.a.createElement("h2",null,"Your Exercises (",a.length,")"):r.a.createElement("h2",null,"Your Exercises (0)"),a?r.a.createElement(D,{exercises:a,userId:this.state.user._id,inEditTraining:!0,addExercise:this.addExercise}):null),r.a.createElement("section",{className:"edit-training__saved-exercises"},i?r.a.createElement("h2",null,"Saved Exercises (",i.length,")"):r.a.createElement("h2",null,"Saved Exercises (0)"),i?r.a.createElement(D,{exercises:i,userId:this.state.user._id,inEditTraining:!0,addExercise:this.addExercise}):null))}}]),t}(a.Component);var K=y((function(e){var t=e.component,n=e.isLoggedin,a=e.isLoading,i=Object(w.a)(e,["component","isLoggedin","isLoading"]);return a?r.a.createElement("h1",null,"Loading"):r.a.createElement(h.b,Object.assign({},i,{render:function(e){return n?r.a.createElement(h.a,{to:"/profile"}):r.a.createElement(t,e)}}))})),Q=function(e){function t(){return Object(l.a)(this,t),Object(o.a)(this,Object(u.a)(t).apply(this,arguments))}return Object(m.a)(t,e),Object(s.a)(t,[{key:"render",value:function(){return r.a.createElement("div",{className:"App"},r.a.createElement(C,null),r.a.createElement(_,null),r.a.createElement(h.d,null,r.a.createElement(K,{exact:!0,path:"/signup",component:j}),r.a.createElement(K,{exact:!0,path:"/login",component:k}),r.a.createElement(S,{exact:!0,path:"/",component:R}),r.a.createElement(S,{exact:!0,path:"/profile",component:F}),r.a.createElement(S,{exact:!0,path:"/my-trainings",component:B}),r.a.createElement(S,{exact:!0,path:"/discover",component:Y}),r.a.createElement(S,{exact:!0,path:"/profile/new-exercise",component:V}),r.a.createElement(S,{exact:!0,path:"/profile/:id",component:J}),r.a.createElement(S,{exact:!0,path:"/profile/:id/edit",component:H}),r.a.createElement(S,{exact:!0,path:"/my-trainings/new-training",component:z}),r.a.createElement(S,{exact:!0,path:"/my-trainings/:id",component:q}),r.a.createElement(S,{exact:!0,path:"/my-trainings/:id/edit",component:G}),r.a.createElement(S,{exact:!0,path:"/discover/:id",component:J})))}}]),t}(a.Component);c.a.render(r.a.createElement(d.a,null,r.a.createElement(O,null,r.a.createElement(Q,null))),document.getElementById("root"))}},[[40,1,2]]]);
//# sourceMappingURL=main.f9af8aa8.chunk.js.map