(this["webpackJsonpreact-auth-client-done-v2"]=this["webpackJsonpreact-auth-client-done-v2"]||[]).push([[0],{22:function(e,t,a){},26:function(e,t,a){},39:function(e,t,a){},40:function(e,t,a){},44:function(e,t,a){e.exports=a(95)},49:function(e,t,a){},50:function(e,t,a){},81:function(e,t,a){},93:function(e,t,a){},94:function(e,t,a){},95:function(e,t,a){"use strict";a.r(t);var n=a(0),r=a.n(n),l=a(19),i=a.n(l),s=a(2),c=a(3),o=a(6),u=a(4),m=a(5),p=a(18),h=(a(49),a(50),a(17)),d=a(7),g=a(12),v=a.n(g),E=new(function(){function e(){Object(s.a)(this,e),this.auth=v.a.create({baseURL:"https://te-app.herokuapp.com/api",withCredentials:!0})}return Object(c.a)(e,[{key:"signup",value:function(e){var t=e.email,a=e.name,n=e.lastName,r=e.password;return this.auth.post("/auth/signup",{email:t,name:a,lastName:n,password:r}).then((function(e){return e.data}))}},{key:"login",value:function(e){var t=e.email,a=e.password;return this.auth.post("/auth/login",{email:t,password:a}).then((function(e){return e.data}))}},{key:"logout",value:function(){return this.auth.post("/auth/logout",{}).then((function(e){return e.data}))}},{key:"edit",value:function(e){var t=e.email,a=e.name,n=e.lastName,r=e.password;return this.auth.put("/auth/me",{email:t,name:a,lastName:n,password:r}).then((function(e){return e.data}))}},{key:"me",value:function(){return this.auth.get("/auth/me").then((function(e){return e.data}))}}]),e}()),f=r.a.createContext(),b=f.Consumer,y=f.Provider,x=function(e){return function(t){function a(){return Object(s.a)(this,a),Object(o.a)(this,Object(u.a)(a).apply(this,arguments))}return Object(m.a)(a,t),Object(c.a)(a,[{key:"render",value:function(){var t=this;return r.a.createElement(b,null,(function(a){var n=a.login,l=a.signup,i=a.user,s=a.logout,c=a.isLoggedin,o=a.isLoading;return r.a.createElement(e,Object.assign({login:n,signup:l,user:i,logout:s,isLoggedin:c,isLoading:o},t.props))}))}}]),a}(r.a.Component)},N=function(e){function t(){var e,a;Object(s.a)(this,t);for(var n=arguments.length,r=new Array(n),l=0;l<n;l++)r[l]=arguments[l];return(a=Object(o.a)(this,(e=Object(u.a)(t)).call.apply(e,[this].concat(r)))).state={isLoggedin:!1,user:null,isLoading:!0},a.signup=function(e){var t=e.email,n=e.name,r=e.lastName,l=e.password;E.signup({email:t,name:n,lastName:r,password:l}).then((function(e){return a.setState({isLoggedin:!0,user:e})})).catch((function(e){return console.log(e)}))},a.login=function(e){var t=e.email,n=e.password;E.login({email:t,password:n}).then((function(e){return a.setState({isLoggedin:!0,user:e})})).catch((function(e){return console.log(e)}))},a.logout=function(){E.logout().then((function(){return a.setState({isLoggedin:!1,user:null})})).catch((function(e){return console.log(e)}))},a}return Object(m.a)(t,e),Object(c.a)(t,[{key:"componentDidMount",value:function(){var e=this;E.me().then((function(t){return e.setState({isLoggedin:!0,user:t,isLoading:!1})})).catch((function(t){return e.setState({isLoggedin:!1,user:null,isLoading:!1})}))}},{key:"render",value:function(){var e=this.state,t=e.isLoading,a=e.isLoggedin,n=e.user,l=this.login,i=this.logout,s=this.signup;return r.a.createElement(y,{value:{isLoading:t,isLoggedin:a,user:n,login:l,logout:i,signup:s}},this.props.children)}}]),t}(r.a.Component),O=x(function(e){function t(){var e,a;Object(s.a)(this,t);for(var n=arguments.length,r=new Array(n),l=0;l<n;l++)r[l]=arguments[l];return(a=Object(o.a)(this,(e=Object(u.a)(t)).call.apply(e,[this].concat(r)))).state={email:"",name:"",lastName:"",password:""},a.handleFormSubmit=function(e){e.preventDefault();var t=a.state,n=t.email,r=t.name,l=t.lastName,i=t.password;a.props.signup({email:n,name:r,lastName:l,password:i})},a.handleChange=function(e){var t=e.target,n=t.name,r=t.value;a.setState(Object(h.a)({},n,r))},a}return Object(m.a)(t,e),Object(c.a)(t,[{key:"render",value:function(){var e=this.state,t=e.email,a=e.name,n=e.lastName,l=e.password;return r.a.createElement("div",{className:"auth-container"},r.a.createElement("div",{className:"img-container"},r.a.createElement("img",{src:"/logo.png",alt:""})),r.a.createElement("h1",null,"Sign Up"),r.a.createElement("form",{onSubmit:this.handleFormSubmit},r.a.createElement("label",null,"Email:"),r.a.createElement("input",{type:"email",name:"email",value:t,onChange:this.handleChange}),r.a.createElement("label",null,"Name:"),r.a.createElement("input",{type:"text",name:"name",value:a,onChange:this.handleChange}),r.a.createElement("label",null,"Last name:"),r.a.createElement("input",{type:"text",name:"lastName",value:n,onChange:this.handleChange}),r.a.createElement("label",null,"Password:"),r.a.createElement("input",{type:"password",name:"password",value:l,onChange:this.handleChange}),r.a.createElement("input",{className:"btn btn-success",type:"submit",value:"Signup"})),r.a.createElement("p",null,"Already have account?"),r.a.createElement(d.b,{to:"/login"}," Login"))}}]),t}(n.Component)),k=x(function(e){function t(){var e,a;Object(s.a)(this,t);for(var n=arguments.length,r=new Array(n),l=0;l<n;l++)r[l]=arguments[l];return(a=Object(o.a)(this,(e=Object(u.a)(t)).call.apply(e,[this].concat(r)))).state={email:"",password:""},a.handleFormSubmit=function(e){e.preventDefault();var t=a.state,n=t.email,r=t.password;a.props.login({email:n,password:r})},a.handleChange=function(e){var t=e.target,n=t.name,r=t.value;a.setState(Object(h.a)({},n,r))},a}return Object(m.a)(t,e),Object(c.a)(t,[{key:"render",value:function(){var e=this.state,t=e.email,a=e.password;return r.a.createElement("div",{className:"auth-container"},r.a.createElement("div",{className:"img-container"},r.a.createElement("img",{src:"/logo.png",alt:""})),r.a.createElement("h1",null,"Login"),r.a.createElement("form",{onSubmit:this.handleFormSubmit},r.a.createElement("label",null,"Email:"),r.a.createElement("input",{type:"email",name:"email",value:t,onChange:this.handleChange}),r.a.createElement("label",null,"Password:"),r.a.createElement("input",{type:"password",name:"password",value:a,onChange:this.handleChange}),r.a.createElement("input",{className:"btn btn-success",type:"submit",value:"Login"}),r.a.createElement("p",null,"Not a user yet?"),r.a.createElement(d.b,{to:"/signup"},"Sign up")))}}]),t}(n.Component)),_=x(function(e){function t(){var e,a;Object(s.a)(this,t);for(var n=arguments.length,r=new Array(n),l=0;l<n;l++)r[l]=arguments[l];return(a=Object(o.a)(this,(e=Object(u.a)(t)).call.apply(e,[this].concat(r)))).state={search:""},a.handleSearch=function(e){var t=e.target.value;a.setState({search:t})},a.searchSubmit=function(e){a.props.submit(e,a.state.search),a.setState({search:""})},a}return Object(m.a)(t,e),Object(c.a)(t,[{key:"render",value:function(){var e=this,t=this.props,a=t.user,n=(t.logout,t.isLoggedin);return r.a.createElement("div",null,n?r.a.createElement("nav",null,r.a.createElement("form",{onSubmit:function(t){return e.searchSubmit(t)}},r.a.createElement("input",{type:"text",value:this.state.search,name:"search",onChange:this.handleSearch,placeholder:"Search by title..."})),r.a.createElement("p",null,"Hi ",a.name)):null)}}]),t}(n.Component)),S=x(function(e){function t(){return Object(s.a)(this,t),Object(o.a)(this,Object(u.a)(t).apply(this,arguments))}return Object(m.a)(t,e),Object(c.a)(t,[{key:"render",value:function(){var e=this.props,t=(e.user,e.logout,e.isLoggedin);return r.a.createElement("div",null,t?r.a.createElement("section",{className:"sidebar"},r.a.createElement("div",{className:"logo-container"},r.a.createElement("img",{className:"logo",src:"/logo.png",alt:"logo"})),r.a.createElement("div",{className:"sidebar__links-wrapper"},r.a.createElement(d.c,{to:"/profile",activeClassName:"selected"},r.a.createElement("h4",null,"Profile")),r.a.createElement(d.c,{to:"/my-trainings",activeClassName:"selected"},r.a.createElement("h4",null,"My trainings")),r.a.createElement(d.c,{to:"/discover",activeClassName:"selected"},r.a.createElement("h4",null,"Discover")),r.a.createElement("div",{className:"logout"},r.a.createElement("button",{className:"btn-icon",onClick:this.props.logout},r.a.createElement("img",{src:"/logout.png",alt:"logout",className:"btn-icon__action"}))))):null)}}]),t}(n.Component)),j=a(24);var C=x((function(e){var t=e.component,a=e.isLoggedin,n=e.isLoading,l=Object(j.a)(e,["component","isLoggedin","isLoading"]);return n?r.a.createElement("h1",null,"Loading"):r.a.createElement(p.b,Object.assign({},l,{render:function(e){return a?r.a.createElement(t,e):r.a.createElement(p.a,{to:"/login"})}}))})),w=a(10),T=a.n(w),D=new(function(){function e(){Object(s.a)(this,e),this.profile=v.a.create({baseURL:"https://te-app.herokuapp.com/api/profile",withCredentials:!0})}return Object(c.a)(e,[{key:"getUser",value:function(){return this.profile.get("/").then((function(e){return e.data}))}},{key:"unsaveExercise",value:function(e){return this.profile.put("/".concat(e)).then((function(e){return e.data}))}}]),e}()),F=(a(26),a(22),a(39),a(81),function(e){function t(e){var a;return Object(s.a)(this,t),(a=Object(o.a)(this,Object(u.a)(t).call(this,e))).state={userTraining:a.props.training},a}return Object(m.a)(t,e),Object(c.a)(t,[{key:"render",value:function(){var e=this.state.userTraining;return r.a.createElement("div",{className:"training-card",key:T.a.generate()},r.a.createElement(d.b,{to:"/my-trainings/".concat(e._id)},r.a.createElement("div",{className:"training-card__header"},r.a.createElement("h4",null,e.title),r.a.createElement("span",null,e.duration," min")),e.exercises.map((function(e,t){return r.a.createElement("div",{className:"training-card__exercise inline-display",key:t},r.a.createElement("p",null,e.title),r.a.createElement("span",{className:"item-type ".concat(e.type)},e.type))}))))}}]),t}(n.Component)),L=function(e){function t(e){var a;return Object(s.a)(this,t),(a=Object(o.a)(this,Object(u.a)(t).call(this,e))).state={exerciseArr:a.props.exercises,listLength:a.props.exercises.length},a}return Object(m.a)(t,e),Object(c.a)(t,[{key:"unsaveExercise",value:function(e){var t=this;D.unsaveExercise(e).then((function(e){var a=e.savedExercises;t.props.updateLength(),t.setState({exerciseArr:a})})).catch((function(e){return console.log(e)}))}},{key:"render",value:function(){var e=this,t=this.state.exerciseArr;return r.a.createElement("div",{className:"list-container"},t.map((function(t){return r.a.createElement("div",null,r.a.createElement("div",{className:"list-container__item",key:T.a.generate()},r.a.createElement(d.b,{to:"/profile/".concat(t._id)},r.a.createElement("p",null,r.a.createElement("strong",null,t.title)),r.a.createElement("div",null,r.a.createElement("span",null,t.duration," min"),"   |   ",r.a.createElement("span",{className:"item-type ".concat(t.type)},t.type)),t.author._id!==e.props.userId?r.a.createElement("div",null,r.a.createElement("p",null,r.a.createElement("strong",null,"Author: "),t.author.name," ",t.author.lastName)):null),t.author._id===e.props.userId||e.props.inEditTraining?null:r.a.createElement("button",{className:"btn-icon",onClick:function(){return e.unsaveExercise(t._id)}},r.a.createElement("img",{src:"/bin.png",alt:"unsave",className:"btn-icon__action"})),e.props.inEditTraining?r.a.createElement("button",{className:"btn-icon",onClick:function(){return e.props.addExercise(t._id)}},r.a.createElement("img",{src:"/add.png",alt:"",className:"btn-icon__action"})):null))})))}}]),t}(n.Component),I=function(e){function t(){var e,a;Object(s.a)(this,t);for(var n=arguments.length,r=new Array(n),l=0;l<n;l++)r[l]=arguments[l];return(a=Object(o.a)(this,(e=Object(u.a)(t)).call.apply(e,[this].concat(r)))).state={user:{},savedExercisesLength:0},a.updateLength=function(){var e=a.state.savedExercisesLength;e-=1,a.setState({savedExercisesLength:e})},a}return Object(m.a)(t,e),Object(c.a)(t,[{key:"componentDidMount",value:function(){var e=this;window.scrollTo(0,0),D.getUser().then((function(t){e.setState({user:t}),e.setState({savedExercisesLength:t.savedExercises.length})})).catch((function(e){return console.log(e)}))}},{key:"render",value:function(){var e=this.state.user.exercises,t=this.state.user.savedExercises,a=this.state.user.trainings;return r.a.createElement("main",{className:"content"},r.a.createElement("div",{className:"profile-header"},r.a.createElement("h1",null,"Profile"),r.a.createElement(d.b,{to:"/profile/edit"},r.a.createElement("button",{className:"btn btn-edit"},"Edit profile"))),r.a.createElement("div",{className:"profile-container"},r.a.createElement("div",{className:"profile-column"},r.a.createElement("div",{className:"header"},a?r.a.createElement("h2",null,"Your Trainings (",a.length,")"):r.a.createElement("h2",null,"Your Trainings (0)")),a?r.a.createElement("div",{className:"list-container list-container--trainings"},a.map((function(e){return r.a.createElement(F,{training:e,key:T.a.generate()})}))):null),r.a.createElement("div",{className:"profile-column"},r.a.createElement("div",{className:"header"},e?r.a.createElement("h2",null,"Your Exercises (",e.length,")"):r.a.createElement("h2",null,"Your Exercises (0)"),r.a.createElement(d.b,{className:"btn btn-create",to:"/profile/new-exercise"},"New")),e?r.a.createElement(L,{exercises:e,userId:this.state.user._id}):null),r.a.createElement("div",{className:"profile-column"},r.a.createElement("div",{className:"header"},t?r.a.createElement("h2",null,"Saved Exercises (",this.state.savedExercisesLength,")"):r.a.createElement("h2",null,"Saved Exercises (0)")),t?r.a.createElement(L,{exercises:t,userId:this.state.user._id,updateLength:this.updateLength}):null)))}}]),t}(n.Component),A=new(function(){function e(){Object(s.a)(this,e),this.training=v.a.create({baseURL:"https://te-app.herokuapp.com/api/my-trainings",withCredentials:!0})}return Object(c.a)(e,[{key:"getAll",value:function(){return this.training.get("/").then((function(e){return e.data}))}},{key:"create",value:function(e){var t=e.title,a=e.description,n=e.duration,r=e.sport,l=e.type,i=e.exercises;return this.training.post("/new",{title:t,description:a,duration:n,sport:r,type:l,exercises:i}).then((function(e){return e.data}))}},{key:"getOne",value:function(e){return this.training.get("/".concat(e)).then((function(e){return e.data}))}},{key:"deleteOne",value:function(e){return this.training.delete("/".concat(e)).then((function(e){return e.data}))}},{key:"deleteExercise",value:function(e,t){return this.training.put("/".concat(e,"/").concat(t,"/delete")).then((function(e){return e.data}))}},{key:"modifyOne",value:function(e,t){var a=e.title,n=e.description,r=e.duration,l=e.sport;return this.training.put("/".concat(t),{title:a,description:n,duration:r,sport:l}).then((function(e){return e.data}))}},{key:"addExercise",value:function(e,t){return this.training.post("/".concat(e,"/").concat(t)).then((function(e){return e}))}}]),e}()),R=(a(40),function(e){function t(){var e,a;Object(s.a)(this,t);for(var n=arguments.length,r=new Array(n),l=0;l<n;l++)r[l]=arguments[l];return(a=Object(o.a)(this,(e=Object(u.a)(t)).call.apply(e,[this].concat(r)))).state={trainings:[]},a}return Object(m.a)(t,e),Object(c.a)(t,[{key:"componentDidMount",value:function(){var e=this;window.scrollTo(0,0),A.getAll().then((function(t){e.setState({trainings:t})})).catch((function(e){return console.log(e)}))}},{key:"render",value:function(){var e=this.state.trainings;return r.a.createElement("div",{className:"content"},r.a.createElement("div",{className:"training-header"},r.a.createElement("h1",null,"My Trainings"),r.a.createElement(d.b,{to:"/my-trainings/new-training"},r.a.createElement("button",{className:"btn btn-create"},"New"))),r.a.createElement("div",{className:"trainings-list "},e?e.map((function(e,t){return r.a.createElement(F,{training:e,key:t})})):r.a.createElement("h2",null,"No trainings")))}}]),t}(n.Component)),U=a(43),q=a.n(U),M=new(function(){function e(){Object(s.a)(this,e),this.search=v.a.create({baseURL:"https://te-app.herokuapp.com/api/search",withCredentials:!0})}return Object(c.a)(e,[{key:"getResults",value:function(e){return this.search.get("?search=".concat(e)).then((function(e){return e.data}))}}]),e}()),B=new(function(){function e(){Object(s.a)(this,e),this.discover=v.a.create({baseURL:"https://te-app.herokuapp.com/api/discover",withCredentials:!0})}return Object(c.a)(e,[{key:"getAll",value:function(){return this.discover.get("/").then((function(e){return e.data}))}},{key:"save",value:function(e){return this.discover.put("".concat(e)).then((function(e){return e.data}))}}]),e}()),Y=function(e){function t(e){var a;return Object(s.a)(this,t),(a=Object(o.a)(this,Object(u.a)(t).call(this,e))).state={exercise:a.props.exercise},a}return Object(m.a)(t,e),Object(c.a)(t,[{key:"render",value:function(){var e=this.state.exercise;return r.a.createElement("div",{className:"discover-card",key:T.a.generate()},r.a.createElement(d.b,{to:"/discover/".concat(e._id)},r.a.createElement("h4",null,e.title),r.a.createElement("div",{className:"inline-display"},r.a.createElement("p",null,e.duration," min | ",e.sport),r.a.createElement("span",{className:"item-type ".concat(e.type)},e.type)),r.a.createElement("p",null,r.a.createElement("strong",null,"Author: "),e.author.name," ",e.author.lastName)))}}]),t}(n.Component),P=function(e){function t(){return Object(s.a)(this,t),Object(o.a)(this,Object(u.a)(t).apply(this,arguments))}return Object(m.a)(t,e),Object(c.a)(t,[{key:"render",value:function(){var e=this.props.exercises;return r.a.createElement("div",{className:"discover-list"},0!==e.length?e.map((function(e){return r.a.createElement(Y,{exercise:e,key:T.a.generate()})})):r.a.createElement("h2",null,"No results :("),r.a.createElement("i",{"aria-hidden":"true"}),r.a.createElement("i",{"aria-hidden":"true"}))}}]),t}(n.Component),V=(a(93),a(8)),J=[{value:"all",label:"All"},{value:"rugby",label:"Rugby"},{value:"basketball",label:"Basketball"},{value:"football",label:"Football"}],H=[{value:"all",label:"All"},{value:"skills",label:"Skills"},{value:"attack",label:"Attack"},{value:"defense",label:"Defense"},{value:"sc",label:"Strength & Conditioning"},{value:"stretch",label:"Stretch"},{value:"recovery",label:"Recovery"}],X=function(e){function t(){var e,a;Object(s.a)(this,t);for(var n=arguments.length,r=new Array(n),l=0;l<n;l++)r[l]=arguments[l];return(a=Object(o.a)(this,(e=Object(u.a)(t)).call.apply(e,[this].concat(r)))).state={allExercises:null,exercisesCopy:null,sport:"all",type:"all"},a.handleSearch=function(){var e=q.a.parse(a.props.location.search);e.search?M.getResults(e.search).then((function(e){a.setState({allExercises:e,exercisesCopy:e})})).catch((function(e){return console.log(e)})):B.getAll().then((function(e){a.setState({allExercises:e,exercisesCopy:e})})).catch((function(e){return console.log(e)}))},a.handleSport=function(e){a.setState({sport:e})},a.handleType=function(e){a.setState({type:e})},a.filter=function(e){e.preventDefault(),console.log(a.state.sport.value,a.state.type.value);var t=a.state.allExercises,n=[];n="all"===a.state.sport.value?t:t.filter((function(e){return e.sport===a.state.sport.value})),"all"!==a.state.type.value&&(n=n.filter((function(e){return e.type===a.state.type.value}))),a.setState({exercisesCopy:n})},a}return Object(m.a)(t,e),Object(c.a)(t,[{key:"componentDidMount",value:function(){window.scrollTo(0,0),this.handleSearch()}},{key:"componentDidUpdate",value:function(e){e.location.search!==this.props.location.search&&(console.log("updated"),this.handleSearch())}},{key:"render",value:function(){return r.a.createElement("div",{className:"content"},r.a.createElement("h1",null,"Discover page"),r.a.createElement("form",{onSubmit:this.filter,className:"filter-form"},r.a.createElement("div",{className:"selects"},r.a.createElement(V.a,{className:"custom-select",value:this.state.sport,onChange:this.handleSport,options:J}),r.a.createElement(V.a,{className:"custom-select",value:this.state.type,onChange:this.handleType,options:H})),r.a.createElement("button",{className:"btn btn-filter"},"Filter")),this.state.exercisesCopy?r.a.createElement(P,{exercises:this.state.exercisesCopy}):r.a.createElement("h2",null,"No results :("))}}]),t}(n.Component),z=(n.Component,x(function(e){function t(){return Object(s.a)(this,t),Object(o.a)(this,Object(u.a)(t).apply(this,arguments))}return Object(m.a)(t,e),Object(c.a)(t,[{key:"render",value:function(){var e=this.props,t=(e.user,e.logout,e.isLoggedin);return r.a.createElement("div",null,t?r.a.createElement(p.a,{to:"/profile"}):r.a.createElement("div",null,r.a.createElement(d.b,{to:"/login"}," ",r.a.createElement("button",{className:"btn"},"Login")," "),r.a.createElement("br",null),r.a.createElement(d.b,{to:"/signup"}," ",r.a.createElement("button",{className:"btn"},"Signup")," ")))}}]),t}(n.Component)));var G=x((function(e){var t=e.component,a=e.isLoggedin,n=e.isLoading,l=Object(j.a)(e,["component","isLoggedin","isLoading"]);return n?r.a.createElement("h1",null,"Loading"):r.a.createElement(p.b,Object.assign({},l,{render:function(e){return a?r.a.createElement(p.a,{to:"/profile"}):r.a.createElement(t,e)}}))})),K=function(e){function t(){var e,a;Object(s.a)(this,t);for(var n=arguments.length,r=new Array(n),l=0;l<n;l++)r[l]=arguments[l];return(a=Object(o.a)(this,(e=Object(u.a)(t)).call.apply(e,[this].concat(r)))).state={email:"",name:"",lastName:"",password:""},a.handleFormSubmit=function(){var e=a.state,t=e.email,n=e.name,r=e.lastName,l=e.password;E.edit({email:t,name:n,lastName:r,password:l}).then((function(e){a.props.history.push("/profile")})).catch((function(e){return console.log(e)}))},a.handleChange=function(e){var t=e.target,n=t.name,r=t.value;a.setState(Object(h.a)({},n,r))},a}return Object(m.a)(t,e),Object(c.a)(t,[{key:"componentDidMount",value:function(){var e=this;E.me().then((function(t){var a=t.email,n=t.name,r=t.lastName,l=t.password;e.setState({email:a,name:n,lastName:r,password:l})})).catch((function(e){return console.log(e)}))}},{key:"render",value:function(){var e=this,t=this.state,a=t.email,n=t.name,l=t.lastName,i=t.password;return r.a.createElement("div",{className:"content"},r.a.createElement("button",{className:"btn-icon",onClick:function(){return e.props.history.push("/profile")}},r.a.createElement("img",{src:"/arrow.svg",className:"back-icon",alt:""})),r.a.createElement("h1",null,"Edit profile"),r.a.createElement("form",{onSubmit:this.handleFormSubmit,className:"input-form"},r.a.createElement("label",null,"Email:"),r.a.createElement("input",{className:"input",type:"email",name:"email",value:a,onChange:this.handleChange}),r.a.createElement("label",null,"Name:"),r.a.createElement("input",{className:"input",type:"text",name:"name",value:n,onChange:this.handleChange}),r.a.createElement("label",null,"Last name:"),r.a.createElement("input",{className:"input",type:"text",name:"lastName",value:l,onChange:this.handleChange}),r.a.createElement("label",null,"Password:"),r.a.createElement("input",{className:"input",type:"password",name:"password",value:i,onChange:this.handleChange}),r.a.createElement("input",{className:"btn btn-success btn-success--edit",type:"submit",value:"Save"})))}}]),t}(n.Component),Q=new(function(){function e(){Object(s.a)(this,e),this.exercises=v.a.create({baseURL:"https://te-app.herokuapp.com/api/exercises",withCredentials:!0})}return Object(c.a)(e,[{key:"getOne",value:function(e){return this.exercises.get("/".concat(e)).then((function(e){return e.data}))}},{key:"create",value:function(e){var t=e.title,a=e.description,n=e.duration,r=e.sport,l=e.type,i=e.video_url,s=e.img_url,c=e.share;return this.exercises.post("/new",{title:t,description:a,duration:n,sport:r,type:l,video_url:i,img_url:s,share:c}).then((function(e){return e.data}))}},{key:"uploadImage",value:function(e){return this.exercises.post("/new/image",e).then((function(e){return e.data}))}},{key:"modifyOne",value:function(e,t){var a=e.title,n=e.description,r=e.duration,l=e.sport,i=e.type,s=e.video_url,c=e.img_url,o=e.share;return this.exercises.put("/".concat(t),{title:a,description:n,duration:r,sport:l,type:i,video_url:s,img_url:c,share:o}).then((function(e){return e.data}))}},{key:"deleteOne",value:function(e){return this.exercises.delete("/".concat(e)).then((function(e){return e.data}))}}]),e}()),W=function(e){function t(){var e,a;Object(s.a)(this,t);for(var n=arguments.length,r=new Array(n),l=0;l<n;l++)r[l]=arguments[l];return(a=Object(o.a)(this,(e=Object(u.a)(t)).call.apply(e,[this].concat(r)))).state={exercise:{},userId:"",isSaved:null},a.saveExercise=function(e){e.preventDefault(),console.log("in");var t=a.state.exercise._id;B.save(t).then((function(){a.setState({isSaved:!0}),console.log("added to favourites")})).catch((function(e){return console.log(e)}))},a.unsaveExercise=function(e){e.preventDefault();var t=a.state.exercise._id;D.unsaveExercise(t).then((function(){a.setState({isSaved:!1})})).catch((function(e){return console.log(e)}))},a}return Object(m.a)(t,e),Object(c.a)(t,[{key:"componentDidMount",value:function(){var e=this;window.scrollTo(0,0);var t=this.props.match.params.id;Q.getOne(t).then((function(t){D.getUser().then((function(a){var n=a.savedExercises.some((function(e){return e._id===t._id}));e.setState({exercise:t,userId:a._id,isSaved:n})})).catch((function(e){return console.log(e)}))}))}},{key:"render",value:function(){var e=this,t=this.state.exercise,a=this.state.userId;return console.log("is saved?",this.state.isSaved),r.a.createElement("main",{className:"content"},r.a.createElement("button",{className:"btn-icon",onClick:function(){return e.props.history.goBack()}},r.a.createElement("img",{src:"/arrow.svg",className:"back-icon",alt:""})),r.a.createElement("div",null,r.a.createElement("div",{className:"profile-header profile-header--details"},r.a.createElement("div",{className:"profile-header--details__info"},r.a.createElement("h1",null,t.title),r.a.createElement("span",{className:"item-type ".concat(t.type)},t.type),t.share?null:r.a.createElement(d.b,{to:"/profile/".concat(t._id,"/edit")},r.a.createElement("button",{className:"btn btn-edit"},"Edit"))),r.a.createElement("div",{className:"inline-display inline-display--details"},r.a.createElement("p",null,r.a.createElement("strong",null,"Sport: "),t.sport,r.a.createElement("span",null,"|"),r.a.createElement("span",null,t.duration," min")))),r.a.createElement("h4",null,"Description"),r.a.createElement("p",null,t.description),r.a.createElement("div",{className:"inline-display"},r.a.createElement("div",{className:"inline-display__media"},r.a.createElement("h4",null,"Image"),t.img_url?r.a.createElement("img",{className:"edit-exercise__img",src:t.img_url,alt:"exercise"}):r.a.createElement("p",null,r.a.createElement("strong",null,"No image provided"))),r.a.createElement("div",{className:"inline-display__media"},r.a.createElement("h4",null,"Video"),t.video_url?r.a.createElement("iframe",Object(h.a)({width:"400",height:"250",src:t.video_url,frameborder:"0",allow:"accelerometer; autoplay; encrypted-media; gyroscope; picture-in-picture"},"allow","fullscreen")):r.a.createElement("p",null,r.a.createElement("strong",null,"No video provided")))),t.author!==a?r.a.createElement("div",null,this.state.isSaved?r.a.createElement("button",{className:"btn btn-delete",onClick:this.unsaveExercise},"Unsave"):r.a.createElement("button",{className:"btn btn-success",onClick:this.saveExercise},"Save")):null))}}]),t}(n.Component),Z=[{value:"all",label:"All"},{value:"rugby",label:"Rugby"},{value:"basketball",label:"Basketball"},{value:"football",label:"Football"}],$=[{value:"all",label:"All"},{value:"skills",label:"Skills"},{value:"attack",label:"Attack"},{value:"defense",label:"Defense"},{value:"sc",label:"Strength & Conditioning"},{value:"stretch",label:"Stretch"},{value:"recovery",label:"Recovery"}],ee=function(e){function t(){var e,a;Object(s.a)(this,t);for(var n=arguments.length,r=new Array(n),l=0;l<n;l++)r[l]=arguments[l];return(a=Object(o.a)(this,(e=Object(u.a)(t)).call.apply(e,[this].concat(r)))).state={exercise:[],sport:"all",type:"all"},a.handleInput=function(e){var t=e.target,n="checkbox"===t.type?t.checked:t.value,r=t.name,l=a.state.exercise;l[r]=n,a.setState({exercise:l})},a.handleSport=function(e){a.setState({sport:e})},a.handleType=function(e){a.setState({type:e})},a.fileOnchange=function(e){var t=e.target.files[0],n=new FormData;n.append("photo",t),Q.uploadImage(n).then((function(e){var t=a.state.exercise;t.img_url=e,a.setState({exercise:t}),console.log(e)})).catch((function(e){return console.log(e)}))},a.saveExercise=function(e){e.preventDefault();var t=a.state.exercise,n=t.title,r=t.description,l=t.duration,i=t.video_url,s=t.img_url,c=t.share,o=a.state.sport.value,u=a.state.type.value;Q.create({title:n,description:r,duration:l,sport:o,type:u,video_url:i,img_url:s,share:c}).then((function(){a.props.history.push("/profile")})).catch((function(e){return console.log(e)}))},a}return Object(m.a)(t,e),Object(c.a)(t,[{key:"componentDidMount",value:function(){window.scrollTo(0,0)}},{key:"render",value:function(){var e=this;return r.a.createElement("div",{className:"content"},r.a.createElement("button",{className:"btn-icon",onClick:function(){return e.props.history.goBack()}},r.a.createElement("img",{src:"/arrow.svg",className:"back-icon",alt:""})),r.a.createElement("h1",null,"New exercise"),r.a.createElement("form",{onSubmit:this.saveExercise,className:"input-form"},r.a.createElement("label",{htmlFor:""},"Title"),r.a.createElement("input",{className:"input",type:"text",value:this.state.exercise.title,name:"title",onChange:this.handleInput,required:!0}),r.a.createElement("label",{htmlFor:""},"Description"),r.a.createElement("textarea",{value:this.state.exercise.description,name:"description",onChange:this.handleInput,required:!0}),r.a.createElement("div",{className:"inline-display"},r.a.createElement("div",{className:"inline-display__column"},r.a.createElement("label",{htmlFor:""},"Sport"),r.a.createElement(V.a,{className:"select",value:this.state.sport,onChange:this.handleSport,options:Z,required:!0})),r.a.createElement("div",{className:"inline-display__column"},r.a.createElement("label",{htmlFor:""},"Type"),r.a.createElement(V.a,{className:"select",value:this.state.type,onChange:this.handleType,options:$,required:!0}))),r.a.createElement("label",{htmlFor:""},"Video"),r.a.createElement("input",{className:"input",type:"text",name:"video_url",value:this.state.exercise.video_url,onChange:this.handleInput}),r.a.createElement("label",{htmlFor:""},"Image"),r.a.createElement("input",{type:"file",className:"custom-file-input",id:"customFile",name:"img_url",onChange:function(t){return e.fileOnchange(t)}}),r.a.createElement("div",{className:"inline-display"},r.a.createElement("label",{htmlFor:""},"Duration"),r.a.createElement("input",{className:"input",type:"number",value:this.state.exercise.duration,name:"duration",onChange:this.handleInput,required:!0}),r.a.createElement("span",null,"min"),r.a.createElement("label",{name:"share"},"Share"),r.a.createElement("label",{className:"switch"},r.a.createElement("input",{type:"checkbox",name:"share",checked:this.state.exercise.share,onChange:this.handleInput}),r.a.createElement("span",{className:"slider round"}))),r.a.createElement("button",{className:"btn btn-success"},"Save")))}}]),t}(n.Component),te=[{value:"all",label:"All"},{value:"rugby",label:"Rugby"},{value:"basketball",label:"Basketball"},{value:"football",label:"Football"}],ae=[{value:"all",label:"All"},{value:"skills",label:"Skills"},{value:"attack",label:"Attack"},{value:"defense",label:"Defense"},{value:"sc",label:"Strength & Conditioning"},{value:"stretch",label:"Stretch"},{value:"recovery",label:"Recovery"}],ne=function(e){function t(){var e,a;Object(s.a)(this,t);for(var n=arguments.length,r=new Array(n),l=0;l<n;l++)r[l]=arguments[l];return(a=Object(o.a)(this,(e=Object(u.a)(t)).call.apply(e,[this].concat(r)))).state={exercise:{},sport:{},type:{}},a.handleInput=function(e){var t=e.target,n="checkbox"===t.type?t.checked:t.value,r=t.name,l=a.state.exercise;l[r]=n,a.setState({exercise:l})},a.handleSport=function(e){a.setState({sport:e})},a.handleType=function(e){a.setState({type:e})},a.fileOnchange=function(e){var t=e.target.files[0],n=new FormData;n.append("photo",t),Q.uploadImage(n).then((function(e){var t=a.state.exercise;t.img_url=e,a.setState({exercise:t}),console.log(e)})).catch((function(e){return console.log(e)}))},a.updateExercise=function(e){e.preventDefault();var t=a.state.exercise._id,n=a.state.exercise,r=n.title,l=n.description,i=n.duration,s=n.video_url,c=n.img_url,o=n.share,u=a.state.sport.value,m=a.state.type.value;Q.modifyOne({title:r,description:l,duration:i,sport:u,type:m,video_url:s,img_url:c,share:o},t).then((function(e){a.setState({exercise:e}),a.props.history.goBack()})).catch((function(e){return console.log(e)}))},a.deleteExercise=function(){Q.deleteOne(a.state.exercise._id).then((function(){a.props.history.push("/profile")})).catch((function(e){return console.log(e)}))},a}return Object(m.a)(t,e),Object(c.a)(t,[{key:"componentDidMount",value:function(){var e=this;window.scrollTo(0,0);var t=this.props.match.params.id;Q.getOne(t).then((function(t){var a={value:t.sport,label:"".concat(t.sport.charAt(0).toUpperCase()).concat(t.sport.slice(1))},n={value:t.type,label:"".concat(t.type.charAt(0).toUpperCase()).concat(t.type.slice(1))};e.setState({exercise:t,sport:a,type:n})})).catch((function(e){return console.log(e)}))}},{key:"render",value:function(){var e=this;return console.log(this.state.sport,this.state.type),r.a.createElement("main",{className:"content"},r.a.createElement("button",{className:"btn-icon",onClick:function(){return e.props.history.goBack()}},r.a.createElement("img",{src:"/arrow.svg",className:"back-icon",alt:""})),r.a.createElement("div",{className:"inline-display"},r.a.createElement("h1",null,"Exercise edit"),r.a.createElement("button",{className:"btn btn-delete",onClick:this.deleteExercise},"Delete")),r.a.createElement("form",{onSubmit:this.updateExercise,className:"input-form"},r.a.createElement("label",{htmlFor:""},"Title"),r.a.createElement("input",{className:"input",type:"text",value:this.state.exercise.title,name:"title",onChange:this.handleInput,required:!0}),r.a.createElement("label",{htmlFor:""},"Description"),r.a.createElement("textarea",{value:this.state.exercise.description,name:"description",onChange:this.handleInput,required:!0}),r.a.createElement("div",{className:"inline-display"},r.a.createElement("div",{className:"inline-display__column"},r.a.createElement("label",{htmlFor:""},"Sport"),r.a.createElement(V.a,{className:"select",value:this.state.sport,onChange:this.handleSport,options:te,required:!0})),r.a.createElement("div",{className:"inline-display__column"},r.a.createElement("label",{htmlFor:""},"Type"),r.a.createElement(V.a,{className:"select",value:this.state.type,onChange:this.handleType,options:ae,required:!0}))),r.a.createElement("label",{htmlFor:""},"Video"),r.a.createElement("input",{className:"input",type:"text",name:"video_url",value:this.state.exercise.video_url,onChange:this.handleInput}),r.a.createElement("label",{htmlFor:""},"Image"),this.state.exercise.img_url?r.a.createElement("span",null,"You can't add a new picture!"):r.a.createElement("input",{type:"file",className:"custom-file-input",id:"customFile",name:"img_url",onChange:function(t){return e.fileOnchange(t)}}),r.a.createElement("div",{className:"inline-display"},r.a.createElement("label",{htmlFor:""},"Duration"),r.a.createElement("input",{className:"input",type:"number",value:this.state.exercise.duration,name:"duration",onChange:this.handleInput,required:!0}),r.a.createElement("span",null,"min"),r.a.createElement("label",{name:"share"},"Share"),r.a.createElement("label",{className:"switch"},r.a.createElement("input",{type:"checkbox",name:"share",checked:this.state.exercise.share,onChange:this.handleInput}),r.a.createElement("span",{className:"slider round"}))),r.a.createElement("button",{className:"btn btn-success"},"Save")))}}]),t}(n.Component),re=function(e){function t(e){var a;return Object(s.a)(this,t),(a=Object(o.a)(this,Object(u.a)(t).call(this,e))).state={training:a.props.training},a}return Object(m.a)(t,e),Object(c.a)(t,[{key:"componentDidMount",value:function(){var e=this;window.scrollTo(0,0);var t=this.props.match.params.id;A.getOne(t).then((function(t){e.setState({training:t})})).catch((function(e){return console.log(e)}))}},{key:"render",value:function(){var e=this,t=this.state.training;return r.a.createElement("div",{className:"content"},r.a.createElement("button",{className:"btn-icon",onClick:function(){return e.props.history.push("/my-trainings")}},r.a.createElement("img",{src:"/arrow.svg",className:"back-icon",alt:""})),t?r.a.createElement("div",{className:"training-info"},r.a.createElement("div",{className:"training-info__header"},r.a.createElement("div",{className:"training-header"},r.a.createElement("h1",null,t.title),r.a.createElement(d.b,{to:"/my-trainings/".concat(t._id,"/edit")},r.a.createElement("button",{className:"btn btn-edit"},"Edit"))),r.a.createElement("div",{className:"inline-display inline-display--details"},r.a.createElement("p",null,r.a.createElement("strong",null,"Sport: "),t.sport,r.a.createElement("span",null,"|"),r.a.createElement("span",null,t.duration," min")))),r.a.createElement("h4",null,"Description"),r.a.createElement("p",null,t.description),r.a.createElement("h4",null,"Exercises"),r.a.createElement("div",{className:"training-ex-list"},t.exercises.map((function(e,t){return r.a.createElement("div",{className:"list-container__item list-container__item--training",key:t},r.a.createElement(d.b,{to:"/profile/".concat(e._id)},r.a.createElement("div",{className:"inline-display"},r.a.createElement("p",null,r.a.createElement("strong",null,t+1,". ",e.title)),r.a.createElement("span",{className:"item-type ".concat(e.type)},e.type)),r.a.createElement("p",null,r.a.createElement("strong",null,"Sport: "),e.sport),r.a.createElement("p",null,r.a.createElement("strong",null,"Duration: "),e.duration),r.a.createElement("p",null,e.description)))})),r.a.createElement("i",{"aria-hidden":"true"}),r.a.createElement("i",{"aria-hidden":"true"}))):null)}}]),t}(n.Component),le=[{value:"all",label:"All"},{value:"rugby",label:"Rugby"},{value:"basketball",label:"Basketball"},{value:"football",label:"Football"}],ie=function(e){function t(){var e,a;Object(s.a)(this,t);for(var n=arguments.length,r=new Array(n),l=0;l<n;l++)r[l]=arguments[l];return(a=Object(o.a)(this,(e=Object(u.a)(t)).call.apply(e,[this].concat(r)))).state={training:{},trainingId:"",trainingExercises:[],user:{},sport:{}},a.handleInput=function(e){var t=e.target,n=t.name,r=t.value,l=a.state.training;l[n]=r,a.setState({training:l})},a.saveTraining=function(e){e.preventDefault();var t=a.state.training._id,n=a.state.training,r=n.title,l=n.description,i=n.duration,s=a.state.sport.value;A.modifyOne({title:r,description:l,duration:i,sport:s},t).then((function(e){a.setState({training:e}),a.props.history.push("/my-trainings/".concat(t))})).catch((function(e){return console.log(e)}))},a.cancelNewTraining=function(e){e.preventDefault();var t=a.state.training._id;A.deleteOne(t).then((function(){return a.props.history.push("/my-trainings")})).catch((function(e){return console.log(e)}))},a.addExercise=function(e){var t=a.state.training._id;A.addExercise(t,e).then((function(e){var t=e.data.exercises;a.setState({trainingExercises:t})})).catch((function(e){return console.log(e)}))},a.handleSport=function(e){a.setState({sport:e})},a.removeExerciseFromTraining=function(e){A.deleteExercise(a.state.training._id,e).then((function(e){var t=e.exercises;a.setState({trainingExercises:t})})).catch((function(e){return console.log(e)}))},a}return Object(m.a)(t,e),Object(c.a)(t,[{key:"componentDidMount",value:function(){var e=this;window.scrollTo(0,0);A.create({title:" ",description:" ",duration:"0",sport:" "}).then((function(t){D.getUser().then((function(a){e.setState({training:t,trainingId:t._id,trainingExercises:t.exercises,user:a})})).catch((function(e){return console.log(e)}))}))}},{key:"render",value:function(){var e=this,t=this.state.training,a=this.state.trainingExercises,n=this.state.user.exercises,l=this.state.user.savedExercises;return r.a.createElement("main",{className:"content"},r.a.createElement("button",{className:"btn-icon",onClick:function(){return e.props.history.goBack()}},r.a.createElement("img",{src:"/arrow.svg",className:"back-icon",alt:""})),r.a.createElement("h1",null,"New training"),r.a.createElement("div",{className:"edit-training"},r.a.createElement("section",{className:"edit-training__info"},r.a.createElement("form",{onSubmit:this.saveTraining,className:"input-form"},r.a.createElement("label",{htmlFor:""},"Title"),r.a.createElement("input",{className:"input",type:"text",value:t.title,name:"title",onChange:this.handleInput}),r.a.createElement("label",{htmlFor:""},"Description"),r.a.createElement("textarea",{value:t.description,name:"description",onChange:this.handleInput}),r.a.createElement("div",{className:"inline-display"},r.a.createElement("label",{htmlFor:""},"Duration"),r.a.createElement("input",{className:"input",type:"number",value:t.duration,name:"duration",onChange:this.handleInput,required:!0}),r.a.createElement("span",null,"min")),r.a.createElement("label",{htmlFor:""},"Sport"),r.a.createElement(V.a,{className:"select",value:this.state.sport,onChange:this.handleSport,options:le}),r.a.createElement("button",{className:"btn btn-success"},"Save"),r.a.createElement("button",{className:"btn btn-cancel",onClick:this.cancelNewTraining},"Cancel")),r.a.createElement("div",{className:"exercises-edit"},a?a.map((function(t,a){return r.a.createElement("div",{className:"training-info__exercises",key:a},r.a.createElement("div",{className:"training-info__exercises__details"},r.a.createElement("h4",null,t.title),r.a.createElement("span",{className:"item-type ".concat(t.type)},t.type),r.a.createElement("p",null,t.description),r.a.createElement("p",null,r.a.createElement("strong",null,"Sport: "),t.sport)),r.a.createElement("div",{className:"training-info__exercises__buttons"},r.a.createElement("button",{className:"btn-icon",onClick:function(){return e.removeExerciseFromTraining(t._id)}},r.a.createElement("img",{src:"/bin.png",alt:"remove-exercise",className:"btn-icon__action"}))))})):null)),r.a.createElement("section",{className:"edit-training__user-exercises"},n?r.a.createElement("h2",null,"Your Exercises (",n.length,")"):r.a.createElement("h2",null,"Your Exercises (0)"),n?r.a.createElement(L,{exercises:n,userId:this.state.user._id,inEditTraining:!0,addExercise:this.addExercise}):null),r.a.createElement("section",{className:"edit-training__saved-exercises"},l?r.a.createElement("h2",null,"Saved Exercises (",l.length,")"):r.a.createElement("h2",null,"Saved Exercises (0)"),l?r.a.createElement(L,{exercises:l,userId:this.state.user._id,inEditTraining:!0,addExercise:this.addExercise}):null)))}}]),t}(n.Component),se=a(23),ce=[{value:"all",label:"All"},{value:"rugby",label:"Rugby"},{value:"basketball",label:"Basketball"},{value:"football",label:"Football"}],oe=[{value:"all",label:"All"},{value:"skills",label:"Skills"},{value:"attack",label:"Attack"},{value:"defense",label:"Defense"},{value:"sc",label:"Strength & Conditioning"},{value:"stretch",label:"Stretch"},{value:"recovery",label:"Recovery"}],ue=function(e){function t(e){var a;return Object(s.a)(this,t),(a=Object(o.a)(this,Object(u.a)(t).call(this,e))).updateExercise=function(e){e.preventDefault();var t=a.state.exercise._id,n=a.state.exercise,r=n.title,l=n.description,i=n.duration,s=n.sport,c=n.type,o=n.video_url,u=n.img_url,m=n.share;Q.modifyOne({title:r,description:l,duration:i,sport:s,type:c,video_url:o,img_url:u,share:m},t).then((function(e){a.props.editExercise(e),a.props.click()})).catch((function(e){return console.log(e)}))},a.handleChange=function(e){e.preventDefault();var t=e.target,n=t.name,r=t.value;console.log(n,r);var l=a.state.exercise;l[n]=r,"duration"!==n?a.setState({exercise:l,focusInput:n}):a.setState({exercise:l})},a.handleSport=function(e){a.setState({sport:e})},a.handleType=function(e){a.setState({type:e})},a.fileOnchange=function(e){var t=e.target.files[0],n=new FormData;n.append("photo",t),Q.uploadImage(n).then((function(e){var t=a.state.exercise;t.img_url=e,a.setState({exercise:t}),console.log(e)})).catch((function(e){return console.log(e)}))},a.state={exercise:null,focusInput:void 0,sport:{},type:{}},a.references={title:r.a.createRef(),description:r.a.createRef(),duration:r.a.createRef(),sport:r.a.createRef(),type:r.a.createRef(),video_url:r.a.createRef(),img_url:r.a.createRef(),share:r.a.createRef()},a.focusTextInput=a.focusTextInput.bind(Object(se.a)(a)),a}return Object(m.a)(t,e),Object(c.a)(t,[{key:"focusTextInput",value:function(){var e=this.state.focusInput;if(e){var t=this.references[e].current;t.focus(),t.selectionStart=t.value.length}}},{key:"componentDidUpdate",value:function(){this.focusTextInput()}},{key:"componentDidMount",value:function(){var e=this.props.exercise,t={value:e.sport,label:"".concat(e.sport.charAt(0).toUpperCase()).concat(e.sport.slice(1))},a={value:e.type,label:"".concat(e.type.charAt(0).toUpperCase()).concat(e.type.slice(1))};this.setState({exercise:e,sport:t,type:a})}},{key:"render",value:function(){var e=this;return r.a.createElement("div",{className:this.props.classToggle?"edit-exercise show":"edit-exercise hidden",key:T.a.generate()},r.a.createElement("div",{className:"edit-exercise__backdrop",onClick:this.props.click}),r.a.createElement("div",{className:"edit-exercise__form-container"},r.a.createElement("h2",null,"Edit exercise"),r.a.createElement("button",{className:"btn close-btn",onClick:this.props.click},"X"),null===this.state.exercise?r.a.createElement("h1",null,"loading"):r.a.createElement("form",{onSubmit:this.updateExercise,className:"input-form"},r.a.createElement("label",{htmlFor:""},"Title"),r.a.createElement("input",{className:"input",type:"text",value:this.state.exercise.title,name:"title",onChange:this.handleChange,ref:this.references.title}),r.a.createElement("label",{htmlFor:""},"Description"),r.a.createElement("textarea",{value:this.state.exercise.description,name:"description",onChange:this.handleChange,ref:this.references.description}),r.a.createElement("label",{htmlFor:""},"Duration"),r.a.createElement("input",{className:"input",type:"number",value:this.state.exercise.duration,name:"duration",onChange:this.handleChange}),r.a.createElement("label",{htmlFor:""},"Sport"),r.a.createElement(V.a,{className:"select",value:this.state.sport,onChange:this.handleSport,options:ce,placeholder:this.state.exercise.sport,required:!0}),r.a.createElement("label",{htmlFor:""},"Type"),r.a.createElement(V.a,{className:"select",value:this.state.type,onChange:this.handleType,options:oe,required:!0}),r.a.createElement("label",{htmlFor:""},"Video"),r.a.createElement("input",{className:"input",type:"text",name:"video_url",value:this.state.exercise.video_url,onChange:this.handleChange,ref:this.references.video_url}),r.a.createElement("label",{htmlFor:""},"Image"),this.state.exercise.img_url?r.a.createElement("span",null,"You can't add a new picture!"):r.a.createElement("input",{type:"file",className:"custom-file-input",id:"customFile",name:"img_url",onChange:function(t){return e.fileOnchange(t)}}),r.a.createElement("button",{className:"btn btn-success"},"Save"))))}}]),t}(n.Component),me=[{value:"all",label:"All"},{value:"rugby",label:"Rugby"},{value:"basketball",label:"Basketball"},{value:"football",label:"Football"}],pe=function(e){function t(){var e,a;Object(s.a)(this,t);for(var n=arguments.length,r=new Array(n),l=0;l<n;l++)r[l]=arguments[l];return(a=Object(o.a)(this,(e=Object(u.a)(t)).call.apply(e,[this].concat(r)))).state={training:{},trainingExercises:[],user:{},showEdit:!1,exerciseToEdit:null,sport:{}},a.handleInput=function(e){var t=e.target,n=t.name,r=t.value,l=a.state.training;l[n]=r,a.setState({training:l})},a.handleSport=function(e){a.setState({sport:e})},a.updateTraining=function(e){e.preventDefault();var t=a.state.training._id,n=a.state.training,r=n.title,l=n.description,i=n.duration,s=a.state.sport.value;A.modifyOne({title:r,description:l,duration:i,sport:s},t).then((function(e){a.setState({training:e}),a.props.history.push("/my-trainings/".concat(t))})).catch((function(e){return console.log(e)}))},a.editExercise=function(e){var t=a.state.trainingExercises,n=t.filter((function(t,a){if(t._id===e._id)return a}));t[n]=e,a.setState({trainingExercises:t})},a.addExercise=function(e){var t=a.state.training._id;A.addExercise(t,e).then((function(e){var t=e.data.exercises;a.setState({trainingExercises:t})})).catch((function(e){return console.log(e)}))},a.deleteTraining=function(e){e.preventDefault();var t=a.state.training._id;A.deleteOne(t).then((function(){return a.props.history.push("/my-trainings")})).catch((function(e){return console.log(e)}))},a.removeExerciseFromTraining=function(e){console.log("in"),A.deleteExercise(a.state.training._id,e).then((function(e){var t=e.exercises;a.setState({trainingExercises:t})})).catch((function(e){return console.log(e)}))},a.editToggle=function(e){var t=!a.state.showEdit;a.setState({showEdit:t,exerciseToEdit:e})},a}return Object(m.a)(t,e),Object(c.a)(t,[{key:"componentDidMount",value:function(){var e=this;window.scrollTo(0,0);var t=this.props.match.params.id;A.getOne(t).then((function(t){D.getUser().then((function(a){var n={value:t.sport,label:"".concat(t.sport.charAt(0).toUpperCase()).concat(t.sport.slice(1))};e.setState({training:t,trainingExercises:t.exercises,user:a,sport:n})})).catch((function(e){return console.log(e)}))}))}},{key:"render",value:function(){var e=this,t=this.state.training,a=this.state.trainingExercises,n=this.state.user.exercises,l=this.state.user.savedExercises;return r.a.createElement("main",{className:"content"},r.a.createElement("button",{className:"btn-icon",onClick:function(){return e.props.history.goBack()}},r.a.createElement("img",{src:"/arrow.svg",className:"back-icon",alt:""})),r.a.createElement("div",{className:"training-header"},r.a.createElement("h1",null,"Edit training"),r.a.createElement("button",{className:"btn btn-delete",onClick:this.deleteTraining},"Delete training")),r.a.createElement("div",{className:"edit-training"},this.state.showEdit?r.a.createElement(ue,{classToggle:this.state.showEdit,click:this.editToggle,editExercise:this.editExercise,exercise:this.state.exerciseToEdit}):null,r.a.createElement("section",{className:"edit-training__info"},r.a.createElement("form",{onSubmit:this.updateTraining,class:"input-form"},r.a.createElement("label",{htmlFor:""},"Title"),r.a.createElement("input",{class:"input",type:"text",value:t.title,name:"title",onChange:this.handleInput}),r.a.createElement("label",{htmlFor:""},"Description"),r.a.createElement("textarea",{value:t.description,name:"description",onChange:this.handleInput}),r.a.createElement("div",{className:"inline-display"},r.a.createElement("label",{htmlFor:""},"Duration"),r.a.createElement("input",{className:"input",type:"number",value:t.duration,name:"duration",onChange:this.handleInput,required:!0}),r.a.createElement("span",null,"min")),r.a.createElement("label",{htmlFor:""},"Sport"),r.a.createElement(V.a,{className:"select",value:this.state.sport,onChange:this.handleSport,options:me,placeholder:t.sport,required:!0}),r.a.createElement("button",{className:"btn btn-success"},"Save")),r.a.createElement("div",{className:"exercises-edit"},r.a.createElement("h4",null,"Exercises"),a.length?a.map((function(t,a){return r.a.createElement("div",{className:"training-info__exercises",key:a},r.a.createElement("div",{className:"list-container__item list-container__item--training",key:a},r.a.createElement(d.b,{to:"/profile/".concat(t._id)},r.a.createElement("div",{className:"inline-display"},r.a.createElement("p",null,r.a.createElement("strong",null,a+1,". ",t.title)),r.a.createElement("span",{className:"item-type ".concat(t.type)},t.type)),r.a.createElement("p",null,r.a.createElement("strong",null,"Sport: "),t.sport),r.a.createElement("p",null,r.a.createElement("strong",null,"Duration: "),t.duration),r.a.createElement("p",null,t.description))),r.a.createElement("div",{className:"training-info__exercises__buttons"},r.a.createElement("button",{className:"btn btn-edit",onClick:function(){return e.editToggle(t)}},"Edit"),r.a.createElement("button",{className:"btn-icon",onClick:function(){return e.removeExerciseFromTraining(t._id)}},r.a.createElement("img",{src:"/bin.png",alt:"remove-exercise",className:"btn-icon__action"}))))})):r.a.createElement("p",null,r.a.createElement("strong",null,"Add exercises!")))),r.a.createElement("section",{className:"edit-training__user-exercises"},n?r.a.createElement("h2",null,"Your Exercises (",n.length,")"):r.a.createElement("h2",null,"Your Exercises (0)"),n?r.a.createElement(L,{exercises:n,userId:this.state.user._id,inEditTraining:!0,addExercise:this.addExercise}):null),r.a.createElement("section",{className:"edit-training__saved-exercises"},l?r.a.createElement("h2",null,"Saved Exercises (",l.length,")"):r.a.createElement("h2",null,"Saved Exercises (0)"),l?r.a.createElement(L,{exercises:l,userId:this.state.user._id,inEditTraining:!0,addExercise:this.addExercise}):null)))}}]),t}(n.Component),he=(a(94),function(e){function t(){var e,a;Object(s.a)(this,t);for(var n=arguments.length,r=new Array(n),l=0;l<n;l++)r[l]=arguments[l];return(a=Object(o.a)(this,(e=Object(u.a)(t)).call.apply(e,[this].concat(r)))).state={searchResult:[]},a.submitSearch=function(e,t){e.preventDefault(),a.props.history.push("/discover?search=".concat(t))},a}return Object(m.a)(t,e),Object(c.a)(t,[{key:"render",value:function(){return r.a.createElement("div",{className:"App"},r.a.createElement(_,{submit:this.submitSearch}),r.a.createElement(S,null),r.a.createElement(p.d,null,r.a.createElement(G,{exact:!0,path:"/signup",component:O}),r.a.createElement(G,{exact:!0,path:"/login",component:k}),r.a.createElement(C,{exact:!0,path:"/",component:z}),r.a.createElement(C,{exact:!0,path:"/profile",component:I}),r.a.createElement(C,{exact:!0,path:"/my-trainings",component:R}),r.a.createElement(C,{exact:!0,path:"/discover",component:X}),r.a.createElement(C,{exact:!0,path:"/profile/new-exercise",component:ee}),r.a.createElement(C,{exact:!0,path:"/profile/edit",component:K}),r.a.createElement(C,{exact:!0,path:"/profile/:id",component:W}),r.a.createElement(C,{exact:!0,path:"/profile/:id/edit",component:ne}),r.a.createElement(C,{exact:!0,path:"/my-trainings/new-training",component:ie}),r.a.createElement(C,{exact:!0,path:"/my-trainings/:id",component:re}),r.a.createElement(C,{exact:!0,path:"/my-trainings/:id/edit",component:pe}),r.a.createElement(C,{exact:!0,path:"/discover/:id",component:W})))}}]),t}(n.Component)),de=Object(p.g)(he);i.a.render(r.a.createElement(d.a,null,r.a.createElement(N,null,r.a.createElement(de,null))),document.getElementById("root"))}},[[44,1,2]]]);
//# sourceMappingURL=main.7b0b25d5.chunk.js.map