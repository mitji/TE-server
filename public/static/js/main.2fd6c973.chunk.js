(this["webpackJsonpreact-auth-client-done-v2"]=this["webpackJsonpreact-auth-client-done-v2"]||[]).push([[0],{100:function(e,t,a){"use strict";a.r(t);var n=a(0),r=a.n(n),i=a(20),s=a.n(i),l=a(2),c=a(3),o=a(6),u=a(4),m=a(5),p=a(19),h=(a(53),a(32),a(9)),d=a(7),g=a(14),E=a.n(g),v=new(function(){function e(){Object(l.a)(this,e),this.auth=E.a.create({baseURL:"https://te-app.herokuapp.com/api",withCredentials:!0})}return Object(c.a)(e,[{key:"signup",value:function(e){var t=e.email,a=e.name,n=e.lastName,r=e.password;return this.auth.post("/auth/signup",{email:t,name:a,lastName:n,password:r}).then((function(e){return e.data}))}},{key:"login",value:function(e){var t=e.email,a=e.password;return this.auth.post("/auth/login",{email:t,password:a}).then((function(e){return e.data}))}},{key:"logout",value:function(){return this.auth.post("/auth/logout",{}).then((function(e){return e.data}))}},{key:"edit",value:function(e){var t=e.email,a=e.name,n=e.lastName,r=e.password;return this.auth.put("/auth/me",{email:t,name:a,lastName:n,password:r}).then((function(e){return e.data}))}},{key:"me",value:function(){return this.auth.get("/auth/me").then((function(e){return e.data}))}}]),e}()),f=r.a.createContext(),b=f.Consumer,y=f.Provider,x=function(e){return function(t){function a(){return Object(l.a)(this,a),Object(o.a)(this,Object(u.a)(a).apply(this,arguments))}return Object(m.a)(a,t),Object(c.a)(a,[{key:"render",value:function(){var t=this;return r.a.createElement(b,null,(function(a){var n=a.login,i=a.signup,s=a.user,l=a.logout,c=a.isLoggedin,o=a.isLoading,u=a.isUserInvalid;return r.a.createElement(e,Object.assign({login:n,signup:i,user:s,logout:l,isLoggedin:c,isLoading:o,isUserInvalid:u},t.props))}))}}]),a}(r.a.Component)},N=function(e){function t(){var e,a;Object(l.a)(this,t);for(var n=arguments.length,r=new Array(n),i=0;i<n;i++)r[i]=arguments[i];return(a=Object(o.a)(this,(e=Object(u.a)(t)).call.apply(e,[this].concat(r)))).state={isLoggedin:!1,user:null,isLoading:!0,isUserInvalid:!1},a.signup=function(e){var t=e.email,n=e.name,r=e.lastName,i=e.password;v.signup({email:t,name:n,lastName:r,password:i}).then((function(e){return a.setState({isLoggedin:!0,user:e})})).catch((function(e){return console.log(e)}))},a.login=function(e){var t=e.email,n=e.password;v.login({email:t,password:n}).then((function(e){return a.setState({isLoggedin:!0,user:e})})).catch((function(e){a.setState({isUserInvalid:!0}),console.log(e)}))},a.logout=function(){v.logout().then((function(){return a.setState({isLoggedin:!1,user:null})})).catch((function(e){return console.log(e)}))},a}return Object(m.a)(t,e),Object(c.a)(t,[{key:"componentDidMount",value:function(){var e=this;v.me().then((function(t){return e.setState({isLoggedin:!0,user:t,isLoading:!1})})).catch((function(t){return e.setState({isLoggedin:!1,user:null,isLoading:!1})}))}},{key:"render",value:function(){var e=this.state,t=e.isLoading,a=e.isLoggedin,n=e.user,i=e.isUserInvalid,s=this.login,l=this.logout,c=this.signup;return r.a.createElement(y,{value:{isLoading:t,isLoggedin:a,user:n,isUserInvalid:i,login:s,logout:l,signup:c}},this.props.children)}}]),t}(r.a.Component),k=a(47),O=function(e){return function(t){var a=Object(k.a)(),n=a.register,i=a.handleSubmit,s=a.errors;return r.a.createElement(e,Object.assign({register:n,handleSubmit:i,errors:s},t))}},_=O(x(function(e){function t(){var e,a;Object(l.a)(this,t);for(var n=arguments.length,r=new Array(n),i=0;i<n;i++)r[i]=arguments[i];return(a=Object(o.a)(this,(e=Object(u.a)(t)).call.apply(e,[this].concat(r)))).state={email:"",name:"",lastName:"",password:""},a.handleFormSubmit=function(){var e=a.state,t=e.email,n=e.name,r=e.lastName,i=e.password;a.props.signup({email:t,name:n,lastName:r,password:i})},a.handleChange=function(e){var t=e.target,n=t.name,r=t.value;a.setState(Object(h.a)({},n,r))},a}return Object(m.a)(t,e),Object(c.a)(t,[{key:"render",value:function(){var e=this.state,t=e.email,a=e.name,n=e.lastName,i=e.password;return r.a.createElement("div",{className:"auth-container"},r.a.createElement("section",null,r.a.createElement("div",{className:"img-container"},r.a.createElement("img",{src:"/logo.png",alt:""})),r.a.createElement("h1",null,"Training made easy"),r.a.createElement("h2",null,"Your final training preparation tool")),r.a.createElement("section",null,r.a.createElement("h2",null,"Sign Up"),r.a.createElement("form",{onSubmit:this.props.handleSubmit(this.handleFormSubmit)},r.a.createElement("label",null,"Email"),r.a.createElement("input",{name:"email",value:t,onChange:this.handleChange,ref:this.props.register({required:!0,pattern:/^\S+@\S+$/i})}),this.props.errors.email&&r.a.createElement("span",{className:"feedback"}),this.props.errors.email&&"pattern"===this.props.errors.email.type&&r.a.createElement("span",{className:"feedback-text"},"Enter a valid email"),r.a.createElement("label",null,"Name"),r.a.createElement("input",{type:"text",name:"name",value:a,onChange:this.handleChange,ref:this.props.register({required:!0})}),this.props.errors.name&&"required"===this.props.errors.name.type&&r.a.createElement("span",{className:"feedback"}),r.a.createElement("label",null,"Last name"),r.a.createElement("input",{type:"text",name:"lastName",value:n,onChange:this.handleChange,ref:this.props.register({required:!0})}),this.props.errors.lastName&&"required"===this.props.errors.lastName.type&&r.a.createElement("span",{className:"feedback"}),r.a.createElement("label",null,"Password"),r.a.createElement("input",{type:"password",name:"password",value:i,onChange:this.handleChange,ref:this.props.register({required:!0,minLength:6})}),this.props.errors.password&&r.a.createElement("span",{className:"feedback"}),this.props.errors.password&&"minLength"===this.props.errors.password.type&&r.a.createElement("span",{className:"feedback-text"},"Password must have at least 6 characters!"),r.a.createElement("input",{className:"btn btn-success",type:"submit",value:"Signup"})),r.a.createElement("p",null,"Already have account?"),r.a.createElement(d.b,{to:"/login"}," Login")))}}]),t}(n.Component))),S=O(x(function(e){function t(){var e,a;Object(l.a)(this,t);for(var n=arguments.length,r=new Array(n),i=0;i<n;i++)r[i]=arguments[i];return(a=Object(o.a)(this,(e=Object(u.a)(t)).call.apply(e,[this].concat(r)))).state={email:"",password:""},a.handleFormSubmit=function(e){var t=a.state,n=t.email,r=t.password;a.props.login({email:n,password:r})},a.handleChange=function(e){var t=e.target,n=t.name,r=t.value;a.setState(Object(h.a)({},n,r))},a}return Object(m.a)(t,e),Object(c.a)(t,[{key:"render",value:function(){var e=this.state,t=e.email,a=e.password;return r.a.createElement("div",{className:"auth-container"},r.a.createElement("section",null,r.a.createElement("div",{className:"img-container"},r.a.createElement("img",{src:"/logo.png",alt:""})),r.a.createElement("h1",null,"Training made easy"),r.a.createElement("h2",null,"Your final training preparation tool")),r.a.createElement("section",null,r.a.createElement("h2",null,"Login"),r.a.createElement("form",{onSubmit:this.props.handleSubmit(this.handleFormSubmit)},r.a.createElement("label",null,"Email"),r.a.createElement("input",{type:"email",name:"email",value:t,onChange:this.handleChange,ref:this.props.register({required:!0})}),this.props.errors.email&&r.a.createElement("span",{className:"feedback"}),r.a.createElement("label",null,"Password"),r.a.createElement("input",{type:"password",name:"password",value:a,onChange:this.handleChange,ref:this.props.register({required:!0})}),this.props.errors.password&&r.a.createElement("span",{className:"feedback"}),this.props.isUserInvalid&&r.a.createElement("span",{className:"feedback-text"},"Enter a valid email and password"),r.a.createElement("input",{className:"btn btn-success",type:"submit",value:"Login"})),r.a.createElement("p",null,"Not a user yet?"),r.a.createElement(d.b,{to:"/signup"},"Sign up")))}}]),t}(n.Component))),w=x(function(e){function t(){var e,a;Object(l.a)(this,t);for(var n=arguments.length,r=new Array(n),i=0;i<n;i++)r[i]=arguments[i];return(a=Object(o.a)(this,(e=Object(u.a)(t)).call.apply(e,[this].concat(r)))).state={search:""},a.handleSearch=function(e){var t=e.target.value;a.setState({search:t})},a.searchSubmit=function(e){a.props.submit(e,a.state.search),a.setState({search:""})},a}return Object(m.a)(t,e),Object(c.a)(t,[{key:"render",value:function(){var e=this,t=this.props,a=t.user,n=(t.logout,t.isLoggedin);return r.a.createElement("div",null,n?r.a.createElement("nav",null,r.a.createElement("form",{onSubmit:function(t){return e.searchSubmit(t)}},r.a.createElement("input",{type:"text",value:this.state.search,name:"search",onChange:this.handleSearch,placeholder:"Search by title..."})),r.a.createElement("p",null,"Hi ",a.name)):null)}}]),t}(n.Component)),j=x(function(e){function t(){return Object(l.a)(this,t),Object(o.a)(this,Object(u.a)(t).apply(this,arguments))}return Object(m.a)(t,e),Object(c.a)(t,[{key:"render",value:function(){var e=this.props,t=(e.user,e.logout,e.isLoggedin);return r.a.createElement("div",null,t?r.a.createElement("section",{className:"sidebar"},r.a.createElement("div",{className:"logo-container"},r.a.createElement("img",{className:"logo",src:"/logo.png",alt:"logo"})),r.a.createElement("div",{className:"sidebar__links-wrapper"},r.a.createElement(d.c,{to:"/profile",activeClassName:"selected"},r.a.createElement("h4",null,"Profile")),r.a.createElement(d.c,{to:"/my-trainings",activeClassName:"selected"},r.a.createElement("h4",null,"My trainings")),r.a.createElement(d.c,{to:"/discover",activeClassName:"selected"},r.a.createElement("h4",null,"Discover")),r.a.createElement("div",{className:"logout"},r.a.createElement("button",{className:"btn-icon",onClick:this.props.logout},r.a.createElement("img",{src:"/logout.png",alt:"logout",className:"btn-icon__action"}))))):null)}}]),t}(n.Component)),C=a(26);var L=x((function(e){var t=e.component,a=e.isLoggedin,n=e.isLoading,i=Object(C.a)(e,["component","isLoggedin","isLoading"]);return n?r.a.createElement("h1",null,"Loading"):r.a.createElement(p.b,Object.assign({},i,{render:function(e){return a?r.a.createElement(t,e):r.a.createElement(p.a,{to:"/login"})}}))})),T=a(12),I=a.n(T),F=new(function(){function e(){Object(l.a)(this,e),this.profile=E.a.create({baseURL:"https://te-app.herokuapp.com/api/profile",withCredentials:!0})}return Object(c.a)(e,[{key:"getUser",value:function(){return this.profile.get("/").then((function(e){return e.data}))}},{key:"unsaveExercise",value:function(e){return this.profile.put("/".concat(e)).then((function(e){return e.data}))}}]),e}()),D=(a(28),a(23),a(42),a(85),function(e){function t(e){var a;return Object(l.a)(this,t),(a=Object(o.a)(this,Object(u.a)(t).call(this,e))).state={userTraining:a.props.training},a}return Object(m.a)(t,e),Object(c.a)(t,[{key:"render",value:function(){var e=this.state.userTraining;return r.a.createElement("div",{className:"training-card",key:I.a.generate()},r.a.createElement(d.b,{to:"/my-trainings/".concat(e._id)},r.a.createElement("div",{className:"training-card__header"},r.a.createElement("h4",null,e.title),r.a.createElement("span",null,r.a.createElement("img",{src:"/stopwatch.png",className:"stopwatch-icon"}),e.duration," min")),e.exercises.map((function(e,t){return r.a.createElement("div",{className:"training-card__exercise inline-display",key:t},r.a.createElement("p",null,e.title),r.a.createElement("span",{className:"item-type ".concat(e.type)},e.type))}))))}}]),t}(n.Component)),A=function(e){function t(e){var a;return Object(l.a)(this,t),(a=Object(o.a)(this,Object(u.a)(t).call(this,e))).state={exerciseArr:a.props.exercises,listLength:a.props.exercises.length},a}return Object(m.a)(t,e),Object(c.a)(t,[{key:"unsaveExercise",value:function(e){var t=this;F.unsaveExercise(e).then((function(e){var a=e.savedExercises;t.props.updateLength(),t.setState({exerciseArr:a})})).catch((function(e){return console.log(e)}))}},{key:"render",value:function(){var e=this,t=this.state.exerciseArr;return r.a.createElement("div",{className:"list-container"},t.map((function(t){return r.a.createElement("div",null,r.a.createElement("div",{className:"list-container__item",key:I.a.generate()},r.a.createElement(d.b,{to:"/profile/".concat(t._id)},r.a.createElement("p",null,r.a.createElement("strong",null,t.title)),r.a.createElement("div",null,r.a.createElement("span",null,r.a.createElement("img",{src:"/stopwatch.png",className:"stopwatch-icon"}),t.duration," min"),"   |   ",r.a.createElement("span",{className:"item-type ".concat(t.type)},t.type)),t.author._id!==e.props.userId?r.a.createElement("div",null,r.a.createElement("p",null,r.a.createElement("strong",null,"Author: "),t.author.name," ",t.author.lastName)):null),t.author._id===e.props.userId||e.props.inEditTraining?null:r.a.createElement("button",{className:"btn-icon",onClick:function(){return e.unsaveExercise(t._id)}},r.a.createElement("img",{src:"/bin.png",alt:"unsave",className:"btn-icon__action"})),e.props.inEditTraining?r.a.createElement("button",{className:"btn-icon",onClick:function(){return e.props.addExercise(t._id)}},r.a.createElement("img",{src:"/add.png",alt:"",className:"btn-icon__action"})):null))})))}}]),t}(n.Component),R=function(e){function t(){var e,a;Object(l.a)(this,t);for(var n=arguments.length,r=new Array(n),i=0;i<n;i++)r[i]=arguments[i];return(a=Object(o.a)(this,(e=Object(u.a)(t)).call.apply(e,[this].concat(r)))).state={user:{},savedExercisesLength:0},a.updateLength=function(){var e=a.state.savedExercisesLength;e-=1,a.setState({savedExercisesLength:e})},a}return Object(m.a)(t,e),Object(c.a)(t,[{key:"componentDidMount",value:function(){var e=this;window.scrollTo(0,0),F.getUser().then((function(t){e.setState({user:t}),e.setState({savedExercisesLength:t.savedExercises.length})})).catch((function(e){return console.log(e)}))}},{key:"render",value:function(){var e=this.state.user.exercises,t=this.state.user.savedExercises,a=this.state.user.trainings;return r.a.createElement("main",{className:"content"},r.a.createElement("div",{className:"profile-header"},r.a.createElement("h1",null,"Profile"),r.a.createElement(d.b,{to:"/profile/edit"},r.a.createElement("button",{className:"btn btn-edit"},"Edit profile"))),r.a.createElement("div",{className:"profile-container"},r.a.createElement("div",{className:"profile-column"},r.a.createElement("div",{className:"header"},a?r.a.createElement("h2",null,"Your Trainings (",a.length,")"):r.a.createElement("h2",null,"Your Trainings (0)")),a?r.a.createElement("div",{className:"list-container list-container--trainings"},a.map((function(e){return r.a.createElement(D,{training:e,key:I.a.generate()})}))):null),r.a.createElement("div",{className:"profile-column"},r.a.createElement("div",{className:"header"},e?r.a.createElement("h2",null,"Your Exercises (",e.length,")"):r.a.createElement("h2",null,"Your Exercises (0)"),r.a.createElement(d.b,{className:"btn btn-create",to:"/profile/new-exercise"},"New")),e?r.a.createElement(A,{exercises:e,userId:this.state.user._id}):null),r.a.createElement("div",{className:"profile-column"},r.a.createElement("div",{className:"header"},t?r.a.createElement("h2",null,"Saved Exercises (",this.state.savedExercisesLength,")"):r.a.createElement("h2",null,"Saved Exercises (0)")),t?r.a.createElement(A,{exercises:t,userId:this.state.user._id,updateLength:this.updateLength}):null)))}}]),t}(n.Component),U=new(function(){function e(){Object(l.a)(this,e),this.training=E.a.create({baseURL:"https://te-app.herokuapp.com/api/my-trainings",withCredentials:!0})}return Object(c.a)(e,[{key:"getAll",value:function(){return this.training.get("/").then((function(e){return e.data}))}},{key:"create",value:function(e){var t=e.title,a=e.description,n=e.duration,r=e.sport,i=e.type,s=e.exercises;return this.training.post("/new",{title:t,description:a,duration:n,sport:r,type:i,exercises:s}).then((function(e){return e.data}))}},{key:"getOne",value:function(e){return this.training.get("/".concat(e)).then((function(e){return e.data}))}},{key:"deleteOne",value:function(e){return this.training.delete("/".concat(e)).then((function(e){return e.data}))}},{key:"deleteExercise",value:function(e,t){return this.training.put("/".concat(e,"/").concat(t,"/delete")).then((function(e){return e.data}))}},{key:"modifyOne",value:function(e,t){var a=e.title,n=e.description,r=e.duration,i=e.sport;return this.training.put("/".concat(t),{title:a,description:n,duration:r,sport:i}).then((function(e){return e.data}))}},{key:"addExercise",value:function(e,t){return this.training.post("/".concat(e,"/").concat(t)).then((function(e){return e}))}}]),e}()),q=(a(43),function(e){function t(){var e,a;Object(l.a)(this,t);for(var n=arguments.length,r=new Array(n),i=0;i<n;i++)r[i]=arguments[i];return(a=Object(o.a)(this,(e=Object(u.a)(t)).call.apply(e,[this].concat(r)))).state={trainings:[]},a}return Object(m.a)(t,e),Object(c.a)(t,[{key:"componentDidMount",value:function(){var e=this;window.scrollTo(0,0),U.getAll().then((function(t){e.setState({trainings:t})})).catch((function(e){return console.log(e)}))}},{key:"render",value:function(){var e=this.state.trainings;return r.a.createElement("div",{className:"content"},r.a.createElement("div",{className:"training-header"},r.a.createElement("h1",null,"My Trainings"),r.a.createElement(d.b,{to:"/my-trainings/new-training"},r.a.createElement("button",{className:"btn btn-create"},"New"))),r.a.createElement("div",{className:"trainings-list "},e?e.map((function(e,t){return r.a.createElement(D,{training:e,key:t})})):r.a.createElement("h2",null,"No trainings")))}}]),t}(n.Component)),M=a(46),B=a.n(M),Y=new(function(){function e(){Object(l.a)(this,e),this.search=E.a.create({baseURL:"https://te-app.herokuapp.com/api/search",withCredentials:!0})}return Object(c.a)(e,[{key:"getResults",value:function(e){return this.search.get("?search=".concat(e)).then((function(e){return e.data}))}}]),e}()),P=new(function(){function e(){Object(l.a)(this,e),this.discover=E.a.create({baseURL:"https://te-app.herokuapp.com/api/discover",withCredentials:!0})}return Object(c.a)(e,[{key:"getAll",value:function(){return this.discover.get("/").then((function(e){return e.data}))}},{key:"save",value:function(e){return this.discover.put("".concat(e)).then((function(e){return e.data}))}}]),e}()),V=function(e){function t(e){var a;return Object(l.a)(this,t),(a=Object(o.a)(this,Object(u.a)(t).call(this,e))).state={exercise:a.props.exercise},a}return Object(m.a)(t,e),Object(c.a)(t,[{key:"render",value:function(){var e=this.state.exercise;return r.a.createElement("div",{className:"discover-card",key:I.a.generate()},r.a.createElement(d.b,{to:"/discover/".concat(e._id)},r.a.createElement("h4",null,e.title),r.a.createElement("div",{className:"inline-display"},r.a.createElement("p",null,r.a.createElement("img",{src:"/stopwatch.png",className:"stopwatch-icon"}),e.duration," min | ",e.sport),r.a.createElement("span",{className:"item-type ".concat(e.type)},e.type)),r.a.createElement("p",null,r.a.createElement("strong",null,"Author: "),e.author.name," ",e.author.lastName)))}}]),t}(n.Component),J=function(e){function t(){return Object(l.a)(this,t),Object(o.a)(this,Object(u.a)(t).apply(this,arguments))}return Object(m.a)(t,e),Object(c.a)(t,[{key:"render",value:function(){var e=this.props.exercises;return r.a.createElement("div",{className:"discover-list"},0!==e.length?e.map((function(e){return r.a.createElement(V,{exercise:e,key:I.a.generate()})})):r.a.createElement("h2",null,"No results :("),r.a.createElement("i",{"aria-hidden":"true"}),r.a.createElement("i",{"aria-hidden":"true"}))}}]),t}(n.Component),H=(a(97),a(10)),X=[{value:"all",label:"All"},{value:"rugby",label:"Rugby"},{value:"basketball",label:"Basketball"},{value:"football",label:"Football"}],$=[{value:"all",label:"All"},{value:"skills",label:"Skills"},{value:"attack",label:"Attack"},{value:"defense",label:"Defense"},{value:"sc",label:"Strength & Conditioning"},{value:"stretch",label:"Stretch"},{value:"recovery",label:"Recovery"}],z=function(e){function t(){var e,a;Object(l.a)(this,t);for(var n=arguments.length,r=new Array(n),i=0;i<n;i++)r[i]=arguments[i];return(a=Object(o.a)(this,(e=Object(u.a)(t)).call.apply(e,[this].concat(r)))).state={allExercises:null,exercisesCopy:null,sport:"all",type:"all"},a.handleSearch=function(){var e=B.a.parse(a.props.location.search);e.search?Y.getResults(e.search).then((function(e){a.setState({allExercises:e,exercisesCopy:e})})).catch((function(e){return console.log(e)})):P.getAll().then((function(e){a.setState({allExercises:e,exercisesCopy:e})})).catch((function(e){return console.log(e)}))},a.handleSport=function(e){a.setState({sport:e})},a.handleType=function(e){a.setState({type:e})},a.filter=function(e){e.preventDefault(),console.log(a.state.sport.value,a.state.type.value);var t=a.state.allExercises,n=[];n="all"===a.state.sport.value?t:t.filter((function(e){return e.sport===a.state.sport.value})),"all"!==a.state.type.value&&(n=n.filter((function(e){return e.type===a.state.type.value}))),a.setState({exercisesCopy:n})},a}return Object(m.a)(t,e),Object(c.a)(t,[{key:"componentDidMount",value:function(){window.scrollTo(0,0),this.handleSearch()}},{key:"componentDidUpdate",value:function(e){e.location.search!==this.props.location.search&&(console.log("updated"),this.handleSearch())}},{key:"render",value:function(){return r.a.createElement("div",{className:"content"},r.a.createElement("h1",null,"Discover page"),r.a.createElement("form",{onSubmit:this.filter,className:"filter-form"},r.a.createElement("div",{className:"selects"},r.a.createElement(H.a,{className:"custom-select",value:this.state.sport,onChange:this.handleSport,options:X}),r.a.createElement(H.a,{className:"custom-select",value:this.state.type,onChange:this.handleType,options:$})),r.a.createElement("button",{className:"btn btn-filter"},"Filter")),this.state.exercisesCopy?r.a.createElement(J,{exercises:this.state.exercisesCopy}):r.a.createElement("h2",null,"No results :("))}}]),t}(n.Component),G=(n.Component,x(function(e){function t(){return Object(l.a)(this,t),Object(o.a)(this,Object(u.a)(t).apply(this,arguments))}return Object(m.a)(t,e),Object(c.a)(t,[{key:"render",value:function(){var e=this.props,t=(e.user,e.logout,e.isLoggedin);return r.a.createElement("div",null,t?r.a.createElement(p.a,{to:"/profile"}):r.a.createElement("div",null,r.a.createElement(d.b,{to:"/login"}," ",r.a.createElement("button",{className:"btn"},"Login")," "),r.a.createElement("br",null),r.a.createElement(d.b,{to:"/signup"}," ",r.a.createElement("button",{className:"btn"},"Signup")," ")))}}]),t}(n.Component)));var K=x((function(e){var t=e.component,a=e.isLoggedin,n=e.isLoading,i=Object(C.a)(e,["component","isLoggedin","isLoading"]);return n?r.a.createElement("h1",null,"Loading"):r.a.createElement(p.b,Object.assign({},i,{render:function(e){return a?r.a.createElement(p.a,{to:"/profile"}):r.a.createElement(t,e)}}))})),Q=function(e){function t(){var e,a;Object(l.a)(this,t);for(var n=arguments.length,r=new Array(n),i=0;i<n;i++)r[i]=arguments[i];return(a=Object(o.a)(this,(e=Object(u.a)(t)).call.apply(e,[this].concat(r)))).state={email:"",name:"",lastName:"",password:""},a.handleFormSubmit=function(){var e=a.state,t=e.email,n=e.name,r=e.lastName,i=e.password;v.edit({email:t,name:n,lastName:r,password:i}).then((function(e){a.props.history.push("/profile")})).catch((function(e){return console.log(e)}))},a.handleChange=function(e){var t=e.target,n=t.name,r=t.value;a.setState(Object(h.a)({},n,r))},a}return Object(m.a)(t,e),Object(c.a)(t,[{key:"componentDidMount",value:function(){var e=this;v.me().then((function(t){var a=t.email,n=t.name,r=t.lastName,i=t.password;e.setState({email:a,name:n,lastName:r,password:i})})).catch((function(e){return console.log(e)}))}},{key:"render",value:function(){var e=this,t=this.state,a=t.email,n=t.name,i=t.lastName,s=t.password;return r.a.createElement("div",{className:"content"},r.a.createElement("button",{className:"btn-icon",onClick:function(){return e.props.history.push("/profile")}},r.a.createElement("img",{src:"/arrow.svg",className:"back-icon",alt:""})),r.a.createElement("h1",null,"Edit profile"),r.a.createElement("form",{onSubmit:this.handleFormSubmit,className:"input-form"},r.a.createElement("label",null,"Email:"),r.a.createElement("input",{className:"input",type:"email",name:"email",value:a,onChange:this.handleChange}),r.a.createElement("label",null,"Name:"),r.a.createElement("input",{className:"input",type:"text",name:"name",value:n,onChange:this.handleChange}),r.a.createElement("label",null,"Last name:"),r.a.createElement("input",{className:"input",type:"text",name:"lastName",value:i,onChange:this.handleChange}),r.a.createElement("label",null,"Password:"),r.a.createElement("input",{className:"input",type:"password",name:"password",value:s,onChange:this.handleChange}),r.a.createElement("input",{className:"btn btn-success btn-success--edit",type:"submit",value:"Save"})))}}]),t}(n.Component),W=new(function(){function e(){Object(l.a)(this,e),this.exercises=E.a.create({baseURL:"https://te-app.herokuapp.com/api/exercises",withCredentials:!0})}return Object(c.a)(e,[{key:"getOne",value:function(e){return this.exercises.get("/".concat(e)).then((function(e){return e.data}))}},{key:"create",value:function(e){var t=e.title,a=e.description,n=e.duration,r=e.sport,i=e.type,s=e.video_url,l=e.img_url,c=e.share;return this.exercises.post("/new",{title:t,description:a,duration:n,sport:r,type:i,video_url:s,img_url:l,share:c}).then((function(e){return e.data}))}},{key:"uploadImage",value:function(e){return this.exercises.post("/new/image",e).then((function(e){return e.data}))}},{key:"modifyOne",value:function(e,t){var a=e.title,n=e.description,r=e.duration,i=e.sport,s=e.type,l=e.video_url,c=e.img_url,o=e.share;return this.exercises.put("/".concat(t),{title:a,description:n,duration:r,sport:i,type:s,video_url:l,img_url:c,share:o}).then((function(e){return e.data}))}},{key:"deleteOne",value:function(e){return this.exercises.delete("/".concat(e)).then((function(e){return e.data}))}}]),e}()),Z=function(e){function t(){var e,a;Object(l.a)(this,t);for(var n=arguments.length,r=new Array(n),i=0;i<n;i++)r[i]=arguments[i];return(a=Object(o.a)(this,(e=Object(u.a)(t)).call.apply(e,[this].concat(r)))).state={exercise:{},userId:"",isSaved:null},a.saveExercise=function(e){e.preventDefault(),console.log("in");var t=a.state.exercise._id;P.save(t).then((function(){a.setState({isSaved:!0}),console.log("added to favourites")})).catch((function(e){return console.log(e)}))},a.unsaveExercise=function(e){e.preventDefault();var t=a.state.exercise._id;F.unsaveExercise(t).then((function(){a.setState({isSaved:!1})})).catch((function(e){return console.log(e)}))},a}return Object(m.a)(t,e),Object(c.a)(t,[{key:"componentDidMount",value:function(){var e=this;window.scrollTo(0,0);var t=this.props.match.params.id;W.getOne(t).then((function(t){F.getUser().then((function(a){var n=a.savedExercises.some((function(e){return e._id===t._id}));e.setState({exercise:t,userId:a._id,isSaved:n})})).catch((function(e){return console.log(e)}))}))}},{key:"render",value:function(){var e=this,t=this.state.exercise,a=this.state.userId;return console.log("is saved?",this.state.isSaved),r.a.createElement("main",{className:"content"},r.a.createElement("button",{className:"btn-icon",onClick:function(){return e.props.history.goBack()}},r.a.createElement("img",{src:"/arrow.svg",className:"back-icon",alt:""})),r.a.createElement("div",null,r.a.createElement("div",{className:"profile-header profile-header--details"},r.a.createElement("div",{className:"profile-header--details__info"},r.a.createElement("h1",null,t.title),r.a.createElement("span",{className:"item-type ".concat(t.type)},t.type),t.share?null:r.a.createElement(d.b,{to:"/profile/".concat(t._id,"/edit")},r.a.createElement("button",{className:"btn btn-edit"},"Edit"))),r.a.createElement("div",{className:"inline-display inline-display--details"},r.a.createElement("p",null,r.a.createElement("strong",null,"Sport: "),t.sport,r.a.createElement("span",null,"|"),r.a.createElement("span",null,r.a.createElement("img",{src:"/stopwatch.png",className:"stopwatch-icon"}),t.duration," min")))),r.a.createElement("h4",null,"Description"),r.a.createElement("p",null,t.description),r.a.createElement("div",{className:"inline-display"},r.a.createElement("div",{className:"inline-display__media"},r.a.createElement("h4",null,"Image"),t.img_url?r.a.createElement("img",{className:"edit-exercise__img",src:t.img_url,alt:"exercise"}):r.a.createElement("p",null,r.a.createElement("strong",null,"No image provided"))),r.a.createElement("div",{className:"inline-display__media"},r.a.createElement("h4",null,"Video"),t.video_url?r.a.createElement("iframe",Object(h.a)({width:"400",height:"250",src:t.video_url,frameborder:"0",allow:"accelerometer; autoplay; encrypted-media; gyroscope; picture-in-picture"},"allow","fullscreen")):r.a.createElement("p",null,r.a.createElement("strong",null,"No video provided")))),t.author!==a?r.a.createElement("div",null,this.state.isSaved?r.a.createElement("button",{className:"btn btn-delete",onClick:this.unsaveExercise},"Unsave"):r.a.createElement("button",{className:"btn btn-success",onClick:this.saveExercise},"Save")):null))}}]),t}(n.Component),ee=a(25),te=a.n(ee),ae=[{value:"all",label:"All"},{value:"rugby",label:"Rugby"},{value:"basketball",label:"Basketball"},{value:"football",label:"Football"}],ne=[{value:"all",label:"All"},{value:"skills",label:"Skills"},{value:"attack",label:"Attack"},{value:"defense",label:"Defense"},{value:"sc",label:"Strength & Conditioning"},{value:"stretch",label:"Stretch"},{value:"recovery",label:"Recovery"}],re=O(function(e){function t(){var e,a;Object(l.a)(this,t);for(var n=arguments.length,r=new Array(n),i=0;i<n;i++)r[i]=arguments[i];return(a=Object(o.a)(this,(e=Object(u.a)(t)).call.apply(e,[this].concat(r)))).state={exercise:[],sport:"all",type:"all",isLoading:!1},a.handleInput=function(e){var t=e.target,n="checkbox"===t.type?t.checked:t.value,r=t.name,i=a.state.exercise;i[r]=n,a.setState({exercise:i})},a.handleSport=function(e){a.setState({sport:e})},a.handleType=function(e){a.setState({type:e})},a.fileOnchange=function(e){a.setState({isLoading:!0});var t=e.target.files[0],n=new FormData;n.append("photo",t),W.uploadImage(n).then((function(e){var t=a.state.exercise;t.img_url=e,a.setState({exercise:t,isLoading:!1})})).catch((function(e){return console.log(e)}))},a.saveExercise=function(e){var t=a.state.exercise,n=t.title,r=t.description,i=t.duration,s=t.video_url,l=t.img_url,c=t.share,o=a.state.sport.value,u=a.state.type.value,m=te()(s);switch(m.service){case"youtube":s="https://www.youtube.com/embed/".concat(m.id);break;case"vimeo":s="https://player.vimeo.com/video/".concat(m.id);break;default:s=""}W.create({title:n,description:r,duration:i,sport:o,type:u,video_url:s,img_url:l,share:c}).then((function(){a.props.history.push("/profile")})).catch((function(e){return console.log(e)}))},a}return Object(m.a)(t,e),Object(c.a)(t,[{key:"componentDidMount",value:function(){window.scrollTo(0,0)}},{key:"render",value:function(){var e=this;return r.a.createElement("div",{className:"content"},r.a.createElement("button",{className:"btn-icon",onClick:function(){return e.props.history.goBack()}},r.a.createElement("img",{src:"/arrow.svg",className:"back-icon",alt:""})),r.a.createElement("h1",null,"New exercise"),r.a.createElement("form",{onSubmit:this.props.handleSubmit(this.saveExercise),className:"input-form"},r.a.createElement("label",{htmlFor:""},"Title"),r.a.createElement("input",{className:"input",type:"text",value:this.state.exercise.title,name:"title",onChange:this.handleInput,ref:this.props.register({required:!0})}),this.props.errors.title&&r.a.createElement("span",{className:"feedback"}),r.a.createElement("label",{htmlFor:""},"Description"),r.a.createElement("textarea",{value:this.state.exercise.description,name:"description",onChange:this.handleInput,ref:this.props.register({required:!0})}),this.props.errors.description&&r.a.createElement("span",{className:"feedback feedback--description"}),r.a.createElement("div",{className:"inline-display"},r.a.createElement("div",{className:"inline-display__column"},r.a.createElement("label",{htmlFor:""},"Sport"),r.a.createElement(H.a,{className:"select",value:this.state.sport,onChange:this.handleSport,options:ae,name:"sport",ref:this.props.register({required:!0})}),this.props.errors.sport&&r.a.createElement("span",{className:"feedback"})),r.a.createElement("div",{className:"inline-display__column"},r.a.createElement("label",{htmlFor:""},"Type"),r.a.createElement(H.a,{className:"select",value:this.state.type,onChange:this.handleType,options:ne,name:"type",ref:this.props.register({required:!0})}),this.props.errors.type&&r.a.createElement("span",{className:"feedback"}))),r.a.createElement("label",{htmlFor:""},"Video"),r.a.createElement("input",{className:"input",type:"text",name:"video_url",value:this.state.exercise.video_url,onChange:this.handleInput}),r.a.createElement("label",{htmlFor:""},"Image"),r.a.createElement("input",{type:"file",className:"custom-file-input",id:"customFile",name:"img_url",onChange:function(t){return e.fileOnchange(t)}}),r.a.createElement("div",{className:"inline-display"},r.a.createElement("label",{htmlFor:""},"Duration"),r.a.createElement("input",{className:"input",type:"number",value:this.state.exercise.duration,name:"duration",onChange:this.handleInput,ref:this.props.register({required:!0})}),r.a.createElement("span",null,"min"),r.a.createElement("label",{name:"share"},"Share"),r.a.createElement("label",{className:"switch"},r.a.createElement("input",{type:"checkbox",name:"share",checked:this.state.exercise.share,onChange:this.handleInput}),r.a.createElement("span",{className:"slider round"}))),this.props.errors.duration&&r.a.createElement("span",{className:"feedback feedback--duration"}),this.state.isLoading?r.a.createElement("span",{className:"btn btn-success loading-gif-btn"},r.a.createElement("img",{className:"loading-gif",src:"/loading.gif",alt:"loading"})):r.a.createElement("button",{className:"btn btn-success"},"Save")))}}]),t}(n.Component)),ie=[{value:"all",label:"All"},{value:"rugby",label:"Rugby"},{value:"basketball",label:"Basketball"},{value:"football",label:"Football"}],se=[{value:"all",label:"All"},{value:"skills",label:"Skills"},{value:"attack",label:"Attack"},{value:"defense",label:"Defense"},{value:"sc",label:"Strength & Conditioning"},{value:"stretch",label:"Stretch"},{value:"recovery",label:"Recovery"}],le=O(function(e){function t(){var e,a;Object(l.a)(this,t);for(var n=arguments.length,r=new Array(n),i=0;i<n;i++)r[i]=arguments[i];return(a=Object(o.a)(this,(e=Object(u.a)(t)).call.apply(e,[this].concat(r)))).state={exercise:{},sport:{},type:{},isLoading:!1},a.handleInput=function(e){var t=e.target,n="checkbox"===t.type?t.checked:t.value,r=t.name,i=a.state.exercise;i[r]=n,a.setState({exercise:i})},a.handleSport=function(e){a.setState({sport:e})},a.handleType=function(e){a.setState({type:e})},a.fileOnchange=function(e){a.setState({isLoading:!0});var t=e.target.files[0],n=new FormData;n.append("photo",t),W.uploadImage(n).then((function(e){var t=a.state.exercise;t.img_url=e,a.setState({exercise:t,isLoading:!1})})).catch((function(e){return console.log(e)}))},a.updateExercise=function(e){var t=a.state.exercise._id,n=a.state.exercise,r=n.title,i=n.description,s=n.duration,l=n.video_url,c=n.img_url,o=n.share,u=a.state.sport.value,m=a.state.type.value,p=te()(l);switch(p.service){case"youtube":l="https://www.youtube.com/embed/".concat(p.id);break;case"vimeo":l="https://player.vimeo.com/video/".concat(p.id);break;default:l=""}W.modifyOne({title:r,description:i,duration:s,sport:u,type:m,video_url:l,img_url:c,share:o},t).then((function(e){a.setState({exercise:e}),a.props.history.goBack()})).catch((function(e){return console.log(e)}))},a.deleteExercise=function(){W.deleteOne(a.state.exercise._id).then((function(){a.props.history.push("/profile")})).catch((function(e){return console.log(e)}))},a}return Object(m.a)(t,e),Object(c.a)(t,[{key:"componentDidMount",value:function(){var e=this;window.scrollTo(0,0);var t=this.props.match.params.id;W.getOne(t).then((function(t){var a={value:t.sport,label:"".concat(t.sport.charAt(0).toUpperCase()).concat(t.sport.slice(1))},n={value:t.type,label:"".concat(t.type.charAt(0).toUpperCase()).concat(t.type.slice(1))};e.setState({exercise:t,sport:a,type:n})})).catch((function(e){return console.log(e)}))}},{key:"render",value:function(){var e=this;return r.a.createElement("main",{className:"content"},r.a.createElement("button",{className:"btn-icon",onClick:function(){return e.props.history.goBack()}},r.a.createElement("img",{src:"/arrow.svg",className:"back-icon",alt:""})),r.a.createElement("div",{className:"inline-display"},r.a.createElement("h1",null,"Exercise edit"),r.a.createElement("button",{className:"btn btn-delete",onClick:this.deleteExercise},"Delete")),r.a.createElement("form",{onSubmit:this.props.handleSubmit(this.updateExercise),className:"input-form"},r.a.createElement("label",{htmlFor:""},"Title"),r.a.createElement("input",{className:"input",type:"text",value:this.state.exercise.title,name:"title",onChange:this.handleInput,ref:this.props.register({required:!0})}),this.props.errors.title&&r.a.createElement("span",{className:"feedback"}),r.a.createElement("label",{htmlFor:""},"Description"),r.a.createElement("textarea",{value:this.state.exercise.description,name:"description",onChange:this.handleInput,ref:this.props.register({required:!0})}),this.props.errors.description&&r.a.createElement("span",{className:"feedback feedback--description"}),r.a.createElement("div",{className:"inline-display"},r.a.createElement("div",{className:"inline-display__column"},r.a.createElement("label",{htmlFor:""},"Sport"),r.a.createElement(H.a,{className:"select",value:this.state.sport,onChange:this.handleSport,options:ie,required:!0})),r.a.createElement("div",{className:"inline-display__column"},r.a.createElement("label",{htmlFor:""},"Type"),r.a.createElement(H.a,{className:"select",value:this.state.type,onChange:this.handleType,options:se,required:!0}))),r.a.createElement("label",{htmlFor:""},"Video"),r.a.createElement("input",{className:"input",type:"text",name:"video_url",value:this.state.exercise.video_url,onChange:this.handleInput}),r.a.createElement("label",{htmlFor:""},"Image"),r.a.createElement("input",{type:"file",className:"custom-file-input",id:"customFile",name:"img_url",onChange:function(t){return e.fileOnchange(t)}}),r.a.createElement("div",{className:"inline-display"},r.a.createElement("label",{htmlFor:""},"Duration"),r.a.createElement("input",{className:"input",type:"number",value:this.state.exercise.duration,name:"duration",onChange:this.handleInput,ref:this.props.register({required:!0})}),r.a.createElement("span",null,"min"),r.a.createElement("label",{name:"share"},"Share"),r.a.createElement("label",{className:"switch"},r.a.createElement("input",{type:"checkbox",name:"share",checked:this.state.exercise.share,onChange:this.handleInput}),r.a.createElement("span",{className:"slider round"}))),this.props.errors.duration&&r.a.createElement("span",{className:"feedback feedback--duration"}),this.state.isLoading?r.a.createElement("button",{disabled:!0,className:"btn btn-success loading-gif-btn"},r.a.createElement("img",{className:"loading-gif",src:"/loading.gif",alt:"loading"})):r.a.createElement("button",{className:"btn btn-success"},"Save")))}}]),t}(n.Component)),ce=function(e){function t(e){var a;return Object(l.a)(this,t),(a=Object(o.a)(this,Object(u.a)(t).call(this,e))).state={training:a.props.training},a}return Object(m.a)(t,e),Object(c.a)(t,[{key:"componentDidMount",value:function(){var e=this;window.scrollTo(0,0);var t=this.props.match.params.id;U.getOne(t).then((function(t){e.setState({training:t})})).catch((function(e){return console.log(e)}))}},{key:"render",value:function(){var e=this,t=this.state.training;return r.a.createElement("div",{className:"content"},r.a.createElement("button",{className:"btn-icon",onClick:function(){return e.props.history.push("/my-trainings")}},r.a.createElement("img",{src:"/arrow.svg",className:"back-icon",alt:""})),t?r.a.createElement("div",{className:"training-info"},r.a.createElement("div",{className:"training-info__header"},r.a.createElement("div",{className:"training-header"},r.a.createElement("h1",null,t.title),r.a.createElement(d.b,{to:"/my-trainings/".concat(t._id,"/edit")},r.a.createElement("button",{className:"btn btn-edit"},"Edit"))),r.a.createElement("div",{className:"inline-display inline-display--details"},r.a.createElement("p",null,r.a.createElement("strong",null,"Sport: "),t.sport,r.a.createElement("span",null,"|"),r.a.createElement("span",null,r.a.createElement("img",{src:"/stopwatch.png",className:"stopwatch-icon"}),t.duration," min")))),r.a.createElement("h4",null,"Description"),r.a.createElement("p",null,t.description),r.a.createElement("h4",null,"Exercises"),r.a.createElement("div",{className:"training-ex-list"},t.exercises.map((function(e,t){return r.a.createElement("div",{className:"list-container__item list-container__item--training",key:t},r.a.createElement(d.b,{to:"/profile/".concat(e._id)},r.a.createElement("div",{className:"inline-display"},r.a.createElement("p",null,r.a.createElement("strong",null,t+1,". ",e.title)),r.a.createElement("span",{className:"item-type ".concat(e.type)},e.type)),r.a.createElement("p",null,r.a.createElement("strong",null,"Sport: "),e.sport),r.a.createElement("span",null,r.a.createElement("img",{src:"/stopwatch.png",className:"stopwatch-icon"}),e.duration," min"),r.a.createElement("p",null,e.description)))})),r.a.createElement("i",{"aria-hidden":"true"}),r.a.createElement("i",{"aria-hidden":"true"}))):null)}}]),t}(n.Component),oe=[{value:"all",label:"All"},{value:"rugby",label:"Rugby"},{value:"basketball",label:"Basketball"},{value:"football",label:"Football"}],ue=function(e){function t(){var e,a;Object(l.a)(this,t);for(var n=arguments.length,r=new Array(n),i=0;i<n;i++)r[i]=arguments[i];return(a=Object(o.a)(this,(e=Object(u.a)(t)).call.apply(e,[this].concat(r)))).state={training:{},trainingId:"",trainingExercises:[],user:{},sport:{}},a.handleInput=function(e){var t=e.target,n=t.name,r=t.value,i=a.state.training;i[n]=r,a.setState({training:i})},a.saveTraining=function(e){e.preventDefault();var t=a.state.training._id,n=a.state.training,r=n.title,i=n.description,s=n.duration,l=a.state.sport.value;U.modifyOne({title:r,description:i,duration:s,sport:l},t).then((function(e){a.setState({training:e}),a.props.history.push("/my-trainings/".concat(t))})).catch((function(e){return console.log(e)}))},a.cancelNewTraining=function(e){e.preventDefault();var t=a.state.training._id;U.deleteOne(t).then((function(){return a.props.history.push("/my-trainings")})).catch((function(e){return console.log(e)}))},a.addExercise=function(e){var t=a.state.training._id;U.addExercise(t,e).then((function(e){var t=e.data.exercises;a.setState({trainingExercises:t})})).catch((function(e){return console.log(e)}))},a.handleSport=function(e){a.setState({sport:e})},a.removeExerciseFromTraining=function(e){U.deleteExercise(a.state.training._id,e).then((function(e){var t=e.exercises;a.setState({trainingExercises:t})})).catch((function(e){return console.log(e)}))},a}return Object(m.a)(t,e),Object(c.a)(t,[{key:"componentDidMount",value:function(){var e=this;window.scrollTo(0,0);U.create({title:" ",description:" ",duration:"0",sport:" "}).then((function(t){F.getUser().then((function(a){e.setState({training:t,trainingId:t._id,trainingExercises:t.exercises,user:a})})).catch((function(e){return console.log(e)}))}))}},{key:"render",value:function(){var e=this,t=this.state.training,a=this.state.trainingExercises,n=this.state.user.exercises,i=this.state.user.savedExercises;return r.a.createElement("main",{className:"content"},r.a.createElement("button",{className:"btn-icon",onClick:function(){return e.props.history.goBack()}},r.a.createElement("img",{src:"/arrow.svg",className:"back-icon",alt:""})),r.a.createElement("h1",null,"New training"),r.a.createElement("div",{className:"edit-training"},r.a.createElement("section",{className:"edit-training__info"},r.a.createElement("form",{onSubmit:this.saveTraining,className:"input-form"},r.a.createElement("label",{htmlFor:""},"Title"),r.a.createElement("input",{className:"input",type:"text",value:t.title,name:"title",onChange:this.handleInput}),r.a.createElement("label",{htmlFor:""},"Description"),r.a.createElement("textarea",{value:t.description,name:"description",onChange:this.handleInput}),r.a.createElement("div",{className:"inline-display"},r.a.createElement("label",{htmlFor:""},"Duration"),r.a.createElement("input",{className:"input",type:"number",value:t.duration,name:"duration",onChange:this.handleInput,required:!0}),r.a.createElement("span",null,"min")),r.a.createElement("label",{htmlFor:""},"Sport"),r.a.createElement(H.a,{className:"select",value:this.state.sport,onChange:this.handleSport,options:oe}),r.a.createElement("button",{className:"btn btn-success"},"Save"),r.a.createElement("button",{className:"btn btn-cancel",onClick:this.cancelNewTraining},"Cancel")),r.a.createElement("div",{className:"exercises-edit"},r.a.createElement("h4",null,"Exercises"),a.length?a.map((function(t,a){return r.a.createElement("div",{className:"training-info__exercises",key:a},r.a.createElement("div",{className:"list-container__item list-container__item--training",key:a},r.a.createElement(d.b,{to:"/profile/".concat(t._id)},r.a.createElement("div",{className:"inline-display"},r.a.createElement("p",null,r.a.createElement("strong",null,a+1,". ",t.title)),r.a.createElement("span",{className:"item-type ".concat(t.type)},t.type)),r.a.createElement("p",null,r.a.createElement("strong",null,"Sport: "),t.sport),r.a.createElement("p",null,r.a.createElement("strong",null,"Duration: "),t.duration),r.a.createElement("p",null,t.description))),r.a.createElement("div",{className:"training-info__exercises__buttons"},r.a.createElement("button",{className:"btn-icon",onClick:function(){return e.removeExerciseFromTraining(t._id)}},r.a.createElement("img",{src:"/bin.png",alt:"remove-exercise",className:"btn-icon__action"}))))})):r.a.createElement("p",null,r.a.createElement("strong",null,"Add exercises!")))),r.a.createElement("section",{className:"edit-training__user-exercises"},n?r.a.createElement("h2",null,"Your Exercises (",n.length,")"):r.a.createElement("h2",null,"Your Exercises (0)"),n?r.a.createElement(A,{exercises:n,userId:this.state.user._id,inEditTraining:!0,addExercise:this.addExercise}):null),r.a.createElement("section",{className:"edit-training__saved-exercises"},i?r.a.createElement("h2",null,"Saved Exercises (",i.length,")"):r.a.createElement("h2",null,"Saved Exercises (0)"),i?r.a.createElement(A,{exercises:i,userId:this.state.user._id,inEditTraining:!0,addExercise:this.addExercise}):null)))}}]),t}(n.Component),me=a(24),pe=[{value:"all",label:"All"},{value:"rugby",label:"Rugby"},{value:"basketball",label:"Basketball"},{value:"football",label:"Football"}],he=[{value:"all",label:"All"},{value:"skills",label:"Skills"},{value:"attack",label:"Attack"},{value:"defense",label:"Defense"},{value:"sc",label:"Strength & Conditioning"},{value:"stretch",label:"Stretch"},{value:"recovery",label:"Recovery"}],de=function(e){function t(e){var a;return Object(l.a)(this,t),(a=Object(o.a)(this,Object(u.a)(t).call(this,e))).updateExercise=function(e){e.preventDefault();var t=a.state.exercise._id,n=a.state.exercise,r=n.title,i=n.description,s=n.duration,l=n.sport,c=n.type,o=n.video_url,u=n.img_url,m=n.share;W.modifyOne({title:r,description:i,duration:s,sport:l,type:c,video_url:o,img_url:u,share:m},t).then((function(e){a.props.editExercise(e),a.props.click()})).catch((function(e){return console.log(e)}))},a.handleChange=function(e){e.preventDefault();var t=e.target,n=t.name,r=t.value;console.log(n,r);var i=a.state.exercise;i[n]=r,"duration"!==n?a.setState({exercise:i,focusInput:n}):a.setState({exercise:i})},a.handleSport=function(e){a.setState({sport:e})},a.handleType=function(e){a.setState({type:e})},a.fileOnchange=function(e){a.setState({isLoading:!0});var t=e.target.files[0],n=new FormData;n.append("photo",t),W.uploadImage(n).then((function(e){var t=a.state.exercise;t.img_url=e,a.setState({exercise:t,isLoading:!1}),console.log(e)})).catch((function(e){return console.log(e)}))},a.state={exercise:null,focusInput:void 0,sport:{},type:{},isLoading:!1},a.references={title:r.a.createRef(),description:r.a.createRef(),duration:r.a.createRef(),sport:r.a.createRef(),type:r.a.createRef(),video_url:r.a.createRef(),img_url:r.a.createRef(),share:r.a.createRef()},a.focusTextInput=a.focusTextInput.bind(Object(me.a)(a)),a}return Object(m.a)(t,e),Object(c.a)(t,[{key:"focusTextInput",value:function(){var e=this.state.focusInput;if(e){var t=this.references[e].current;t.focus(),t.selectionStart=t.value.length}}},{key:"componentDidUpdate",value:function(){this.focusTextInput()}},{key:"componentDidMount",value:function(){var e=this.props.exercise,t={value:e.sport,label:"".concat(e.sport.charAt(0).toUpperCase()).concat(e.sport.slice(1))},a={value:e.type,label:"".concat(e.type.charAt(0).toUpperCase()).concat(e.type.slice(1))};this.setState({exercise:e,sport:t,type:a})}},{key:"render",value:function(){var e=this;return r.a.createElement("div",{className:this.props.classToggle?"edit-exercise show":"edit-exercise hidden",key:I.a.generate()},r.a.createElement("div",{className:"edit-exercise__backdrop",onClick:this.props.click}),r.a.createElement("div",{className:"edit-exercise__form-container"},r.a.createElement("h2",null,"Edit exercise"),r.a.createElement("button",{className:"btn close-btn",onClick:this.props.click},"X"),null===this.state.exercise?r.a.createElement("h1",null,"loading"):r.a.createElement("form",{onSubmit:this.updateExercise,className:"input-form"},r.a.createElement("label",{htmlFor:""},"Title"),r.a.createElement("input",{className:"input",type:"text",value:this.state.exercise.title,name:"title",onChange:this.handleChange,ref:this.references.title}),r.a.createElement("label",{htmlFor:""},"Description"),r.a.createElement("textarea",{value:this.state.exercise.description,name:"description",onChange:this.handleChange,ref:this.references.description}),r.a.createElement("label",{htmlFor:""},"Duration"),r.a.createElement("input",{className:"input",type:"number",value:this.state.exercise.duration,name:"duration",onChange:this.handleChange}),r.a.createElement("label",{htmlFor:""},"Sport"),r.a.createElement(H.a,{className:"select",value:this.state.sport,onChange:this.handleSport,options:pe,placeholder:this.state.exercise.sport,required:!0}),r.a.createElement("label",{htmlFor:""},"Type"),r.a.createElement(H.a,{className:"select",value:this.state.type,onChange:this.handleType,options:he,required:!0}),r.a.createElement("label",{htmlFor:""},"Video"),r.a.createElement("input",{className:"input",type:"text",name:"video_url",value:this.state.exercise.video_url,onChange:this.handleChange,ref:this.references.video_url}),r.a.createElement("label",{htmlFor:""},"Image"),r.a.createElement("input",{type:"file",className:"custom-file-input",id:"customFile",name:"img_url",onChange:function(t){return e.fileOnchange(t)}}),this.state.isLoading?r.a.createElement("button",{disabled:!0,className:"btn btn-success loading-gif-btn"},r.a.createElement("img",{className:"loading-gif",src:"/loading.gif",alt:"loading"})):r.a.createElement("button",{className:"btn btn-success"},"Save"))))}}]),t}(n.Component),ge=[{value:"all",label:"All"},{value:"rugby",label:"Rugby"},{value:"basketball",label:"Basketball"},{value:"football",label:"Football"}],Ee=function(e){function t(){var e,a;Object(l.a)(this,t);for(var n=arguments.length,r=new Array(n),i=0;i<n;i++)r[i]=arguments[i];return(a=Object(o.a)(this,(e=Object(u.a)(t)).call.apply(e,[this].concat(r)))).state={training:{},trainingExercises:[],user:{},showEdit:!1,exerciseToEdit:null,sport:{}},a.handleInput=function(e){var t=e.target,n=t.name,r=t.value,i=a.state.training;i[n]=r,a.setState({training:i})},a.handleSport=function(e){a.setState({sport:e})},a.updateTraining=function(e){e.preventDefault();var t=a.state.training._id,n=a.state.training,r=n.title,i=n.description,s=n.duration,l=a.state.sport.value;U.modifyOne({title:r,description:i,duration:s,sport:l},t).then((function(e){a.setState({training:e}),a.props.history.push("/my-trainings/".concat(t))})).catch((function(e){return console.log(e)}))},a.editExercise=function(e){var t=a.state.trainingExercises,n=t.filter((function(t,a){if(t._id===e._id)return a}));t[n]=e,a.setState({trainingExercises:t})},a.addExercise=function(e){var t=a.state.training._id;U.addExercise(t,e).then((function(e){var t=e.data.exercises;a.setState({trainingExercises:t})})).catch((function(e){return console.log(e)}))},a.deleteTraining=function(e){e.preventDefault();var t=a.state.training._id;U.deleteOne(t).then((function(){return a.props.history.push("/my-trainings")})).catch((function(e){return console.log(e)}))},a.removeExerciseFromTraining=function(e){console.log("in"),U.deleteExercise(a.state.training._id,e).then((function(e){var t=e.exercises;a.setState({trainingExercises:t})})).catch((function(e){return console.log(e)}))},a.editToggle=function(e){var t=!a.state.showEdit;a.setState({showEdit:t,exerciseToEdit:e})},a}return Object(m.a)(t,e),Object(c.a)(t,[{key:"componentDidMount",value:function(){var e=this;window.scrollTo(0,0);var t=this.props.match.params.id;U.getOne(t).then((function(t){F.getUser().then((function(a){var n={value:t.sport,label:"".concat(t.sport.charAt(0).toUpperCase()).concat(t.sport.slice(1))};e.setState({training:t,trainingExercises:t.exercises,user:a,sport:n})})).catch((function(e){return console.log(e)}))}))}},{key:"render",value:function(){var e=this,t=this.state.training,a=this.state.trainingExercises,n=this.state.user.exercises,i=this.state.user.savedExercises;return r.a.createElement("main",{className:"content"},r.a.createElement("button",{className:"btn-icon",onClick:function(){return e.props.history.goBack()}},r.a.createElement("img",{src:"/arrow.svg",className:"back-icon",alt:""})),r.a.createElement("div",{className:"training-header"},r.a.createElement("h1",null,"Edit training"),r.a.createElement("button",{className:"btn btn-delete",onClick:this.deleteTraining},"Delete training")),r.a.createElement("div",{className:"edit-training"},this.state.showEdit?r.a.createElement(de,{classToggle:this.state.showEdit,click:this.editToggle,editExercise:this.editExercise,exercise:this.state.exerciseToEdit}):null,r.a.createElement("section",{className:"edit-training__info"},r.a.createElement("form",{onSubmit:this.updateTraining,class:"input-form"},r.a.createElement("label",{htmlFor:""},"Title"),r.a.createElement("input",{class:"input",type:"text",value:t.title,name:"title",onChange:this.handleInput}),r.a.createElement("label",{htmlFor:""},"Description"),r.a.createElement("textarea",{value:t.description,name:"description",onChange:this.handleInput}),r.a.createElement("div",{className:"inline-display"},r.a.createElement("label",{htmlFor:""},"Duration"),r.a.createElement("input",{className:"input",type:"number",value:t.duration,name:"duration",onChange:this.handleInput,required:!0}),r.a.createElement("span",null,"min")),r.a.createElement("label",{htmlFor:""},"Sport"),r.a.createElement(H.a,{className:"select",value:this.state.sport,onChange:this.handleSport,options:ge,placeholder:t.sport,required:!0}),r.a.createElement("button",{className:"btn btn-success"},"Save")),r.a.createElement("div",{className:"exercises-edit"},r.a.createElement("h4",null,"Exercises"),a.length?a.map((function(t,a){return r.a.createElement("div",{className:"training-info__exercises",key:a},r.a.createElement("div",{className:"list-container__item list-container__item--training",key:a},r.a.createElement(d.b,{to:"/profile/".concat(t._id)},r.a.createElement("div",{className:"inline-display"},r.a.createElement("p",null,r.a.createElement("strong",null,a+1,". ",t.title)),r.a.createElement("span",{className:"item-type ".concat(t.type)},t.type)),r.a.createElement("p",null,r.a.createElement("strong",null,"Sport: "),t.sport),r.a.createElement("span",null,r.a.createElement("img",{src:"/stopwatch.png",className:"stopwatch-icon"}),t.duration," min"),r.a.createElement("p",null,t.description))),r.a.createElement("div",{className:"training-info__exercises__buttons"},r.a.createElement("button",{className:"btn btn-edit",onClick:function(){return e.editToggle(t)}},"Edit"),r.a.createElement("button",{className:"btn-icon",onClick:function(){return e.removeExerciseFromTraining(t._id)}},r.a.createElement("img",{src:"/bin.png",alt:"remove-exercise",className:"btn-icon__action"}))))})):r.a.createElement("p",null,r.a.createElement("strong",null,"Add exercises!")))),r.a.createElement("section",{className:"edit-training__user-exercises"},n?r.a.createElement("h2",null,"Your Exercises (",n.length,")"):r.a.createElement("h2",null,"Your Exercises (0)"),n?r.a.createElement(A,{exercises:n,userId:this.state.user._id,inEditTraining:!0,addExercise:this.addExercise}):null),r.a.createElement("section",{className:"edit-training__saved-exercises"},i?r.a.createElement("h2",null,"Saved Exercises (",i.length,")"):r.a.createElement("h2",null,"Saved Exercises (0)"),i?r.a.createElement(A,{exercises:i,userId:this.state.user._id,inEditTraining:!0,addExercise:this.addExercise}):null)))}}]),t}(n.Component),ve=(a(99),function(e){function t(){var e,a;Object(l.a)(this,t);for(var n=arguments.length,r=new Array(n),i=0;i<n;i++)r[i]=arguments[i];return(a=Object(o.a)(this,(e=Object(u.a)(t)).call.apply(e,[this].concat(r)))).state={searchResult:[]},a.submitSearch=function(e,t){e.preventDefault(),a.props.history.push("/discover?search=".concat(t))},a}return Object(m.a)(t,e),Object(c.a)(t,[{key:"render",value:function(){return r.a.createElement("div",{className:"App"},r.a.createElement(w,{submit:this.submitSearch}),r.a.createElement(j,null),r.a.createElement(p.d,null,r.a.createElement(K,{exact:!0,path:"/signup",component:_}),r.a.createElement(K,{exact:!0,path:"/login",component:S}),r.a.createElement(L,{exact:!0,path:"/",component:G}),r.a.createElement(L,{exact:!0,path:"/profile",component:R}),r.a.createElement(L,{exact:!0,path:"/my-trainings",component:q}),r.a.createElement(L,{exact:!0,path:"/discover",component:z}),r.a.createElement(L,{exact:!0,path:"/profile/new-exercise",component:re}),r.a.createElement(L,{exact:!0,path:"/profile/edit",component:Q}),r.a.createElement(L,{exact:!0,path:"/profile/:id",component:Z}),r.a.createElement(L,{exact:!0,path:"/profile/:id/edit",component:le}),r.a.createElement(L,{exact:!0,path:"/my-trainings/new-training",component:ue}),r.a.createElement(L,{exact:!0,path:"/my-trainings/:id",component:ce}),r.a.createElement(L,{exact:!0,path:"/my-trainings/:id/edit",component:Ee}),r.a.createElement(L,{exact:!0,path:"/discover/:id",component:Z})))}}]),t}(n.Component)),fe=Object(p.g)(ve);s.a.render(r.a.createElement(d.a,null,r.a.createElement(N,null,r.a.createElement(fe,null))),document.getElementById("root"))},23:function(e,t,a){},28:function(e,t,a){},32:function(e,t,a){},42:function(e,t,a){},43:function(e,t,a){},48:function(e,t,a){e.exports=a(100)},53:function(e,t,a){},85:function(e,t,a){},97:function(e,t,a){},99:function(e,t,a){}},[[48,1,2]]]);
//# sourceMappingURL=main.2fd6c973.chunk.js.map