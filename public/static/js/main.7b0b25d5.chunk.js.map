{"version":3,"sources":["services/auth-service.js","services/AuthProvider.js","pages/Signup.js","pages/Login.js","components/SearchBar.js","components/SideMenu.js","components/PrivateRoute.js","services/profile-service.js","components/TrainingCard.js","components/ExerciseList.js","pages/Profile.js","services/trainings-service.js","pages/MyTrainings.js","services/search-service.js","services/discover-service.js","components/DiscoverCard.js","components/DiscoverList.js","pages/Discover.js","pages/Home.js","pages/Dashboard.js","components/AnonRoute.js","pages/ProfileEdit.js","services/exercises-service.js","pages/ExerciseDetails.js","pages/ExerciseNew.js","pages/ExerciseEdit.js","pages/TrainingDetails.js","pages/TrainingNew.js","components/TrainingExerciseEdit.js","pages/TrainingEdit.js","App.js","index.js"],"names":["axiosRequestFunctions","this","auth","axios","create","baseURL","process","withCredentials","user","email","name","lastName","password","post","then","data","response","updatedUser","put","get","React","createContext","Consumer","Provider","withAuth","WrappedComponent","login","signup","logout","isLoggedin","isLoading","props","Component","AuthProvider","state","authService","setState","catch","err","console","log","me","value","children","handleFormSubmit","event","preventDefault","handleChange","target","className","src","alt","onSubmit","type","onChange","to","search","handleSearch","e","searchSubmit","submit","placeholder","activeClassName","onClick","component","rest","render","ProfileService","profile","id","TrainingCard","userTraining","training","key","shortid","generate","_id","title","duration","exercises","map","exercise","i","ExerciseList","exerciseArr","listLength","length","profileService","unsaveExercise","savedExercises","updateLength","author","userId","inEditTraining","addExercise","Dashboard","savedExercisesLength","window","scrollTo","getUser","userInfo","userExercises","userTrainings","trainings","TrainingService","newTraining","description","sport","delete","trainingId","exerciseId","modifiedTraining","MyTrainings","trainingService","getAll","index","SearchService","searchStr","DiscoverService","discover","DiscoverCard","DiscoverList","exercisesList","aria-hidden","sports","label","Discover","allExercises","exercisesCopy","values","queryString","parse","location","searchService","getResults","discoverService","handleSport","selected","handleType","filter","currentExs","filteredExs","ex","prevProps","options","ProfileEdit","edit","history","push","exercisesService","video_url","img_url","share","file","modifiedExercise","ExerciseDetails","isSaved","saveExercise","save","match","params","getOne","some","savedEx","goBack","width","height","frameborder","allow","ExerciseNew","handleInput","checked","exerciseCopy","fileOnchange","files","uploadData","FormData","append","uploadImage","error","htmlFor","required","ExerciseEdit","updateExercise","modifyOne","updatedExercise","deleteExercise","deleteOne","charAt","toUpperCase","slice","TrainingDetails","TrainingNew","trainingExercises","trainingCopy","saveTraining","trainingsService","cancelNewTraining","result","removeExerciseFromTraining","TrainingExerciseEdit","editExercise","click","focusInput","undefined","references","createRef","focusTextInput","bind","currentInput","current","focus","selectionStart","classToggle","ref","TrainingEdit","showEdit","exerciseToEdit","updateTraining","updatedEx","copyTrEx","indexOfModified","deleteTraining","editToggle","show","class","App","searchResult","submitSearch","exact","path","Signup","Login","Home","Profile","withRouter","ReactDOM","document","getElementById"],"mappings":"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","file":"static/js/main.7b0b25d5.chunk.js","sourcesContent":["import axios from 'axios';\n\nclass Auth {\n  constructor() {\n    this.auth = axios.create({\n      baseURL: process.env.REACT_APP_API_URL,\n      withCredentials: true,\n    });\n  }\n\n  signup(user) {\n    const { email, name, lastName, password } = user;\n    return this.auth.post('/auth/signup', { email, name, lastName, password })\n      .then(({ data }) => data);\n  }\n\n  login(user) {\n    const { email, password } = user;\n    return this.auth.post('/auth/login', { email, password })\n      .then(({ data }) => data);\n  }\n\n  logout() {\n    return this.auth.post('/auth/logout', {})\n      .then(response => response.data);\n  }\n\n  edit(updatedUser) {\n    const { email, name, lastName, password } = updatedUser;\n    return this.auth\n      .put('/auth/me', { email, name, lastName, password })\n      .then(response => response.data);\n  }\n\n  me() {\n    return this.auth\n      .get('/auth/me')\n      .then(response => response.data);\n  }\n}\n\nconst axiosRequestFunctions = new Auth();\n\nexport default axiosRequestFunctions;\n","//\tservices\n//AuthProvider.js\n\nimport React from 'react';\nimport authService from './auth-service'; // IMPORT functions for axios requests to API\nconst { Consumer, Provider } = React.createContext();\n\n// HOC to create Consumer\nconst withAuth = WrappedComponent => {\n  return class extends React.Component {\n    render() {\n      return (\n        <Consumer>\n          {/* <Consumer> component provides callback which receives Providers \"value\" object */}\n          {/* (value) => { <WrappedComponent />}  */}\n          {({ login, signup, user, logout, isLoggedin, isLoading }) => {\n            return (\n              <WrappedComponent\n                login={login}\n                signup={signup}\n                user={user}\n                logout={logout}\n                isLoggedin={isLoggedin}\n                isLoading={isLoading}\n                {...this.props}\n              />\n            );\n          }}\n        </Consumer>\n      );\n    }\n  };\n};\n\n// Provider\nclass AuthProvider extends React.Component {\n  state = { \n    isLoggedin: false, \n    user: null, \n    isLoading: true \n  };\n\n  componentDidMount() {\n    authService.me()\n      .then(user =>\n        this.setState({ isLoggedin: true, user: user, isLoading: false }),\n      )\n      .catch(err =>\n        this.setState({ isLoggedin: false, user: null, isLoading: false }),\n      );\n  }\n\n  signup = user => {\n    const { email, name, lastName, password } = user;\n\n    authService.signup({ email, name, lastName, password })\n      .then(user => this.setState({ isLoggedin: true, user }))\n      .catch(err => console.log(err));\n  };\n\n  login = user => {\n    const { email, password } = user;\n\n    authService.login({ email, password })\n      .then(user => this.setState({ isLoggedin: true, user }))\n      .catch(err => console.log(err));\n  };\n\n  logout = () => {\n    authService.logout()\n      .then(() => this.setState({ isLoggedin: false, user: null }))\n      .catch(err => console.log(err));\n  };\n\n  render() {\n    const { isLoading, isLoggedin, user } = this.state;\n    const { login, logout, signup } = this;\n\n    return (\n      <Provider value={{ isLoading, isLoggedin, user, login, logout, signup }}>\n        {this.props.children}\n      </Provider>\n    );\n  }\n}\n\nexport { Consumer, withAuth };\n\nexport default AuthProvider;\n","import React, { Component } from 'react';\nimport { Link } from 'react-router-dom';\nimport { withAuth } from '../services/AuthProvider';\n\nclass Signup extends Component {\n  state = { \n    email: '', \n    name: '',\n    lastName: '',\n    password: '' \n  };\n\n  handleFormSubmit = event => {\n    event.preventDefault();\n    const { email, name, lastName, password } = this.state;\n    //  console.log('Signup -> form submit', { username, password });\n    this.props.signup({ email, name, lastName, password }); // props.signup is Provided by withAuth() and Context API\n  };\n\n  handleChange = event => {\n    const { name, value } = event.target;\n    this.setState({ [name]: value });\n  };\n\n  render() {\n    const { email, name, lastName, password } = this.state;\n    return (\n      <div className=\"auth-container\">\n        <div className=\"img-container\">\n          <img src={'/logo.png'} alt=\"\"/>\n        </div>\n        <h1>Sign Up</h1>\n        <form onSubmit={this.handleFormSubmit}>\n          <label>Email:</label>\n          <input\n            type=\"email\"\n            name=\"email\"\n            value={email}\n            onChange={this.handleChange}\n          />\n          <label>Name:</label>\n          <input\n            type=\"text\"\n            name=\"name\"\n            value={name}\n            onChange={this.handleChange}\n          />\n\n          <label>Last name:</label>\n          <input\n            type=\"text\"\n            name=\"lastName\"\n            value={lastName}\n            onChange={this.handleChange}\n          />\n\n          <label>Password:</label>\n          <input\n            type=\"password\"\n            name=\"password\"\n            value={password}\n            onChange={this.handleChange}\n          />\n\n          <input className=\"btn btn-success\" type=\"submit\" value=\"Signup\" />\n        </form>\n\n        <p>Already have account?</p>\n        <Link to={'/login'}> Login</Link>\n      </div>\n    );\n  }\n}\n\nexport default withAuth(Signup);\n","import React, { Component } from 'react';\nimport { withAuth } from '../services/AuthProvider';\nimport { Link } from 'react-router-dom';\n\nclass Login extends Component {\n  state = { \n    email: '', \n    password: ''\n  };\n\n  handleFormSubmit = event => {\n    event.preventDefault();\n    const { email, password } = this.state;\n    this.props.login({ email, password });\n  };\n\n  handleChange = event => {\n    const { name, value } = event.target;\n    this.setState({ [name]: value });\n  };\n\n  render() {\n    const { email, password } = this.state;\n\n    return (\n      <div className=\"auth-container\">\n      <div className=\"img-container\">\n        <img src={'/logo.png'} alt=\"\"/>\n      </div>\n        <h1>Login</h1>\n        <form onSubmit={this.handleFormSubmit}>\n          <label>Email:</label>\n          <input\n            type=\"email\"\n            name=\"email\"\n            value={email}\n            onChange={this.handleChange}\n          />\n\n          <label>Password:</label>\n          <input\n            type=\"password\"\n            name=\"password\"\n            value={password}\n            onChange={this.handleChange}\n          />\n\n          <input className=\"btn btn-success\" type=\"submit\" value=\"Login\" />\n          <p>Not a user yet?</p>\n          <Link to={'/signup'}>Sign up</Link>\n          \n        </form>\n      </div>\n    );\n  }\n}\n\nexport default withAuth(Login);\n","import React, { Component } from 'react';\nimport { withAuth } from '../services/AuthProvider';\n\nclass SearchBar extends Component {\n  state = {\n    search: ''\n  }\n\n  handleSearch = (e) => {\n    const { value } = e.target;\n    this.setState({search: value})\n  }\n\n  searchSubmit = (e) => {\n    this.props.submit(e,this.state.search);\n    this.setState({search: ''});\n  }\n\n  render() {\n    const { user, logout, isLoggedin } = this.props;\n    return (\n      <div>\n        {isLoggedin ? \n          (\n            <nav>\n              <form onSubmit={(e) => this.searchSubmit(e)}>\n                <input \n                  type=\"text\" \n                  value={this.state.search} \n                  name=\"search\"\n                  onChange={this.handleSearch}\n                  placeholder=\"Search by title...\"/>\n              </form>  \n              <p>Hi {user.name}</p>\n            </nav>\n          ) \n          : null\n        }\n      </div>\n      \n    )\n  }\n}\n\nexport default withAuth(SearchBar);","import React, { Component } from 'react';\nimport { NavLink } from 'react-router-dom';\nimport { withAuth } from '../services/AuthProvider';\n\nclass SideMenu extends Component {\n  render() {\n    const { user, logout, isLoggedin } = this.props;\n    return (     \n      <div>\n        {isLoggedin ?\n        (\n          <section className=\"sidebar\">\n            <div className=\"logo-container\">\n              <img className=\"logo\" src={'/logo.png'} alt=\"logo\"/>\n            </div>\n            <div className=\"sidebar__links-wrapper\">\n              <NavLink to=\"/profile\" activeClassName=\"selected\"><h4>Profile</h4></NavLink>\n              <NavLink to=\"/my-trainings\" activeClassName=\"selected\"><h4>My trainings</h4></NavLink>\n              <NavLink to=\"/discover\" activeClassName=\"selected\"><h4>Discover</h4></NavLink>\n              <div className=\"logout\">\n                <button className=\"btn-icon\" onClick={this.props.logout}>\n                  <img src={\"/logout.png\"} alt=\"logout\" className=\"btn-icon__action\"/>\n                </button>\n              </div>\n            </div>\n          </section>\n        )\n        : null}\n      </div>\n      \n    )\n  }\n}\n\nexport default withAuth(SideMenu);","import React from 'react';\nimport { Route, Redirect } from 'react-router-dom';\nimport { withAuth } from '../services/AuthProvider';\n\nfunction PrivateRoute({ component: Component, isLoggedin, isLoading, ...rest }) {\n\n  if (isLoading) {\n    return <h1>Loading</h1>\n  }\n  else {\n    return (\n      <Route\n        {...rest}\n        render={props =>\n          isLoggedin ? <Component {...props} />: <Redirect to=\"/login\" />\n        }\n      />\n    );\n  }\n}\n\nexport default withAuth(PrivateRoute);\n","import axios from 'axios';\n\nclass Profile {\n  constructor() {\n    this.profile = axios.create({\n      baseURL: process.env.REACT_APP_API_URL + '/profile',\n      withCredentials: true,\n    });\n  }\n\n  getUser() {\n    return this.profile\n          .get('/')\n          .then(({ data }) => data);\n  }\n\n  unsaveExercise(id) {\n    return this.profile\n          .put(`/${id}`)\n          .then(({ data }) => data);\n  }\n}\n\nconst ProfileService = new Profile();\n\nexport default ProfileService;\n  ","import React, { Component } from 'react';\nimport shortid from 'shortid';\nimport { Link } from 'react-router-dom';\n\nclass TrainingCard extends Component {\n  constructor(props) {\n    super(props);\n\n    this.state = {\n      userTraining: this.props.training\n    }\n  }\n  render() {\n    const training = this.state.userTraining;\n\n    return(\n      <div className=\"training-card\" key={shortid.generate()}>\n        <Link to={`/my-trainings/${training._id}`}>\n          <div className=\"training-card__header\">\n            <h4>{training.title}</h4>\n            <span>{training.duration} min</span>\n          </div>\n            {training.exercises.map( (exercise, i) => {\n              return (\n                <div className=\"training-card__exercise inline-display\" key={i}>\n                  <p>{exercise.title}</p>\n                  <span className={`item-type ${exercise.type}`}>{exercise.type}</span>\n                </div>\n              )\n            })}\n        </Link>\n      </div>\n    )\n\n  }\n}\n\nexport default TrainingCard;","import React, { Component } from 'react';\nimport shortid from 'shortid';\nimport { Link } from 'react-router-dom';\n\nimport profileService from './../services/profile-service';\n\nimport './../styles/dashboard.scss';\n\nclass ExerciseList extends Component {\n  constructor(props) {\n    super(props);\n\n    this.state = {\n      exerciseArr: this.props.exercises,\n      listLength: this.props.exercises.length\n    }\n  }\n\n  unsaveExercise(id) {\n    \n    profileService.unsaveExercise(id)\n      .then( (user) => {\n        const savedExercises = user.savedExercises;\n        this.props.updateLength();\n        this.setState({exerciseArr: savedExercises});\n      })\n      .catch( (err) => console.log(err));\n  }\n\n  render() {\n    const exerciseArr = this.state.exerciseArr;\n    return(\n      <div className=\"list-container\">\n        {exerciseArr.map( exercise => {\n          return (\n            <div>\n              <div className=\"list-container__item\" key={shortid.generate()}>\n                <Link to={`/profile/${exercise._id}`}>\n                  <p><strong>{exercise.title}</strong></p>\n                  <div><span>{exercise.duration} min</span>   |   <span className={`item-type ${exercise.type}`}>{exercise.type}</span></div>\n                  {\n                    (exercise.author._id !== this.props.userId) ?\n                    (\n                      <div>\n                        <p><strong>Author: </strong>{exercise.author.name} {exercise.author.lastName}</p>\n                      </div>\n                    )\n                    : null\n                  }\n                </Link>\n                {\n                  (exercise.author._id !== this.props.userId && !this.props.inEditTraining) ?\n                    (\n                      <button className=\"btn-icon\" onClick={() => this.unsaveExercise(exercise._id)}>\n                        <img src={\"/bin.png\"} alt=\"unsave\" className=\"btn-icon__action\"/>\n                      </button>\n                    )\n                  : null\n                }     \n                {\n                  this.props.inEditTraining\n                    ? <button className=\"btn-icon\" onClick={()=>this.props.addExercise(exercise._id)}>\n                        <img src={\"/add.png\"} alt=\"\" className=\"btn-icon__action\"/>\n                      </button>\n                    : null\n                }\n              </div>\n              \n              </div>\n          )\n        })}\n        </div>\n    )\n\n  }\n}\n\nexport default ExerciseList;","import React, { Component } from 'react';\nimport shortid from 'shortid';\nimport { Link } from 'react-router-dom';\n\nimport profileService from './../services/profile-service';\n\n\nimport './../styles/navigation.scss';\nimport './../styles/dashboard.scss';\nimport './../styles/profile.scss';\nimport './../styles/forms.scss';\n\nimport TrainingCard from './../components/TrainingCard';\nimport ExerciseList from './../components/ExerciseList';\n\nclass Dashboard extends Component {\n\n  state = {\n    user: {},\n    savedExercisesLength: 0,\n  }\n\n  updateLength = () => {\n    let length = this.state.savedExercisesLength;\n    length -= 1;\n    this.setState({savedExercisesLength: length});\n  }\n\n  componentDidMount() {\n    window.scrollTo(0, 0)\n    profileService.getUser()\n      .then( (userInfo) => {\n        this.setState({user: userInfo});\n        this.setState({savedExercisesLength: userInfo.savedExercises.length})\n      })\n      .catch( (err) => console.log(err));    \n  };\n\n  render() {\n    const userExercises = this.state.user.exercises;\n    const savedExercises = this.state.user.savedExercises;\n    const userTrainings = this.state.user.trainings;\n\n    return (\n      <main className=\"content\">\n        <div className=\"profile-header\">\n          <h1>Profile</h1>\n          <Link to={'/profile/edit'}>\n            <button className=\"btn btn-edit\">Edit profile</button>\n          </Link> \n        </div>              \n        <div className=\"profile-container\">\n          {/* List of user Trainings */}\n          <div className=\"profile-column\"> \n            <div className=\"header\">\n              {\n                userTrainings \n                  ? <h2>Your Trainings ({userTrainings.length})</h2>\n                  : <h2>Your Trainings (0)</h2>\n                  \n              }\n            </div>\n             \n            { userTrainings ?\n              (\n                <div className=\"list-container list-container--trainings\">\n                {userTrainings.map( training => {\n                  return (\n                    <TrainingCard training={training} key={shortid.generate()}/>\n                  )\n                })}\n                </div>\n              )\n              : null\n            }\n          </div>\n          {/* List of user Exercises */}\n          <div className=\"profile-column\"> \n            <div className=\"header\">\n              {\n                userExercises \n                  ? <h2>Your Exercises ({userExercises.length})</h2>\n                  : <h2>Your Exercises (0)</h2>\n              }   \n              <Link className=\"btn btn-create\" to={'/profile/new-exercise'}>New</Link>  \n            </div>\n                  \n            { userExercises ?\n              (\n                <ExerciseList exercises={userExercises} userId={this.state.user._id}/>\n              )\n              : null\n            }\n          </div>\n          {/* List of user saved exercises */}\n          <div className=\"profile-column\">\n            <div className=\"header\">\n              {\n                savedExercises \n                  ? <h2>Saved Exercises ({this.state.savedExercisesLength})</h2>\n                  : <h2>Saved Exercises (0)</h2>\n              } \n            </div>\n             \n            { \n              savedExercises ?\n                (\n                  <ExerciseList exercises={savedExercises} userId={this.state.user._id} updateLength={this.updateLength}/>\n                )\n              : null\n            }\n          </div>\n        </div> \n      </main>\n    );\n  }\n}\n\nexport default Dashboard;","import axios from 'axios';\n\nclass Training {\n  constructor() {\n    this.training = axios.create({\n      baseURL: process.env.REACT_APP_API_URL + '/my-trainings',\n      withCredentials: true,\n    });\n  }\n\n  getAll() {\n    return this.training\n          .get('/')\n          .then(({ data }) => data);\n  }\n\n  create(newTraining) {\n    const { title, description, duration, sport, type, exercises } = newTraining; \n    return this.training\n          .post('/new', { title, description, duration, sport, type, exercises })\n          .then(({ data }) => data);\n  }\n\n  getOne(id) {\n    return this.training\n          .get(`/${id}`)\n          .then(({ data }) => data);\n  }\n\n  deleteOne(id) {\n    return this.training\n      .delete(`/${id}`)\n      .then(({ data }) => data)\n  }\n\n  deleteExercise(trainingId, exerciseId) {\n    return this.training\n      .put(`/${trainingId}/${exerciseId}/delete`)\n      .then(({ data }) => data)\n  }\n\n  modifyOne(modifiedTraining, id) {\n    const { title, description, duration, sport } = modifiedTraining;\n    return this.training    \n          .put(`/${id}`, { title, description, duration, sport })\n          .then(({ data }) => data);\n  }\n\n  addExercise(trainingId, exerciseId) {\n    return this.training\n          .post(`/${trainingId}/${exerciseId}`)\n          .then((data) => data);\n  }\n  \n}\n\nconst TrainingService = new Training();\n\nexport default TrainingService;","import React, {Component} from 'react';\nimport { Link } from 'react-router-dom';\nimport trainingService from './../services/trainings-service';\n\nimport TrainingCard from './../components/TrainingCard';\nimport './../styles/training.scss';\n\nclass MyTrainings extends Component {\n\n  state = {\n    trainings: []\n  }\n \n  componentDidMount() {\n    window.scrollTo(0, 0)\n    trainingService.getAll()\n      .then( (trainings) => {\n        this.setState({trainings: trainings});\n      })\n      .catch( (err) => console.log(err));\n  };\n\n  render() {\n    const userTrainings = this.state.trainings;\n    return(\n      <div className=\"content\">\n        <div className=\"training-header\">\n          <h1>My Trainings</h1>\n          <Link to={'/my-trainings/new-training'}><button className=\"btn btn-create\">New</button></Link>\n        </div>\n        \n        <div className=\"trainings-list \">\n          {\n            userTrainings ?\n              (\n                userTrainings.map( (training, index) => {\n                  return <TrainingCard training={training} key={index}/>\n                }) \n              )\n            : <h2>No trainings</h2>\n          }         \n        </div>\n          \n      </div>\n    )\n  }\n}\n\nexport default MyTrainings;","import axios from 'axios';\n\nclass Search {\n  constructor() {\n    this.search = axios.create({\n      baseURL: process.env.REACT_APP_API_URL + '/search',\n      withCredentials: true,\n    });\n  }\n\n  getResults(searchStr) {\n    return this.search\n          .get(`?search=${searchStr}`)\n          .then(({data}) => data);\n  }\n}\n\nconst SearchService = new Search();\n\nexport default SearchService;\n","import axios from 'axios';\n\nclass Discover {\n  constructor() {\n    this.discover = axios.create({\n      baseURL: process.env.REACT_APP_API_URL + '/discover',\n      withCredentials: true,\n    });\n  }\n\n  getAll() {\n    return this.discover\n          .get('/')\n          .then(({ data }) => data);\n  }\n\n  save(id) {\n    return this.discover\n          .put(`${id}`)\n          .then(({ data }) => data);\n  }\n\n}\n\nconst DiscoverService = new Discover();\n\nexport default DiscoverService;","import React, { Component } from 'react';\nimport shortid from 'shortid';\nimport { Link } from 'react-router-dom';\n\nclass DiscoverCard extends Component {\n\n  constructor(props) {\n    super(props);\n\n    this.state = {\n      exercise: this.props.exercise\n    }\n  }\n\n  render() {\n    const exercise = this.state.exercise;\n    return(\n      <div className=\"discover-card\" key={shortid.generate()}>\n        <Link to={`/discover/${exercise._id}`}>\n            <h4>{exercise.title}</h4>\n            <div className=\"inline-display\">\n              <p>{exercise.duration} min | {exercise.sport}</p>\n              <span className={`item-type ${exercise.type}`}>{exercise.type}</span>\n            </div>\n            <p><strong>Author: </strong>{exercise.author.name} {exercise.author.lastName}</p>\n        </Link>\n      </div>\n    )\n\n  }\n}\n\nexport default DiscoverCard;","import React, { Component } from 'react';\nimport shortid from 'shortid';\nimport { Link } from 'react-router-dom';\n\n\nimport DiscoverCard from './../components/DiscoverCard';\n\nclass DiscoverList extends Component {\n\n  render() {\n    const exercisesList = this.props.exercises;\n    return(\n      <div className=\"discover-list\">\n        {\n          exercisesList.length!==0 ?\n          (\n            exercisesList.map( exercise => {\n              return <DiscoverCard exercise={exercise} key={shortid.generate()}/>\n            })\n            \n          )\n          : <h2>No results :(</h2>\n        }  \n\n        {/* this is to make the flexbox items to be one after the other when the row has less than 4 elements */}\n        <i aria-hidden=\"true\"></i>\n        <i aria-hidden=\"true\"></i>\n\n      </div>\n    )\n\n  }\n}\n\nexport default DiscoverList;","import React, {Component} from 'react';\nimport shortid from 'shortid';\nimport queryString from 'query-string';\n\nimport searchService from './../services/search-service';\nimport discoverService from './../services/discover-service';\n\nimport DiscoverList from './../components/DiscoverList';\n\nimport './../styles/discover.scss';\n\nimport Select from 'react-select';\n\nconst sports = [\n  { value: 'all', label: 'All' },\n  { value: 'rugby', label: 'Rugby' },\n  { value: 'basketball', label: 'Basketball' },\n  { value: 'football', label: 'Football' },\n];\n\nconst type = [\n  { value: 'all', label: 'All' },\n  { value: 'skills', label: 'Skills' },\n  { value: 'attack', label: 'Attack' },\n  { value: 'defense', label: 'Defense' },\n  { value: 'sc', label: 'Strength & Conditioning' },\n  { value: 'stretch', label: 'Stretch' },\n  { value: 'recovery', label: 'Recovery' },\n];\n\nclass Discover extends Component {\n\n  state = {\n    allExercises: null,\n    exercisesCopy: null,\n    sport: 'all',\n    type: 'all'\n  }\n\n  componentDidMount() {\n    window.scrollTo(0,0);\n    this.handleSearch();  \n  }\n  \n  componentDidUpdate(prevProps) {\n    if (prevProps.location.search !== this.props.location.search) {\n      console.log('updated')\n      this.handleSearch();\n    }  \n  }\n\n  handleSearch = () => {\n    const values = queryString.parse(this.props.location.search)\n    if(values.search) {\n      searchService.getResults(values.search)\n        .then( (data) =>{\n          //console.log('search result', data);\n          this.setState({allExercises: data, exercisesCopy: data})\n        })\n        .catch( (err) => console.log(err));\n    }\n    else {\n      discoverService.getAll()\n        .then( (data) => {\n          this.setState({allExercises: data, exercisesCopy: data})\n        })\n        .catch( (err) => console.log(err));\n    }\n  }\n\n  handleSport = (selected) => {\n    this.setState({sport: selected})\n  }\n\n  handleType = (selected) => {\n    this.setState({type: selected})\n  }\n\n  filter = (e) => {\n    e.preventDefault();\n    console.log(this.state.sport.value, this.state.type.value);\n    const currentExs = this.state.allExercises;\n    let filteredExs = [];\n\n    // filter by sport --> IMPROVEBABLE\n    if (this.state.sport.value === 'all') {\n      filteredExs = currentExs;\n    } else {\n      filteredExs = currentExs.filter( ex => {\n        return ex.sport === this.state.sport.value;\n      })\n    }\n\n    // filter by type\n    if (this.state.type.value !== 'all') {\n      filteredExs = filteredExs.filter( ex => {\n        return ex.type === this.state.type.value;\n      })\n    }\n\n    this.setState({exercisesCopy: filteredExs});\n  }\n\n  render() {\n    return(\n      <div className=\"content\">\n        <h1>Discover page</h1>\n        \n        <form onSubmit={this.filter} className=\"filter-form\">\n          <div className=\"selects\">\n            <Select\n              className=\"custom-select\"\n              value={this.state.sport}\n              onChange={this.handleSport}\n              options={sports}\n            />\n            <Select\n              className=\"custom-select\"\n              value={this.state.type}\n              onChange={this.handleType}\n              options={type}\n            />\n          </div>\n          <button className=\"btn btn-filter\">Filter</button>\n        </form>\n        \n        {\n          this.state.exercisesCopy\n           ? <DiscoverList exercises={this.state.exercisesCopy}/>\n           : <h2>No results :(</h2>\n        }\n        \n             \n      </div>\n    )\n  }\n}\n\nexport default Discover;\n","import React, { Component } from 'react';\nimport { Redirect } from 'react-router-dom';\n\nimport { Link } from 'react-router-dom';\nimport { withAuth } from '../services/AuthProvider';\n\nimport Dashboard from './Dashboard';\n\nclass Home extends Component {\n  render() {\n    const { user, logout, isLoggedin } = this.props;\n    return (\n      <div>\n        {isLoggedin ? (\n          <Redirect to=\"/profile\" />\n        ) : (\n          <div>\n            <Link to=\"/login\">\n              {' '}\n              <button className=\"btn\">Login</button>{' '}\n            </Link>\n            <br />\n            <Link to=\"/signup\">\n              {' '}\n              <button className=\"btn\">Signup</button>{' '}\n            </Link>\n          </div>\n        )}\n      </div>\n    );\n  }\n}\n\nexport default withAuth(Home);\n","import React, { Component } from 'react';\nimport { Switch, Route } from 'react-router-dom';\n\nimport SearchBar from './../components/SearchBar';\nimport SideMenu from './../components/SideMenu';\nimport PrivateRoute from './../components/PrivateRoute';\n\nimport Profile from './Profile';\nimport MyTrainings from './MyTrainings';\nimport Discover from './Discover';\n\nimport './../styles/navigation.scss';\nimport './../styles/dashboard.scss';\n\nclass Dashboard extends Component {\n\n  render() {\n    return (\n      <div>\n        {/* SearchBar component --> name and image here\n        <SearchBar userName={this.props.user.name}/>\n         SideMenu component --> logout here*\n        <SideMenu logout={this.props.logout}/>  */}\n\n        \n          \n      </div>\n    );\n  }\n}\n\nexport default Dashboard;\n","import React from 'react';\nimport { Route, Redirect } from 'react-router-dom';\nimport { withAuth } from '../services/AuthProvider';\n\nfunction AnonRoute({ component: Component, isLoggedin, isLoading, ...rest }) {\n\n  if (isLoading) {\n    return <h1>Loading</h1>\n  }\n  else {\n    return (\n      <Route\n        {...rest}\n        render={props =>\n          !isLoggedin ? <Component {...props} /> : <Redirect to=\"/profile\" />\n        }\n      />\n    );\n  }\n}\n\nexport default withAuth(AnonRoute);","import React, { Component } from 'react';\n\nimport authService from './../services/auth-service';\n\nclass ProfileEdit extends Component {\n\n  state = { \n    email: '', \n    name: '',\n    lastName: '',\n    password: '' \n  };\n\n  handleFormSubmit = () => {\n    const { email, name, lastName, password } = this.state;\n    authService.edit({ email, name, lastName, password })\n      .then( (user) => {\n        this.props.history.push('/profile')\n      })\n      .catch( (err) => console.log(err));\n  };\n\n  handleChange = event => {\n    const { name, value } = event.target;\n    this.setState({ [name]: value });\n  };\n\n  componentDidMount() {\n    authService.me()\n      .then( (user) => {\n        const { email, name, lastName, password } = user;\n        this.setState({ email, name, lastName, password });\n      })\n      .catch( (err) => console.log(err));\n  }\n\n  render() {\n    const { email, name, lastName, password } = this.state;\n    return(\n      <div className=\"content\">\n        <button className=\"btn-icon\" onClick={() => this.props.history.push('/profile')}>\n          <img src={'/arrow.svg'} className=\"back-icon\" alt=\"\"/>\n        </button>\n        <h1>Edit profile</h1>\n        <form onSubmit={this.handleFormSubmit} className=\"input-form\">\n          <label>Email:</label>\n          <input\n            className=\"input\"\n            type=\"email\"\n            name=\"email\"\n            value={email}\n            onChange={this.handleChange}\n          />\n          <label>Name:</label>\n          <input\n            className=\"input\"\n            type=\"text\"\n            name=\"name\"\n            value={name}\n            onChange={this.handleChange}\n          />\n\n          <label>Last name:</label>\n          <input\n            className=\"input\"\n            type=\"text\"\n            name=\"lastName\"\n            value={lastName}\n            onChange={this.handleChange}\n          />\n\n          <label>Password:</label>\n          <input\n            className=\"input\"\n            type=\"password\"\n            name=\"password\"\n            value={password}\n            onChange={this.handleChange}\n          />\n\n          <input className=\"btn btn-success btn-success--edit\" type=\"submit\" value=\"Save\" />\n        </form>\n      </div>\n    )\n  }\n}\n\nexport default ProfileEdit;\n\n\n\n\n\n","import axios from 'axios';\n\nclass Exercises {\n  constructor() {\n    this.exercises = axios.create({\n      baseURL: process.env.REACT_APP_API_URL + '/exercises',\n      withCredentials: true,\n    });\n  }\n\n  getOne(id) {\n    return this.exercises\n              .get(`/${id}`)\n              .then(({ data }) => data);\n  }\n\n  create(exercise) {\n    const {title, description, duration, sport, type, video_url, img_url, share} = exercise;\n    return this.exercises\n              .post('/new', {title, description, duration, sport, type, video_url, img_url, share})\n              .then(({ data }) => data);\n  }\n\n  uploadImage(file) {\n    return this.exercises\n              .post('/new/image', file)\n              .then(({data}) => data);\n  }\n\n  modifyOne(modifiedExercise, id) {\n    const {title, description, duration, sport, type, video_url, img_url, share} = modifiedExercise;\n    return this.exercises\n              .put(`/${id}`, {title, description, duration, sport, type, video_url, img_url, share})\n              .then(({ data }) => data);\n  }\n\n  deleteOne(id) {\n    return this.exercises\n              .delete(`/${id}`)\n              .then(({ data }) => data);\n  }\n}\n\nconst exercisesService = new Exercises();\n\nexport default exercisesService;","import React, { Component } from 'react';\nimport { Link } from 'react-router-dom';\n\nimport exercisesService from './../services/exercises-service';\nimport profileService from './../services/profile-service';\nimport discoverService from './../services/discover-service';\n\nclass ExerciseDetails extends Component {\n\n  state = {\n    exercise: {},\n    userId: '',\n    isSaved: null\n  }\n\n  saveExercise = (e) => {\n    e.preventDefault();\n    console.log('in');\n    const id = this.state.exercise._id;\n    discoverService.save(id)\n      .then( () => {\n        this.setState({isSaved: true});\n        console.log('added to favourites');\n      })\n      .catch( (err) => console.log(err));\n  }\n\n  unsaveExercise = (e) => {\n    e.preventDefault();\n    const id = this.state.exercise._id;\n    profileService.unsaveExercise(id)\n      .then( () => {\n        this.setState({isSaved: false});\n      })\n      .catch( (err) => console.log(err));\n  }\n\n  componentDidMount() {\n    window.scrollTo(0, 0)\n    const {id} = this.props.match.params; // get exercise id from url\n    exercisesService.getOne(id)\n      .then( (exercise) => {\n        profileService.getUser()\n          .then( (user) => {\n            const isSaved = user.savedExercises.some( savedEx => {\n              return savedEx._id === exercise._id;\n            });\n            this.setState({exercise, userId: user._id, isSaved});\n          })\n          .catch( (err) => console.log(err));\n      })\n  }\n\n  render() {\n    const exercise = this.state.exercise;\n    const userId = this.state.userId;\n    console.log('is saved?', this.state.isSaved);\n    return(\n      <main className=\"content\">\n        <button className=\"btn-icon\" onClick={() => this.props.history.goBack()}>\n          <img src={'/arrow.svg'} className=\"back-icon\" alt=\"\"/>\n        </button>\n        {/* <h1>Exercise details</h1> */}\n          <div>\n              <div className=\"profile-header profile-header--details\">\n                <div className=\"profile-header--details__info\">\n                  <h1>{exercise.title}</h1>\n                  <span className={`item-type ${exercise.type}`}>{exercise.type}</span>\n                  {\n                    (!exercise.share) \n                      ? <Link to={`/profile/${exercise._id}/edit`}><button className=\"btn btn-edit\">Edit</button></Link>\n                      : null\n                  }\n                </div>\n                \n                <div className=\"inline-display inline-display--details\">\n                  <p>\n                    <strong>Sport: </strong>{exercise.sport}\n                    <span>|</span>\n                    <span>{exercise.duration} min</span>      \n                  </p>\n                </div>\n              </div>\n              \n              <h4>Description</h4>\n              <p>{exercise.description}</p>\n              <div className=\"inline-display\">\n                <div className=\"inline-display__media\">\n                  <h4>Image</h4>\n                  {\n                    exercise.img_url\n                    ? <img className=\"edit-exercise__img\" src={exercise.img_url} alt='exercise'/>\n                    : <p><strong>No image provided</strong></p>\n                  }\n                </div>\n                <div className=\"inline-display__media\">\n                  <h4>Video</h4>\n                  {\n                    exercise.video_url\n                    ? <iframe width=\"400\" height=\"250\" src={exercise.video_url} frameborder=\"0\" allow=\"accelerometer; autoplay; encrypted-media; gyroscope; picture-in-picture\" allow=\"fullscreen\"></iframe>\n\n                    : <p><strong>No video provided</strong></p>\n                  }\n                </div>\n              </div>\n              \n              \n              {\n                (exercise.author !== userId) ?\n                  (\n                    <div>\n                    {\n                      !this.state.isSaved\n                        ? <button className=\"btn btn-success\" onClick={this.saveExercise}>Save</button>\n                        : <button className=\"btn btn-delete\" onClick={this.unsaveExercise}>Unsave</button>\n                    }\n                    </div>\n                  )\n                  : null\n              }\n            </div>\n      </main>\n    )\n  }\n}\n\nexport default ExerciseDetails;","import React, {Component} from 'react';\nimport exercisesService from './../services/exercises-service';\n\nimport Select from 'react-select';\n\nconst sports = [\n  { value: 'all', label: 'All' },\n  { value: 'rugby', label: 'Rugby' },\n  { value: 'basketball', label: 'Basketball' },\n  { value: 'football', label: 'Football' },\n];\n\nconst type = [\n  { value: 'all', label: 'All' },\n  { value: 'skills', label: 'Skills' },\n  { value: 'attack', label: 'Attack' },\n  { value: 'defense', label: 'Defense' },\n  { value: 'sc', label: 'Strength & Conditioning' },\n  { value: 'stretch', label: 'Stretch' },\n  { value: 'recovery', label: 'Recovery' },\n];\n\nclass ExerciseNew extends Component {\n\n  state = {\n    exercise: [],\n    sport: 'all',\n    type: 'all'\n  }\n \n  handleInput = (e) => {\n    const target = e.target;\n    const value = target.type === 'checkbox' ? target.checked : target.value;\n    const name = target.name;\n\n    const exerciseCopy = this.state.exercise;\n    exerciseCopy[name] = value;\n    this.setState({ exercise: exerciseCopy });\n  };\n\n  handleSport = (selected) => {\n    this.setState({sport: selected})\n  }\n\n  handleType = (selected) => {\n    this.setState({type: selected})\n  }\n\n  fileOnchange = (event) => {    \n    const file = event.target.files[0];\n    const uploadData = new FormData()\n    uploadData.append('photo', file)\n\n    exercisesService.uploadImage(uploadData)\n      .then((img_url) => {\n        const exerciseCopy = this.state.exercise;\n        exerciseCopy.img_url = img_url;\n        this.setState({ exercise: exerciseCopy })\n        console.log(img_url)\n      })\n      .catch((error) => console.log(error))\n  }\n\n  saveExercise = (e) => {\n    e.preventDefault();\n    const {title, description, duration, video_url, img_url, share} = this.state.exercise; \n    const  sport  = this.state.sport.value;\n    const  type  = this.state.type.value;\n    exercisesService.create({title, description, duration, sport, type, video_url, img_url, share})\n      .then( () => {\n        this.props.history.push('/profile');\n      })\n      .catch( (err) => console.log(err));\n      \n  }\n\n  componentDidMount() {\n    window.scrollTo(0,0);\n  }\n\n  render() {\n    return(\n      <div className=\"content\">\n        <button className=\"btn-icon\" onClick={() => this.props.history.goBack()}>\n          <img src={'/arrow.svg'} className=\"back-icon\" alt=\"\"/>\n        </button>\n        <h1>New exercise</h1>\n        <form onSubmit={this.saveExercise} className=\"input-form\">\n          <label htmlFor=\"\">Title</label>\n          <input className=\"input\" type=\"text\" value={this.state.exercise.title} name=\"title\" onChange={this.handleInput} required/>\n          <label htmlFor=\"\">Description</label>\n          <textarea value={this.state.exercise.description} name=\"description\" onChange={this.handleInput} required/>\n          \n          <div className=\"inline-display\">\n            <div className=\"inline-display__column\">\n              <label htmlFor=\"\">Sport</label>\n                <Select\n                  className=\"select\"\n                  value={this.state.sport}\n                  onChange={this.handleSport}\n                  options={sports}\n                  required\n                />\n            </div>\n            <div className=\"inline-display__column\">          \n                <label htmlFor=\"\">Type</label>\n                <Select\n                  className=\"select\"\n                  value={this.state.type}\n                  onChange={this.handleType}\n                  options={type}\n                  required\n                />\n            </div>\n\n          </div>\n          <label htmlFor=\"\">Video</label>\n          <input className=\"input\" type=\"text\" name=\"video_url\" value={this.state.exercise.video_url} onChange={this.handleInput}/>\n          <label htmlFor=\"\">Image</label>\n          <input type=\"file\" className=\"custom-file-input\" id=\"customFile\" name='img_url' onChange={(event)=>this.fileOnchange(event)} />\n          <div className=\"inline-display\">\n            <label htmlFor=\"\">Duration</label>\n            <input className=\"input\" type=\"number\" value={this.state.exercise.duration} name=\"duration\" onChange={this.handleInput} required/>\n            <span>min</span>\n            <label name=\"share\">Share</label>\n            <label className=\"switch\">\n              <input type=\"checkbox\" name=\"share\" checked={this.state.exercise.share} onChange={this.handleInput}/>\n              <span className=\"slider round\"></span>\n            </label>\n          </div>\n          \n          <button className=\"btn btn-success\">Save</button>\n        </form>                \n      </div>\n    )\n  }\n}\n\nexport default ExerciseNew;","import React, { Component } from 'react';\nimport exercisesService from './../services/exercises-service'\n\nimport Select from 'react-select';\n\nconst sports = [\n  { value: 'all', label: 'All' },\n  { value: 'rugby', label: 'Rugby' },\n  { value: 'basketball', label: 'Basketball' },\n  { value: 'football', label: 'Football' },\n];\n\nconst type = [\n  { value: 'all', label: 'All' },\n  { value: 'skills', label: 'Skills' },\n  { value: 'attack', label: 'Attack' },\n  { value: 'defense', label: 'Defense' },\n  { value: 'sc', label: 'Strength & Conditioning' },\n  { value: 'stretch', label: 'Stretch' },\n  { value: 'recovery', label: 'Recovery' },\n];\n\nclass ExerciseEdit extends Component {\n\n  state = {\n    exercise: {},\n    sport: {},\n    type: {}\n  }\n \n  handleInput = (e) => {\n    const target = e.target;\n    const value = target.type === 'checkbox' ? target.checked : target.value;\n    const name = target.name;\n\n    const exerciseCopy = this.state.exercise;\n    exerciseCopy[name] = value;\n    this.setState({ exercise: exerciseCopy });\n  };\n\n  handleSport = (selected) => {\n    this.setState({sport: selected})\n  }\n\n  handleType = (selected) => {\n    this.setState({type: selected})\n  }\n\n  fileOnchange = (event) => {    \n    const file = event.target.files[0];\n    const uploadData = new FormData()\n    uploadData.append('photo', file)\n\n    exercisesService.uploadImage(uploadData)\n      .then((img_url) => {\n        const exerciseCopy = this.state.exercise;\n        exerciseCopy.img_url = img_url;\n        this.setState({ exercise: exerciseCopy })\n        console.log(img_url)\n      })\n      .catch((error) => console.log(error))\n  }\n\n  updateExercise = (e) => {\n    e.preventDefault();\n    const id = this.state.exercise._id;\n\n    const {title, description, duration, video_url, img_url, share} = this.state.exercise; \n    const  sport  = this.state.sport.value;\n    const  type  = this.state.type.value;\n    \n    exercisesService.modifyOne({title, description, duration, sport, type, video_url, img_url, share}, id)\n      .then( (updatedExercise) => {\n        this.setState({ exercise: updatedExercise });\n        this.props.history.goBack();\n      })\n      .catch( (err) => console.log(err));\n  }\n\n  deleteExercise = () => {\n    exercisesService.deleteOne(this.state.exercise._id)\n      .then( () => {\n        this.props.history.push('/profile')\n      })\n      .catch( (err) => console.log(err));\n  } \n\n  componentDidMount() {\n    window.scrollTo(0, 0)\n    const {id} = this.props.match.params; // get id from url\n    exercisesService.getOne(id)\n      .then( (exercise) => {\n        const sport = {\n          value: exercise.sport,\n          label: `${exercise.sport.charAt(0).toUpperCase()}${exercise.sport.slice(1)}`\n        };\n        const type = {\n          value: exercise.type,\n          label: `${exercise.type.charAt(0).toUpperCase()}${exercise.type.slice(1)}`\n        };\n        this.setState({exercise, sport, type});\n      })\n      .catch( (err) => console.log(err));\n  }\n\n  render() {\n    console.log(this.state.sport, this.state.type);\n    return(\n      <main className=\"content\">\n\n        <button className=\"btn-icon\" onClick={() => this.props.history.goBack()}>\n          <img src={'/arrow.svg'} className=\"back-icon\" alt=\"\"/>\n        </button>\n        <div className=\"inline-display\">\n          <h1>Exercise edit</h1>\n          <button className=\"btn btn-delete\" onClick={this.deleteExercise}>Delete</button>\n        </div>\n\n        <form onSubmit={this.updateExercise} className=\"input-form\">\n          <label htmlFor=\"\">Title</label>\n          <input className=\"input\" type=\"text\" value={this.state.exercise.title} name=\"title\" onChange={this.handleInput} required/>\n          <label htmlFor=\"\">Description</label>\n          <textarea value={this.state.exercise.description} name=\"description\" onChange={this.handleInput} required/>\n          \n          <div className=\"inline-display\">\n            <div className=\"inline-display__column\">\n              <label htmlFor=\"\">Sport</label>\n                <Select\n                  className=\"select\"\n                  value={this.state.sport}\n                  onChange={this.handleSport}\n                  options={sports}\n                  required\n                />\n            </div>\n            <div className=\"inline-display__column\">          \n                <label htmlFor=\"\">Type</label>\n                <Select\n                  className=\"select\"\n                  value={this.state.type}\n                  onChange={this.handleType}\n                  options={type}\n                  required\n                />\n            </div>\n          </div>\n          <label htmlFor=\"\">Video</label>\n          <input className=\"input\" type=\"text\" name=\"video_url\" value={this.state.exercise.video_url} onChange={this.handleInput}/>\n          <label htmlFor=\"\">Image</label>\n          {\n            this.state.exercise.img_url\n             ? <span>You can't add a new picture!</span>\n             : <input type=\"file\" className=\"custom-file-input\" id=\"customFile\" name='img_url' onChange={(event)=>this.fileOnchange(event)} />\n          }\n          <div className=\"inline-display\">\n            <label htmlFor=\"\">Duration</label>\n            <input className=\"input\" type=\"number\" value={this.state.exercise.duration} name=\"duration\" onChange={this.handleInput} required/>\n            <span>min</span>\n            <label name=\"share\">Share</label>\n            <label className=\"switch\">\n              <input type=\"checkbox\" name=\"share\" checked={this.state.exercise.share} onChange={this.handleInput}/>\n              <span className=\"slider round\"></span>\n            </label>\n          </div>\n          \n          <button className=\"btn btn-success\">Save</button>\n        </form>\n      </main>\n    )\n  }\n}\n\nexport default ExerciseEdit;","import React, { Component } from 'react';\nimport { Link } from 'react-router-dom';\n\nimport trainingService from './../services/trainings-service';\n\nimport './../styles/navigation.scss';\nimport './../styles/dashboard.scss';\nimport './../styles/profile.scss';\nimport './../styles/training.scss';\n\nclass TrainingDetails extends Component {\n\n  constructor(props) {\n    super(props);\n\n    this.state = {\n      training: this.props.training\n    }\n  }\n  \n  componentDidMount() {\n    window.scrollTo(0, 0)\n    const {id} = this.props.match.params; // get id from url\n    trainingService.getOne(id)\n      .then( (training) => {\n        this.setState({training})      \n      })\n      .catch( (err) => console.log(err));\n  }\n\n  render() {\n    const training = this.state.training;\n\n    return(\n      <div className=\"content\">\n        <button className=\"btn-icon\" onClick={() => this.props.history.push('/my-trainings')}>\n          <img src={'/arrow.svg'} className=\"back-icon\" alt=\"\"/>\n        </button>\n        {\n          training ?\n          (\n            <div className=\"training-info\">\n              <div className=\"training-info__header\">   \n                <div className=\"training-header\">\n                  <h1>{training.title}</h1>\n                  <Link to={`/my-trainings/${training._id}/edit`}><button className=\"btn btn-edit\">Edit</button></Link>\n                </div>\n              \n                <div className=\"inline-display inline-display--details\">\n                  <p>\n                    <strong>Sport: </strong>{training.sport}\n                    <span>|</span>\n                    <span>{training.duration} min</span>      \n                  </p>\n                </div>\n              </div>\n              <h4>Description</h4>\n              <p>{training.description}</p>\n\n              <h4>Exercises</h4>\n              <div className=\"training-ex-list\">\n                {training.exercises.map( (exercise, i) => {\n                  return (\n                    \n                      <div className=\"list-container__item list-container__item--training\" key={i}>\n                        <Link to={`/profile/${exercise._id}`}>\n                          <div className=\"inline-display\">\n                            <p><strong>{i+1}. {exercise.title}</strong></p>\n                            <span className={`item-type ${exercise.type}`}>{exercise.type}</span>\n                          </div>\n                          <p><strong>Sport: </strong>{exercise.sport}</p>\n                          <p><strong>Duration: </strong>{exercise.duration}</p>\n                          <p>{exercise.description}</p>\n                          \n                        </Link>\n                      </div>\n                  )\n                })}\n                <i aria-hidden=\"true\"></i>\n                <i aria-hidden=\"true\"></i>\n              </div>\n            </div>          \n          )\n          : null\n        }\n        \n      </div>\n    )\n    \n  }\n}\n\nexport default TrainingDetails;","import React, {Component} from 'react';\n\nimport trainingsService from './../services/trainings-service';\nimport profileService from './../services/profile-service';\n\nimport ExerciseList from './../components/ExerciseList';\n\nimport Select from 'react-select';\n\nconst sports = [\n  { value: 'all', label: 'All' },\n  { value: 'rugby', label: 'Rugby' },\n  { value: 'basketball', label: 'Basketball' },\n  { value: 'football', label: 'Football' },\n];\n\nclass TrainingNew extends Component {\n\n  state = {\n    training: {},\n    trainingId: '',\n    trainingExercises: [],\n    user: {},\n    sport: {},\n  }\n \n  handleInput = e => {\n    const { name, value } = e.target;\n    const trainingCopy = this.state.training;\n    trainingCopy[name] = value;\n    this.setState({ training: trainingCopy });\n  };\n\n  saveTraining = (e) => {\n    e.preventDefault();\n    const id = this.state.training._id;\n    const { title, description, duration } = this.state.training;\n    const sport = this.state.sport.value\n    trainingsService.modifyOne({ title, description, duration, sport }, id)\n      .then( (modifiedTraining) => {\n        this.setState({ training: modifiedTraining });\n        this.props.history.push(`/my-trainings/${id}`);\n      })\n      .catch( (err) => console.log(err));  \n  }\n\n  cancelNewTraining = (e) => {\n    e.preventDefault();\n    const trainingId = this.state.training._id;\n    trainingsService.deleteOne(trainingId)\n      .then( () => this.props.history.push('/my-trainings'))\n      .catch( (err) => console.log(err));\n  }\n\n  addExercise = (exerciseId) => {\n    const trainingId = this.state.training._id;\n    trainingsService.addExercise(trainingId, exerciseId)\n      .then( (result) => {\n        const trainingExercises = result.data.exercises;\n        this.setState({trainingExercises});\n      })\n      .catch( (err) => console.log(err));\n  }\n\n  handleSport = (selected) => {\n    this.setState({sport: selected})\n  }\n\n  removeExerciseFromTraining = (exerciseId) => {\n    trainingsService.deleteExercise(this.state.training._id, exerciseId)\n      .then( (data) => {\n        const trainingExercises = data.exercises;\n        this.setState({trainingExercises});\n      })\n      .catch( (err) => console.log(err));\n  }\n\n  componentDidMount() {\n    window.scrollTo(0,0);\n    // *LOGIC* --> with the current model, to be able to add exercises in the new training, we need to \n    // create the training when the page is loaded, so when the user saves the info, it is actually\n    // updating the training that has just been created\n    const title = ' ';\n    const description = ' ';\n    const duration = '0';\n    const sport = ' ';\n\n    trainingsService.create({title, description, duration, sport})\n      .then( (newTraining) => {\n        profileService.getUser()\n          .then( (userInfo) => {\n            this.setState({training: newTraining, \n                          trainingId: newTraining._id, \n                          trainingExercises: newTraining.exercises, \n                          user: userInfo\n            });\n          })\n          .catch( (err) => console.log(err));\n      })\n  }\n\n  render() {\n    const training = this.state.training;\n    const trainingExercises = this.state.trainingExercises;\n    const userExercises = this.state.user.exercises;\n    const savedExercises = this.state.user.savedExercises;\n\n    \n    return(\n      <main className=\"content\">\n        <button className=\"btn-icon\" onClick={() => this.props.history.goBack()}>\n          <img src={'/arrow.svg'} className=\"back-icon\" alt=\"\"/>\n        </button>\n        <h1>New training</h1>\n        <div className=\"edit-training\">\n          <section className=\"edit-training__info\">\n            <form onSubmit={this.saveTraining} className=\"input-form\">\n              <label htmlFor=\"\">Title</label>\n              <input className=\"input\" type=\"text\" value={training.title} name=\"title\" onChange={this.handleInput}/>\n              <label htmlFor=\"\">Description</label>\n              <textarea value={training.description} name=\"description\" onChange={this.handleInput}/>\n              <div className=\"inline-display\">\n                <label htmlFor=\"\">Duration</label>\n                <input className=\"input\" type=\"number\" value={training.duration} name=\"duration\" onChange={this.handleInput} required/>\n                <span>min</span>\n              </div>\n              <label htmlFor=\"\">Sport</label>\n              <Select\n                className=\"select\"\n                value={this.state.sport}\n                onChange={this.handleSport}\n                options={sports}\n              />\n              <button className=\"btn btn-success\">Save</button>\n              <button className=\"btn btn-cancel\" onClick={this.cancelNewTraining}>Cancel</button>\n            </form>\n            <div className=\"exercises-edit\">\n              {\n                trainingExercises ?\n                  (\n                    trainingExercises.map( (exercise, i) => {\n                      return (\n                        <div className=\"training-info__exercises\" key={i}>\n                          <div className=\"training-info__exercises__details\">\n                            <h4>{exercise.title}</h4>\n                            <span className={`item-type ${exercise.type}`}>{exercise.type}</span>\n                            <p>{exercise.description}</p>\n                            <p><strong>Sport: </strong>{exercise.sport}</p>\n                          </div>\n                          <div className=\"training-info__exercises__buttons\">\n                            <button className=\"btn-icon\" onClick={() => this.removeExerciseFromTraining(exercise._id)}>\n                              <img src={\"/bin.png\"} alt=\"remove-exercise\" className=\"btn-icon__action\"/>\n                            </button>\n                          </div>\n                        </div>\n                      )\n                    })\n                  \n                  )\n                    \n                : null\n              }\n            </div>\n          </section>\n          <section className=\"edit-training__user-exercises\">\n            {\n              userExercises \n                ? <h2>Your Exercises ({userExercises.length})</h2>\n                : <h2>Your Exercises (0)</h2>  \n            }  \n            { userExercises ?\n                  (\n                    <ExerciseList\n                      exercises={userExercises}\n                      userId={this.state.user._id} \n                      inEditTraining={true}\n                      addExercise={this.addExercise}\n                    />\n                  )\n                  : null\n                }\n          </section>\n          <section className=\"edit-training__saved-exercises\">\n            {\n              savedExercises\n                ? <h2>Saved Exercises ({savedExercises.length})</h2>\n                : <h2>Saved Exercises (0)</h2>\n            }\n            {\n              savedExercises ?\n                (\n                  <ExerciseList\n                    exercises={savedExercises}\n                    userId={this.state.user._id} \n                    inEditTraining={true}\n                    addExercise={this.addExercise}\n                  />\n                )\n              : null\n            }\n          </section>\n        </div>\n        \n      </main>\n    )\n  }\n}\n\nexport default TrainingNew;","import React, { Component } from 'react';\nimport shortid from 'shortid';\nimport { Link } from 'react-router-dom';\n\nimport exercisesService from './../services/exercises-service'\n\nimport Select from 'react-select';\n\nconst sports = [\n  { value: 'all', label: 'All' },\n  { value: 'rugby', label: 'Rugby' },\n  { value: 'basketball', label: 'Basketball' },\n  { value: 'football', label: 'Football' },\n];\n\nconst type = [\n  { value: 'all', label: 'All' },\n  { value: 'skills', label: 'Skills' },\n  { value: 'attack', label: 'Attack' },\n  { value: 'defense', label: 'Defense' },\n  { value: 'sc', label: 'Strength & Conditioning' },\n  { value: 'stretch', label: 'Stretch' },\n  { value: 'recovery', label: 'Recovery' },\n];\n\nclass TrainingExerciseEdit extends Component {\n\n  constructor(props) {\n    super(props);\n\n    this.state = {\n      exercise: null,\n      focusInput: undefined,\n      sport: {},\n      type: {}\n    }\n\n    this.references = {\n      title: React.createRef(), \n      description: React.createRef(), \n      duration: React.createRef(), \n      sport: React.createRef(), \n      type: React.createRef(), \n      video_url: React.createRef(),\n      img_url: React.createRef(), \n      share: React.createRef(),\n    }\n    \n\n    this.focusTextInput = this.focusTextInput.bind(this);\n\n  }\n\n  focusTextInput () {\n    const { focusInput } = this.state;\n    if (focusInput) {\n\n      const currentInput = this.references[focusInput].current;\n\n      currentInput.focus();\n      currentInput.selectionStart = currentInput.value.length;\n    }\n    \n  }\n  \n  updateExercise = (e) => {\n    e.preventDefault();\n    const id = this.state.exercise._id;\n    const {title, description, duration, sport, type, video_url, img_url, share} = this.state.exercise;\n    exercisesService.modifyOne({title, description, duration, sport, type, video_url, img_url, share}, id)\n      .then( (updatedExercise) => { \n        this.props.editExercise(updatedExercise)\n        this.props.click();\n      })\n      .catch( (err) => console.log(err));\n  }\n\n  handleChange = e => {\n    e.preventDefault();\n    \n    const { name, value } = e.target;\n    console.log(name,value);\n\n    const exerciseCopy = this.state.exercise;\n    exerciseCopy[name] = value;\n    if (name !== 'duration') {\n      this.setState({ exercise: exerciseCopy, focusInput: name });\n    } else {\n      this.setState({ exercise: exerciseCopy});\n    }\n  };\n\n  handleSport = (selected) => {\n    this.setState({sport: selected})\n  }\n\n  handleType = (selected) => {\n    this.setState({type: selected})\n  }\n\n  fileOnchange = (event) => {    \n    const file = event.target.files[0];\n    const uploadData = new FormData()\n    uploadData.append('photo', file)\n\n    exercisesService.uploadImage(uploadData)\n      .then((img_url) => {\n        const exerciseCopy = this.state.exercise;\n        exerciseCopy.img_url = img_url;\n        this.setState({ exercise: exerciseCopy })\n        console.log(img_url)\n      })\n      .catch((error) => console.log(error))\n  }\n\n  componentDidUpdate() {\n    this.focusTextInput();\n  }\n\n  componentDidMount() {\n    const exercise = this.props.exercise;\n    const sport = {\n      value: exercise.sport,\n      label: `${exercise.sport.charAt(0).toUpperCase()}${exercise.sport.slice(1)}`\n    };\n    const type = {\n      value: exercise.type,\n      label: `${exercise.type.charAt(0).toUpperCase()}${exercise.type.slice(1)}`\n    };\n    this.setState({exercise, sport, type});\n  }\n\n  render() {\n    return(\n      <div className = { this.props.classToggle ? \"edit-exercise show\" : \"edit-exercise hidden\"} key={shortid.generate()}>\n        <div className=\"edit-exercise__backdrop\" onClick={this.props.click}></div>\n        \n        <div className=\"edit-exercise__form-container\">\n          <h2>Edit exercise</h2>\n          <button className=\"btn close-btn\" onClick={this.props.click}>X</button>\n\n          {(this.state.exercise === null) ?\n            <h1>loading</h1>\n            : (\n              <form onSubmit={this.updateExercise} className=\"input-form\">\n                <label htmlFor=\"\">Title</label>\n                <input className=\"input\" type=\"text\" value={this.state.exercise.title} name=\"title\" onChange={this.handleChange} ref={this.references['title']} />\n                <label htmlFor=\"\">Description</label>\n                <textarea value={this.state.exercise.description} name=\"description\" onChange={this.handleChange}  ref={this.references['description']}/>\n                <label htmlFor=\"\">Duration</label>\n                <input className=\"input\" type=\"number\" value={this.state.exercise.duration} name=\"duration\" onChange={this.handleChange}/>\n                <label htmlFor=\"\">Sport</label>\n                  <Select\n                    className=\"select\"\n                    value={this.state.sport}\n                    onChange={this.handleSport}\n                    options={sports}\n                    placeholder={this.state.exercise.sport}\n                    required\n                  />\n                <label htmlFor=\"\">Type</label>\n                  <Select\n                    className=\"select\"\n                    value={this.state.type}\n                    onChange={this.handleType}\n                    options={type}\n                    required\n                  />\n                <label htmlFor=\"\">Video</label>\n                <input className=\"input\" type=\"text\" name=\"video_url\" value={this.state.exercise.video_url} onChange={this.handleChange}  ref={this.references['video_url']}/>\n                <label htmlFor=\"\">Image</label>\n                {\n                  this.state.exercise.img_url\n                  ? <span>You can't add a new picture!</span>\n                  : <input type=\"file\" className=\"custom-file-input\" id=\"customFile\" name='img_url' onChange={(event)=>this.fileOnchange(event)} />\n                }\n                <button className=\"btn btn-success\">Save</button>\n              </form>\n            )\n          }\n        </div>\n      </div>\n    )\n  }\n}\n\nexport default TrainingExerciseEdit;","import React, { Component } from 'react';\nimport { Link } from 'react-router-dom';\n\nimport trainingsService from './../services/trainings-service';\nimport profileService from './../services/profile-service';\n\nimport TrainingExerciseEdit from './../components/TrainingExerciseEdit';\nimport ExerciseList from './../components/ExerciseList';\n\nimport Select from 'react-select';\n\nconst sports = [\n  { value: 'all', label: 'All' },\n  { value: 'rugby', label: 'Rugby' },\n  { value: 'basketball', label: 'Basketball' },\n  { value: 'football', label: 'Football' },\n];\n\nclass TrainingEdit extends Component {\n\n  state = {\n    training: {},\n    trainingExercises: [],\n    user: {},\n    showEdit: false,\n    exerciseToEdit: null,\n    sport: {}\n  }\n\n  handleInput = e => {\n    const { name, value } = e.target;\n    const trainingCopy = this.state.training;\n    trainingCopy[name] = value;\n    this.setState({ training: trainingCopy });\n  };\n\n  handleSport = (selected) => {\n    this.setState({sport: selected})\n  }\n\n  updateTraining = (e) => {\n    e.preventDefault();\n    const id = this.state.training._id;\n    const { title, description, duration } = this.state.training;\n\n    const sport = this.state.sport.value;\n\n    trainingsService.modifyOne({ title, description, duration, sport }, id)\n      .then( (modifiedTraining) => {\n        this.setState({ training: modifiedTraining });\n        this.props.history.push(`/my-trainings/${id}`);\n      })\n      .catch( (err) => console.log(err));\n  }\n\n  editExercise = (updatedEx) => {\n    const copyTrEx = this.state.trainingExercises;\n\n    const indexOfModified = copyTrEx.filter( (exercise, i) => {\n      if (exercise._id === updatedEx._id) {\n        return i\n      }\n    });\n\n    copyTrEx[indexOfModified] = updatedEx;\n    this.setState({trainingExercises: copyTrEx});\n\n  }\n\n  addExercise = (exerciseId) => {\n    const trainingId = this.state.training._id;\n\n    trainingsService.addExercise(trainingId, exerciseId)\n      .then( (result) => {\n        const trainingExercises = result.data.exercises;\n        this.setState({trainingExercises});\n      })\n      .catch( (err) => console.log(err));\n  }\n\n  deleteTraining = (e) => {\n    e.preventDefault();\n    const trainingId = this.state.training._id;\n    trainingsService.deleteOne(trainingId)\n      .then( () => this.props.history.push('/my-trainings'))\n      .catch( (err) => console.log(err));\n  }\n\n  removeExerciseFromTraining = (exerciseId) => {\n    console.log('in')\n    trainingsService.deleteExercise(this.state.training._id, exerciseId)\n      .then( (data) => {\n        const trainingExercises = data.exercises;\n        this.setState({trainingExercises});\n      })\n      .catch( (err) => console.log(err));\n  }\n\n  editToggle = (exercise) => {\n    const show = !this.state.showEdit;\n    this.setState(\n      {showEdit: show, \n      exerciseToEdit: exercise}\n    );\n  }\n\n  componentDidMount() {\n    window.scrollTo(0, 0)\n    const {id} = this.props.match.params;\n\n    trainingsService.getOne(id)\n      .then( (training) => {\n        profileService.getUser()\n          .then( (userInfo) => {\n            const sport = {\n              value: training.sport,\n              label: `${training.sport.charAt(0).toUpperCase()}${training.sport.slice(1)}`\n            };\n            this.setState({training, trainingExercises: training.exercises, user: userInfo, sport});\n          })\n          .catch( (err) => console.log(err));\n      })\n    \n  }\n\n  render() { \n    const training = this.state.training;\n    const trainingExercises = this.state.trainingExercises;\n    const userExercises = this.state.user.exercises;\n    const savedExercises = this.state.user.savedExercises;\n\n    return(\n      <main className=\"content\">\n        <button className=\"btn-icon\" onClick={() => this.props.history.goBack()}>\n          <img src={'/arrow.svg'} className=\"back-icon\" alt=\"\"/>\n        </button>\n        <div className=\"training-header\">\n          <h1>Edit training</h1>\n          <button className=\"btn btn-delete\" onClick={this.deleteTraining}>Delete training</button>\n        </div>\n        <div className=\"edit-training\">\n          {this.state.showEdit ?\n            (\n              <TrainingExerciseEdit \n                classToggle={this.state.showEdit} \n                click={this.editToggle}\n                editExercise={this.editExercise}\n                exercise={this.state.exerciseToEdit}\n              />\n            )\n            :null\n          }\n        \n          <section className=\"edit-training__info\">\n            <form onSubmit={this.updateTraining} class=\"input-form\">\n              <label htmlFor=\"\">Title</label>\n              <input class=\"input\" type=\"text\" value={training.title} name=\"title\" onChange={this.handleInput} />\n              <label htmlFor=\"\">Description</label>\n              <textarea value={training.description} name=\"description\" onChange={this.handleInput}/>\n              <div className=\"inline-display\">\n                <label htmlFor=\"\">Duration</label>\n                <input className=\"input\" type=\"number\" value={training.duration} name=\"duration\" onChange={this.handleInput} required/>\n                <span>min</span>\n              </div>\n              <label htmlFor=\"\">Sport</label>\n                  <Select\n                    className=\"select\"\n                    value={this.state.sport}\n                    onChange={this.handleSport}\n                    options={sports}\n                    placeholder={training.sport}\n                    required\n                  />\n              <button className=\"btn btn-success\">Save</button>\n            </form>\n            <div className=\"exercises-edit\">\n              <h4>Exercises</h4>\n              {\n                trainingExercises.length ?\n                  (\n                    trainingExercises.map( (exercise, i) => {\n                      return (\n                        <div className=\"training-info__exercises\" key={i}>\n                          <div className=\"list-container__item list-container__item--training\" key={i}>\n                            <Link to={`/profile/${exercise._id}`}>\n                              <div className=\"inline-display\">\n                                <p><strong>{i+1}. {exercise.title}</strong></p>\n                                <span className={`item-type ${exercise.type}`}>{exercise.type}</span>\n                              </div>\n                              <p><strong>Sport: </strong>{exercise.sport}</p>\n                              <p><strong>Duration: </strong>{exercise.duration}</p>\n                              <p>{exercise.description}</p>\n                              \n                            </Link>\n                          </div>\n                          <div className=\"training-info__exercises__buttons\">\n                            <button className=\"btn btn-edit\" onClick={() => this.editToggle(exercise)}>Edit</button>\n                            <button className=\"btn-icon\" onClick={() => this.removeExerciseFromTraining(exercise._id)}>\n                              <img src={\"/bin.png\"} alt=\"remove-exercise\" className=\"btn-icon__action\"/>\n                            </button>\n                          </div>      \n                        </div>\n                      )\n                    })\n                  \n                  )\n                    \n                : <p><strong>Add exercises!</strong></p>\n              }\n            </div>\n          </section>\n          <section className=\"edit-training__user-exercises\">\n            {\n              userExercises \n                ? <h2>Your Exercises ({userExercises.length})</h2>\n                : <h2>Your Exercises (0)</h2>  \n            }  \n            { userExercises ?\n                  (\n                    <ExerciseList\n                      exercises={userExercises}\n                      userId={this.state.user._id} \n                      inEditTraining={true}\n                      addExercise={this.addExercise}\n                    />\n                  )\n                  : null\n                }\n          </section>\n          <section className=\"edit-training__saved-exercises\">\n            {\n              savedExercises\n                ? <h2>Saved Exercises ({savedExercises.length})</h2>\n                : <h2>Saved Exercises (0)</h2>\n            }\n            {\n              savedExercises ?\n                (\n                  <ExerciseList\n                    exercises={savedExercises}\n                    userId={this.state.user._id} \n                    inEditTraining={true}\n                    addExercise={this.addExercise}\n                  />\n                )\n              : null\n            }\n          </section>\n        </div>\n      </main>\n    )\n  }\n}\n\nexport default TrainingEdit;","import React, { Component } from 'react';\nimport { Switch, Route, withRouter } from 'react-router-dom';\nimport \"./App.scss\";\nimport \"./styles/auth.scss\";\n\nimport Signup from './pages/Signup';\nimport Login from './pages/Login';\nimport Home from './pages/Home';\n\n// Routes\nimport AnonRoute from './components/AnonRoute';\nimport PrivateRoute from './components/PrivateRoute';\n\nimport SearchBar from './components/SearchBar';\nimport SideMenu from './components/SideMenu';\n\nimport Profile from './pages/Profile';\nimport ProfileEdit from './pages/ProfileEdit';\nimport MyTrainings from './pages/MyTrainings';\nimport Discover from './pages/Discover';\nimport ExerciseDetails from './pages/ExerciseDetails';\nimport ExerciseNew from './pages/ExerciseNew';\nimport ExerciseEdit from './pages/ExerciseEdit';\nimport TrainingDetails from './pages/TrainingDetails';\nimport TrainingNew from './pages/TrainingNew';\nimport TrainingEdit from './pages/TrainingEdit';\n\n\nimport './styles/buttons.scss';\n\nclass App extends Component {\n\n  state = {\n    searchResult: []\n  }\n\n  submitSearch = (e, searchStr) => {\n    e.preventDefault();\n    this.props.history.push(`/discover?search=${searchStr}`);\n  }\n\n  render() {\n    return (\n      <div className=\"App\">\n        {/* SearchBar component --> search, name and image here*/}\n        <SearchBar submit={this.submitSearch}/>\n        {/* SideMenu component --> logout here*/}\n        <SideMenu/>\n        <Switch>\n          <AnonRoute exact path=\"/signup\" component={Signup} />\n          <AnonRoute exact path=\"/login\" component={Login} />\n          \n          <PrivateRoute exact path=\"/\" component={Home} />\n          {/* Navigation routes */}\n          <PrivateRoute exact path=\"/profile\" component={Profile} />\n          <PrivateRoute exact path=\"/my-trainings\" component={MyTrainings} />\n          <PrivateRoute exact path=\"/discover\" component={Discover}/>\n\n          {/* INNER ROUTES */}\n          {/* -- Profile -- */}\n          <PrivateRoute exact path=\"/profile/new-exercise\" component={ExerciseNew} />\n          <PrivateRoute exact path=\"/profile/edit\" component={ProfileEdit} />\n          <PrivateRoute exact path=\"/profile/:id\" component={ExerciseDetails} />\n          <PrivateRoute exact path=\"/profile/:id/edit\" component={ExerciseEdit} />\n\n          {/* -- My trainings -- */}\n          <PrivateRoute exact path=\"/my-trainings/new-training\" component={TrainingNew} />\n          <PrivateRoute exact path=\"/my-trainings/:id\" component={TrainingDetails} />\n          <PrivateRoute exact path=\"/my-trainings/:id/edit\" component={TrainingEdit} />\n\n          {/* -- Discover -- */}\n          <PrivateRoute exact path=\"/discover/:id\" component={ExerciseDetails} />\n          {/* -- Forum -- */}\n        </Switch>\n      </div>\n    );\n  }\n}\n\nexport default withRouter(App);\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport App from './App';\nimport { BrowserRouter as Router } from 'react-router-dom';\nimport AuthProvider from './services/AuthProvider';\n\nReactDOM.render(\n  <Router>\n    <AuthProvider>\n      <App />\n    </AuthProvider>\n  </Router>,\n  document.getElementById('root'),\n);\n"],"sourceRoot":""}