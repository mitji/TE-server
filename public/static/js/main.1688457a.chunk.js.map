{"version":3,"sources":["services/auth-service.js","services/AuthProvider.js","pages/Signup.js","pages/Login.js","components/SearchBar.js","components/SideMenu.js","components/PrivateRoute.js","services/profile-service.js","components/TrainingCard.js","components/ExerciseList.js","pages/Profile.js","services/trainings-service.js","pages/MyTrainings.js","services/search-service.js","services/discover-service.js","components/DiscoverCard.js","components/DiscoverList.js","pages/Discover.js","pages/Home.js","pages/Dashboard.js","components/AnonRoute.js","pages/ProfileEdit.js","services/exercises-service.js","pages/ExerciseDetails.js","pages/ExerciseNew.js","pages/ExerciseEdit.js","pages/TrainingDetails.js","pages/TrainingNew.js","components/TrainingExerciseEdit.js","pages/TrainingEdit.js","App.js","index.js"],"names":["axiosRequestFunctions","this","auth","axios","create","baseURL","process","withCredentials","user","email","name","lastName","password","post","then","data","response","updatedUser","put","get","React","createContext","Consumer","Provider","withAuth","WrappedComponent","login","signup","logout","isLoggedin","isLoading","props","Component","AuthProvider","state","authService","setState","catch","err","console","log","me","value","children","handleFormSubmit","event","preventDefault","handleChange","target","className","onSubmit","type","onChange","to","search","handleSearch","e","searchSubmit","submit","placeholder","src","alt","activeClassName","onClick","component","rest","render","ProfileService","profile","id","TrainingCard","userTraining","training","key","shortid","generate","_id","title","duration","exercises","map","exercise","ExerciseList","exerciseArr","listLength","length","profileService","unsaveExercise","savedExercises","updateLength","description","author","userId","inEditTraining","addExercise","Dashboard","savedExercisesLength","window","scrollTo","getUser","userInfo","userExercises","userTrainings","trainings","TrainingService","newTraining","sport","delete","trainingId","exerciseId","modifiedTraining","MyTrainings","trainingService","getAll","index","SearchService","searchStr","DiscoverService","discover","DiscoverCard","DiscoverList","exercisesList","aria-hidden","Discover","allExercises","exercisesCopy","values","queryString","parse","location","searchService","getResults","discoverService","filter","currentExs","filteredExs","ex","prevProps","ref","default","ProfileEdit","edit","history","push","exercisesService","video_url","img_url","share","file","modifiedExercise","ExerciseDetails","isSaved","saveExercise","save","match","params","getOne","some","savedEx","goBack","width","height","frameborder","allow","ExerciseNew","handleInput","checked","exerciseCopy","fileOnchange","files","uploadData","FormData","append","uploadImage","error","htmlFor","required","class","ExerciseEdit","updateExercise","modifyOne","updatedExercise","deleteExercise","deleteOne","TrainingDetails","TrainingNew","trainingExercises","trainingCopy","saveTraining","trainingsService","cancelNewTraining","result","removeExerciseFromTraining","i","TrainingExerciseEdit","editExercise","click","focusInput","undefined","references","createRef","focusTextInput","bind","currentInput","current","focus","selectionStart","classToggle","TrainingEdit","showEdit","exerciseToEdit","updateTraining","updatedEx","copyTrEx","indexOfModified","deleteTraining","editToggle","show","App","searchResult","submitSearch","exact","path","Signup","Login","Home","Profile","withRouter","ReactDOM","document","getElementById"],"mappings":"8dA2CeA,EAFe,I,WAtC5B,aAAe,oBACbC,KAAKC,KAAOC,IAAMC,OAAO,CACvBC,QAASC,mCACTC,iBAAiB,I,mDAIdC,GAAO,IACJC,EAAoCD,EAApCC,MAAOC,EAA6BF,EAA7BE,KAAMC,EAAuBH,EAAvBG,SAAUC,EAAaJ,EAAbI,SAC/B,OAAOX,KAAKC,KAAKW,KAAK,eAAgB,CAAEJ,QAAOC,OAAMC,WAAUC,aAC5DE,MAAK,qBAAGC,U,4BAGPP,GAAO,IACHC,EAAoBD,EAApBC,MAAOG,EAAaJ,EAAbI,SACf,OAAOX,KAAKC,KAAKW,KAAK,cAAe,CAAEJ,QAAOG,aAC3CE,MAAK,qBAAGC,U,+BAIX,OAAOd,KAAKC,KAAKW,KAAK,eAAgB,IACnCC,MAAK,SAAAE,GAAQ,OAAIA,EAASD,U,2BAG1BE,GAAc,IACTR,EAAoCQ,EAApCR,MAAOC,EAA6BO,EAA7BP,KAAMC,EAAuBM,EAAvBN,SAAUC,EAAaK,EAAbL,SAC/B,OAAOX,KAAKC,KACTgB,IAAI,WAAY,CAAET,QAAOC,OAAMC,WAAUC,aACzCE,MAAK,SAAAE,GAAQ,OAAIA,EAASD,U,2BAI7B,OAAOd,KAAKC,KACTiB,IAAI,YACJL,MAAK,SAAAE,GAAQ,OAAIA,EAASD,Y,QChCFK,IAAMC,gBAA7BC,E,EAAAA,SAAUC,E,EAAAA,SAGZC,EAAW,SAAAC,GACf,wLACY,IAAD,OACP,OACE,kBAACH,EAAD,MAGG,YAA6D,IAA1DI,EAAyD,EAAzDA,MAAOC,EAAkD,EAAlDA,OAAQnB,EAA0C,EAA1CA,KAAMoB,EAAoC,EAApCA,OAAQC,EAA4B,EAA5BA,WAAYC,EAAgB,EAAhBA,UAC3C,OACE,kBAACL,EAAD,eACEC,MAAOA,EACPC,OAAQA,EACRnB,KAAMA,EACNoB,OAAQA,EACRC,WAAYA,EACZC,UAAWA,GACP,EAAKC,eAfvB,EAAM,CAAeX,IAAMY,YA+EdC,E,2MApDbC,MAAQ,CACNL,YAAY,EACZrB,KAAM,KACNsB,WAAW,G,EAabH,OAAS,SAAAnB,GAAS,IACRC,EAAoCD,EAApCC,MAAOC,EAA6BF,EAA7BE,KAAMC,EAAuBH,EAAvBG,SAAUC,EAAaJ,EAAbI,SAE/BuB,EAAYR,OAAO,CAAElB,QAAOC,OAAMC,WAAUC,aACzCE,MAAK,SAAAN,GAAI,OAAI,EAAK4B,SAAS,CAAEP,YAAY,EAAMrB,YAC/C6B,OAAM,SAAAC,GAAG,OAAIC,QAAQC,IAAIF,O,EAG9BZ,MAAQ,SAAAlB,GAAS,IACPC,EAAoBD,EAApBC,MAAOG,EAAaJ,EAAbI,SAEfuB,EAAYT,MAAM,CAAEjB,QAAOG,aACxBE,MAAK,SAAAN,GAAI,OAAI,EAAK4B,SAAS,CAAEP,YAAY,EAAMrB,YAC/C6B,OAAM,SAAAC,GAAG,OAAIC,QAAQC,IAAIF,O,EAG9BV,OAAS,WACPO,EAAYP,SACTd,MAAK,kBAAM,EAAKsB,SAAS,CAAEP,YAAY,EAAOrB,KAAM,UACpD6B,OAAM,SAAAC,GAAG,OAAIC,QAAQC,IAAIF,O,mFA7BT,IAAD,OAClBH,EAAYM,KACT3B,MAAK,SAAAN,GAAI,OACR,EAAK4B,SAAS,CAAEP,YAAY,EAAMrB,KAAMA,EAAMsB,WAAW,OAE1DO,OAAM,SAAAC,GAAG,OACR,EAAKF,SAAS,CAAEP,YAAY,EAAOrB,KAAM,KAAMsB,WAAW,S,+BA0BtD,IAAD,EACiC7B,KAAKiC,MAArCJ,EADD,EACCA,UAAWD,EADZ,EACYA,WAAYrB,EADxB,EACwBA,KACvBkB,EAA0BzB,KAA1ByB,MAAOE,EAAmB3B,KAAnB2B,OAAQD,EAAW1B,KAAX0B,OAEvB,OACE,kBAACJ,EAAD,CAAUmB,MAAO,CAAEZ,YAAWD,aAAYrB,OAAMkB,QAAOE,SAAQD,WAC5D1B,KAAK8B,MAAMY,c,GA7COvB,IAAMY,WCoClBR,I,2MAlEbU,MAAQ,CACNzB,MAAO,GACPC,KAAM,GACNC,SAAU,GACVC,SAAU,I,EAGZgC,iBAAmB,SAAAC,GACjBA,EAAMC,iBADoB,MAEkB,EAAKZ,MAAzCzB,EAFkB,EAElBA,MAAOC,EAFW,EAEXA,KAAMC,EAFK,EAELA,SAAUC,EAFL,EAEKA,SAE/B,EAAKmB,MAAMJ,OAAO,CAAElB,QAAOC,OAAMC,WAAUC,c,EAG7CmC,aAAe,SAAAF,GAAU,IAAD,EACEA,EAAMG,OAAtBtC,EADc,EACdA,KAAMgC,EADQ,EACRA,MACd,EAAKN,SAAL,eAAiB1B,EAAOgC,K,wEAGhB,IAAD,EACqCzC,KAAKiC,MAAzCzB,EADD,EACCA,MAAOC,EADR,EACQA,KAAMC,EADd,EACcA,SAAUC,EADxB,EACwBA,SAC/B,OACE,yBAAKqC,UAAU,kBACb,uCACA,0BAAMC,SAAUjD,KAAK2C,kBACnB,yCACA,2BACEO,KAAK,QACLzC,KAAK,QACLgC,MAAOjC,EACP2C,SAAUnD,KAAK8C,eAEjB,wCACA,2BACEI,KAAK,OACLzC,KAAK,OACLgC,MAAOhC,EACP0C,SAAUnD,KAAK8C,eAGjB,6CACA,2BACEI,KAAK,OACLzC,KAAK,WACLgC,MAAO/B,EACPyC,SAAUnD,KAAK8C,eAGjB,4CACA,2BACEI,KAAK,WACLzC,KAAK,WACLgC,MAAO9B,EACPwC,SAAUnD,KAAK8C,eAGjB,2BAAOE,UAAU,aAAaE,KAAK,SAAST,MAAM,YAGpD,oDACA,kBAAC,IAAD,CAAMW,GAAI,UAAV,e,GA7DarB,cCiDNR,I,2MAhDbU,MAAQ,CACNzB,MAAO,GACPG,SAAU,I,EAGZgC,iBAAmB,SAAAC,GACjBA,EAAMC,iBADoB,MAEE,EAAKZ,MAAzBzB,EAFkB,EAElBA,MAAOG,EAFW,EAEXA,SACf,EAAKmB,MAAML,MAAM,CAAEjB,QAAOG,c,EAG5BmC,aAAe,SAAAF,GAAU,IAAD,EACEA,EAAMG,OAAtBtC,EADc,EACdA,KAAMgC,EADQ,EACRA,MACd,EAAKN,SAAL,eAAiB1B,EAAOgC,K,wEAGhB,IAAD,EACqBzC,KAAKiC,MAAzBzB,EADD,EACCA,MAAOG,EADR,EACQA,SAEf,OACE,yBAAKqC,UAAU,kBACb,qCACA,0BAAMC,SAAUjD,KAAK2C,kBACnB,yCACA,2BACEO,KAAK,QACLzC,KAAK,QACLgC,MAAOjC,EACP2C,SAAUnD,KAAK8C,eAGjB,4CACA,2BACEI,KAAK,WACLzC,KAAK,WACLgC,MAAO9B,EACPwC,SAAUnD,KAAK8C,eAGjB,2BAAOE,UAAU,aAAaE,KAAK,SAAST,MAAM,UAClD,8CACA,kBAAC,IAAD,CAAMW,GAAI,WAAV,iB,GA1CUrB,cCwCLR,I,2MAxCbU,MAAQ,CACNoB,OAAQ,I,EAGVC,aAAe,SAACC,GAAO,IACbd,EAAUc,EAAER,OAAZN,MACR,EAAKN,SAAS,CAACkB,OAAQZ,K,EAGzBe,aAAe,SAACD,GACd,EAAKzB,MAAM2B,OAAOF,EAAE,EAAKtB,MAAMoB,QAC/B,EAAKlB,SAAS,CAACkB,OAAQ,M,wEAGf,IAAD,SAC8BrD,KAAK8B,MAAlCvB,EADD,EACCA,KAAcqB,GADf,EACOD,OADP,EACeC,YACtB,OACE,6BACGA,EAEG,6BACE,0BAAMqB,SAAU,SAACM,GAAD,OAAO,EAAKC,aAAaD,KACvC,2BACEL,KAAK,OACLT,MAAOzC,KAAKiC,MAAMoB,OAClB5C,KAAK,SACL0C,SAAUnD,KAAKsD,aACfI,YAAY,wBAEhB,iCAAOnD,EAAKE,OAGd,U,GAjCYsB,cC0BTR,I,iLAxBH,IAAD,EAC8BvB,KAAK8B,MAApBF,GADf,EACCrB,KADD,EACOoB,OADP,EACeC,YACtB,OACE,6BACGA,EAEC,6BAASoB,UAAU,WACjB,yBAAKA,UAAU,OAAOW,IAAI,GAAGC,IAAI,SACjC,yBAAKZ,UAAU,0BACb,kBAAC,IAAD,CAASI,GAAG,WAAWS,gBAAgB,YAAW,wCAClD,kBAAC,IAAD,CAAST,GAAG,gBAAgBS,gBAAgB,YAAW,6CACvD,kBAAC,IAAD,CAAST,GAAG,YAAYS,gBAAgB,YAAW,yCACnD,kBAAC,IAAD,CAAST,GAAG,KAAK,yCACjB,4BAAQU,QAAS9D,KAAK8B,MAAMH,QAA5B,YAIJ,U,GAlBaI,c,QCiBRR,SAjBf,YAAiF,IAA9CQ,EAA6C,EAAxDgC,UAAsBnC,EAAkC,EAAlCA,WAAYC,EAAsB,EAAtBA,UAAcmC,EAAQ,sDAE9E,OAAInC,EACK,uCAIL,kBAAC,IAAD,iBACMmC,EADN,CAEEC,OAAQ,SAAAnC,GAAK,OACXF,EAAa,kBAACG,EAAcD,GAAW,kBAAC,IAAD,CAAUsB,GAAG,kB,gBCW/Cc,EAFQ,I,WApBrB,aAAe,oBACblE,KAAKmE,QAAUjE,IAAMC,OAAO,CAC1BC,QAASC,2CACTC,iBAAiB,I,sDAKnB,OAAON,KAAKmE,QACLjD,IAAI,KACJL,MAAK,qBAAGC,U,qCAGFsD,GACb,OAAOpE,KAAKmE,QACLlD,IADA,WACQmD,IACRvD,MAAK,qBAAGC,Y,MCkBJuD,G,8BAhCb,WAAYvC,GAAQ,IAAD,8BACjB,4CAAMA,KAEDG,MAAQ,CACXqC,aAAc,EAAKxC,MAAMyC,UAJV,E,sEAQjB,IAAMA,EAAWvE,KAAKiC,MAAMqC,aAE5B,OACE,yBAAKtB,UAAU,gBAAgBwB,IAAKC,IAAQC,YAC1C,kBAAC,IAAD,CAAMtB,GAAE,wBAAmBmB,EAASI,MAClC,yBAAK3B,UAAU,yBACb,4BAAKuB,EAASK,OACd,8BAAOL,EAASM,SAAhB,SAECN,EAASO,UAAUC,KAAK,SAAAC,GACvB,OACE,yBAAKhC,UAAU,0BAA0BwB,IAAKC,IAAQC,YACpD,2BAAIM,EAASJ,OACb,0BAAM5B,UAAS,oBAAegC,EAAS9B,OAAS8B,EAAS9B,gB,GAtBhDnB,cC2EZkD,E,YAtEb,WAAYnD,GAAQ,IAAD,8BACjB,4CAAMA,KAEDG,MAAQ,CACXiD,YAAa,EAAKpD,MAAMgD,UACxBK,WAAY,EAAKrD,MAAMgD,UAAUM,QALlB,E,4EASJhB,GAAK,IAAD,OAEjBiB,EAAeC,eAAelB,GAC3BvD,MAAM,SAACN,GACN,IAAMgF,EAAiBhF,EAAKgF,eAC5B,EAAKzD,MAAM0D,eACX,EAAKrD,SAAS,CAAC+C,YAAaK,OAE7BnD,OAAO,SAACC,GAAD,OAASC,QAAQC,IAAIF,Q,+BAGvB,IAAD,OACD6C,EAAclF,KAAKiC,MAAMiD,YAC/B,OACE,yBAAKlC,UAAU,kBACZkC,EAAYH,KAAK,SAAAC,GAChB,OACE,6BACE,yBAAKhC,UAAU,uBAAuBwB,IAAKC,IAAQC,YACjD,kBAAC,IAAD,CAAMtB,GAAE,mBAAc4B,EAASL,MAC7B,2BAAIK,EAASJ,OACb,0BAAM5B,UAAS,oBAAegC,EAAS9B,OAAS8B,EAAS9B,MACzD,2BAAI8B,EAASS,aAEVT,EAASU,OAAOf,MAAQ,EAAK7C,MAAM6D,OAElC,6BACE,2BAAG,4CAA0BX,EAASU,OAAOjF,KAA7C,IAAoDuE,EAASU,OAAOhF,UACpE,2BAAG,6CAA2BsE,EAASH,WAGzC,MAIHG,EAASU,OAAOf,MAAQ,EAAK7C,MAAM6D,QAAW,EAAK7D,MAAM8D,eAMxD,KAJE,4BAAQ5C,UAAU,WAAWc,QAAS,kBAAM,EAAKwB,eAAeN,EAASL,OACvE,yBAAKhB,IAAK,WAAYC,IAAI,SAASZ,UAAU,sBAMnD,EAAKlB,MAAM8D,eACP,4BAAQ5C,UAAU,WAAWc,QAAS,kBAAI,EAAKhC,MAAM+D,YAAYb,EAASL,OACxE,yBAAKhB,IAAK,WAAYC,IAAI,GAAGZ,UAAU,sBAEzC,e,GA1DKjB,aC8GZ+D,E,2MAtGb7D,MAAQ,CACN1B,KAAM,GACNwF,qBAAsB,G,EAGxBP,aAAe,WACb,IAAIJ,EAAS,EAAKnD,MAAM8D,qBACxBX,GAAU,EACV,EAAKjD,SAAS,CAAC4D,qBAAsBX,K,mFAGlB,IAAD,OAClBY,OAAOC,SAAS,EAAG,GACnBZ,EAAea,UACZrF,MAAM,SAACsF,GACN,EAAKhE,SAAS,CAAC5B,KAAM4F,IACrB,EAAKhE,SAAS,CAAC4D,qBAAsBI,EAASZ,eAAeH,YAE9DhD,OAAO,SAACC,GAAD,OAASC,QAAQC,IAAIF,Q,+BAI/B,IAAM+D,EAAgBpG,KAAKiC,MAAM1B,KAAKuE,UAChCS,EAAiBvF,KAAKiC,MAAM1B,KAAKgF,eACjCc,EAAgBrG,KAAKiC,MAAM1B,KAAK+F,UAEtC,OACE,0BAAMtD,UAAU,WAEd,yBAAKA,UAAU,kBACb,uCACA,kBAAC,IAAD,CAAMI,GAAI,iBACR,4BAAQJ,UAAU,gBAAlB,kBAGJ,yBAAKA,UAAU,qBAEb,yBAAKA,UAAU,kBACb,yBAAKA,UAAU,UAEXqD,EACI,+CAAqBA,EAAcjB,OAAnC,KACA,mDAKNiB,EAEE,yBAAKrD,UAAU,4CACdqD,EAActB,KAAK,SAAAR,GAClB,OACE,kBAAC,EAAD,CAAcA,SAAUA,EAAUC,IAAKC,IAAQC,iBAKnD,MAIN,yBAAK1B,UAAU,kBACb,yBAAKA,UAAU,UAEXoD,EACI,+CAAqBA,EAAchB,OAAnC,KACA,kDAEN,kBAAC,IAAD,CAAMpC,UAAU,iBAAiBI,GAAI,yBAArC,QAGAgD,EAEE,kBAAC,EAAD,CAActB,UAAWsB,EAAeT,OAAQ3F,KAAKiC,MAAM1B,KAAKoE,MAEhE,MAIN,yBAAK3B,UAAU,kBACb,yBAAKA,UAAU,UAEXuC,EACI,gDAAsBvF,KAAKiC,MAAM8D,qBAAjC,KACA,oDAKNR,EAEI,kBAAC,EAAD,CAAcT,UAAWS,EAAgBI,OAAQ3F,KAAKiC,MAAM1B,KAAKoE,IAAKa,aAAcxF,KAAKwF,eAE3F,Y,GA/FQzD,aC4CTwE,EAFS,I,WArDtB,aAAe,oBACbvG,KAAKuE,SAAWrE,IAAMC,OAAO,CAC3BC,QAASC,gDACTC,iBAAiB,I,qDAKnB,OAAON,KAAKuE,SACLrD,IAAI,KACJL,MAAK,qBAAGC,U,6BAGV0F,GAAc,IACX5B,EAAyD4B,EAAzD5B,MAAOa,EAAkDe,EAAlDf,YAAaZ,EAAqC2B,EAArC3B,SAAU4B,EAA2BD,EAA3BC,MAAOvD,EAAoBsD,EAApBtD,KAAM4B,EAAc0B,EAAd1B,UACnD,OAAO9E,KAAKuE,SACL3D,KAAK,OAAQ,CAAEgE,QAAOa,cAAaZ,WAAU4B,QAAOvD,OAAM4B,cAC1DjE,MAAK,qBAAGC,U,6BAGVsD,GACL,OAAOpE,KAAKuE,SACLrD,IADA,WACQkD,IACRvD,MAAK,qBAAGC,U,gCAGPsD,GACR,OAAOpE,KAAKuE,SACTmC,OADI,WACOtC,IACXvD,MAAK,qBAAGC,U,qCAGE6F,EAAYC,GACzB,OAAO5G,KAAKuE,SACTtD,IADI,WACI0F,EADJ,YACkBC,EADlB,YAEJ/F,MAAK,qBAAGC,U,gCAGH+F,EAAkBzC,GAAK,IACvBQ,EAAwCiC,EAAxCjC,MAAOa,EAAiCoB,EAAjCpB,YAAaZ,EAAoBgC,EAApBhC,SAAU4B,EAAUI,EAAVJ,MACtC,OAAOzG,KAAKuE,SACLtD,IADA,WACQmD,GAAM,CAAEQ,QAAOa,cAAaZ,WAAU4B,UAC9C5F,MAAK,qBAAGC,U,kCAGL6F,EAAYC,GACtB,OAAO5G,KAAKuE,SACL3D,KADA,WACS+F,EADT,YACuBC,IACvB/F,MAAK,SAACC,GAAD,OAAUA,S,MCHXgG,G,iNAvCb7E,MAAQ,CACNqE,UAAW,I,mFAGQ,IAAD,OAClBN,OAAOC,SAAS,EAAG,GACnBc,EAAgBC,SACbnG,MAAM,SAACyF,GACN,EAAKnE,SAAS,CAACmE,UAAWA,OAE3BlE,OAAO,SAACC,GAAD,OAASC,QAAQC,IAAIF,Q,+BAI/B,IAAMgE,EAAgBrG,KAAKiC,MAAMqE,UACjC,OACE,yBAAKtD,UAAU,WACb,yBAAKA,UAAU,mBACb,4CACA,kBAAC,IAAD,CAAMI,GAAI,8BAA8B,4BAAQJ,UAAU,kBAAlB,SAG1C,yBAAKA,UAAU,mBAEXqD,EAEIA,EAActB,KAAK,SAACR,EAAU0C,GAC5B,OAAO,kBAAC,EAAD,CAAc1C,SAAUA,EAAUC,IAAKyC,OAGlD,kD,GAhCYlF,c,iBCYXmF,EAFO,I,WAdpB,aAAe,oBACblH,KAAKqD,OAASnD,IAAMC,OAAO,CACzBC,QAASC,0CACTC,iBAAiB,I,uDAIV6G,GACT,OAAOnH,KAAKqD,OACLnC,IADA,kBACeiG,IACftG,MAAK,qBAAEC,Y,MCaHsG,EAFS,I,WArBtB,aAAe,oBACbpH,KAAKqH,SAAWnH,IAAMC,OAAO,CAC3BC,QAASC,4CACTC,iBAAiB,I,qDAKnB,OAAON,KAAKqH,SACLnG,IAAI,KACJL,MAAK,qBAAGC,U,2BAGZsD,GACH,OAAOpE,KAAKqH,SACLpG,IADA,UACOmD,IACPvD,MAAK,qBAAGC,Y,MCaJwG,E,YA1Bb,WAAYxF,GAAQ,IAAD,8BACjB,4CAAMA,KAEDG,MAAQ,CACX+C,SAAU,EAAKlD,MAAMkD,UAJN,E,sEASjB,IAAMA,EAAWhF,KAAKiC,MAAM+C,SAC5B,OACE,yBAAKhC,UAAU,gBAAgBwB,IAAKC,IAAQC,YAC1C,kBAAC,IAAD,CAAMtB,GAAE,oBAAe4B,EAASL,MAC9B,yBAAK3B,UAAU,yBACb,4BAAKgC,EAASJ,OACd,2BAAII,EAASH,SAAb,UAA8BG,EAASyB,OACvC,2BAAIzB,EAAS9B,MACb,iCAAO8B,EAASU,OAAOjF,KAAvB,IAA8BuE,EAASU,OAAOhF,iB,GAnB/BqB,aC8BZwF,E,iLAxBX,IAAMC,EAAgBxH,KAAK8B,MAAMgD,UACjC,OACE,yBAAK9B,UAAU,iBAEY,IAAvBwE,EAAcpC,OAEZoC,EAAczC,KAAK,SAAAC,GACjB,OAAO,kBAAC,EAAD,CAAcA,SAAUA,EAAUR,IAAKC,IAAQC,gBAIxD,6CAIJ,uBAAG+C,cAAY,SACf,uBAAGA,cAAY,c,GAnBI1F,aCyGZ2F,G,iNAnGbzF,MAAQ,CACN0F,aAAc,KACdC,cAAe,KACfnB,MAAO,MACPvD,KAAM,O,EAeRI,aAAe,WACb,IAAMuE,EAASC,IAAYC,MAAM,EAAKjG,MAAMkG,SAAS3E,QAClDwE,EAAOxE,OACR4E,EAAcC,WAAWL,EAAOxE,QAC7BxC,MAAM,SAACC,GAEN,EAAKqB,SAAS,CAACwF,aAAc7G,EAAM8G,cAAe9G,OAEnDsB,OAAO,SAACC,GAAD,OAASC,QAAQC,IAAIF,MAG/B8F,EAAgBnB,SACbnG,MAAM,SAACC,GACN,EAAKqB,SAAS,CAACwF,aAAc7G,EAAM8G,cAAe9G,OAEnDsB,OAAO,SAACC,GAAD,OAASC,QAAQC,IAAIF,O,EAInC+F,OAAS,SAAC7E,GACRA,EAAEV,iBACFP,QAAQC,IAAI,EAAKN,MAAMwE,MAAO,EAAKxE,MAAMiB,MACzC,IAAMmF,EAAa,EAAKpG,MAAM0F,aAC1BW,EAAc,GAIhBA,EADuB,QAArB,EAAKrG,MAAMwE,MACC4B,EAEAA,EAAWD,QAAQ,SAAAG,GAC/B,OAAOA,EAAG9B,QAAU,EAAKxE,MAAMwE,SAKX,QAApB,EAAKxE,MAAMiB,OACboF,EAAcA,EAAYF,QAAQ,SAAAG,GAChC,OAAOA,EAAGrF,OAAS,EAAKjB,MAAMiB,SAIlC,EAAKf,SAAS,CAACyF,cAAeU,K,mFApD9BtC,OAAOC,SAAS,EAAE,GAClBjG,KAAKsD,iB,yCAGYkF,GACbA,EAAUR,SAAS3E,SAAWrD,KAAK8B,MAAMkG,SAAS3E,SACpDf,QAAQC,IAAI,WACZvC,KAAKsD,kB,+BAgDC,IAAD,OACP,OACE,yBAAKN,UAAU,WACb,6CACA,0BAAMC,SAAUjD,KAAKoI,QACnB,4BAAQ3H,KAAK,GAAG2D,GAAG,GAAGqE,IAAI,QAAQtF,SAAU,SAACI,GAAD,OAAO,EAAKpB,SAAS,CAAEsE,MAAOlD,EAAER,OAAON,UACjF,4BAAQA,MAAM,MAAMiG,SAAO,GAA3B,OACA,4BAAQjG,MAAM,cAAd,cACA,4BAAQA,MAAM,SAAd,SACA,4BAAQA,MAAM,YAAd,aAEF,4BAAQhC,KAAK,GAAG2D,GAAG,GAAGqE,IAAI,OAAOtF,SAAU,SAACI,GAAD,OAAO,EAAKpB,SAAS,CAAEe,KAAMK,EAAER,OAAON,UAC/E,4BAAQA,MAAM,MAAMiG,SAAO,GAA3B,OACA,4BAAQjG,MAAM,UAAd,UACA,4BAAQA,MAAM,UAAd,UACA,4BAAQA,MAAM,WAAd,WACA,4BAAQA,MAAM,MAAd,2BACA,4BAAQA,MAAM,WAAd,WACA,4BAAQA,MAAM,YAAd,aAGF,4BAAQO,UAAU,kBAAlB,WAIAhD,KAAKiC,MAAM2F,cACR,kBAAC,EAAD,CAAc9C,UAAW9E,KAAKiC,MAAM2F,gBACpC,kD,GA5FU7F,cCsBRR,GCnBSQ,YDmBTR,E,iLAxBH,IAAD,EAC8BvB,KAAK8B,MAApBF,GADf,EACCrB,KADD,EACOoB,OADP,EACeC,YACtB,OACE,6BACGA,EACC,kBAAC,IAAD,CAAUwB,GAAG,aAEb,6BACE,kBAAC,IAAD,CAAMA,GAAG,UACN,IACD,4BAAQJ,UAAU,OAAlB,SAAuC,KAEzC,6BACA,kBAAC,IAAD,CAAMI,GAAG,WACN,IACD,4BAAQJ,UAAU,OAAlB,UAAwC,W,GAhBnCjB,eEaJR,SAjBf,YAA8E,IAA9CQ,EAA6C,EAAxDgC,UAAsBnC,EAAkC,EAAlCA,WAAYC,EAAsB,EAAtBA,UAAcmC,EAAQ,sDAE3E,OAAInC,EACK,uCAIL,kBAAC,IAAD,iBACMmC,EADN,CAEEC,OAAQ,SAAAnC,GAAK,OACVF,EAAwC,kBAAC,IAAD,CAAUwB,GAAG,aAAxC,kBAACrB,EAAcD,UCqExB6G,E,2MA7Eb1G,MAAQ,CACNzB,MAAO,GACPC,KAAM,GACNC,SAAU,GACVC,SAAU,I,EAGZgC,iBAAmB,WAAO,IAAD,EACqB,EAAKV,MAAzCzB,EADe,EACfA,MAAOC,EADQ,EACRA,KAAMC,EADE,EACFA,SAAUC,EADR,EACQA,SAC/BuB,EAAY0G,KAAK,CAAEpI,QAAOC,OAAMC,WAAUC,aACvCE,MAAM,SAACN,GACN,EAAKuB,MAAM+G,QAAQC,KAAK,eAEzB1G,OAAO,SAACC,GAAD,OAASC,QAAQC,IAAIF,O,EAGjCS,aAAe,SAAAF,GAAU,IAAD,EACEA,EAAMG,OAAtBtC,EADc,EACdA,KAAMgC,EADQ,EACRA,MACd,EAAKN,SAAL,eAAiB1B,EAAOgC,K,mFAGL,IAAD,OAClBP,EAAYM,KACT3B,MAAM,SAACN,GAAU,IACRC,EAAoCD,EAApCC,MAAOC,EAA6BF,EAA7BE,KAAMC,EAAuBH,EAAvBG,SAAUC,EAAaJ,EAAbI,SAC/B,EAAKwB,SAAS,CAAE3B,QAAOC,OAAMC,WAAUC,gBAExCyB,OAAO,SAACC,GAAD,OAASC,QAAQC,IAAIF,Q,+BAGvB,IAAD,SACqCrC,KAAKiC,MAAzCzB,EADD,EACCA,MAAOC,EADR,EACQA,KAAMC,EADd,EACcA,SAAUC,EADxB,EACwBA,SAC/B,OACE,yBAAKqC,UAAU,WACb,4BAAQA,UAAU,WAAWc,QAAS,kBAAM,EAAKhC,MAAM+G,QAAQC,KAAK,cAClE,yBAAKnF,IAAK,aAAcX,UAAU,YAAYY,IAAI,MAEpD,4CACA,0BAAMX,SAAUjD,KAAK2C,kBACnB,yCACA,2BACEO,KAAK,QACLzC,KAAK,QACLgC,MAAOjC,EACP2C,SAAUnD,KAAK8C,eAEjB,wCACA,2BACEI,KAAK,OACLzC,KAAK,OACLgC,MAAOhC,EACP0C,SAAUnD,KAAK8C,eAGjB,6CACA,2BACEI,KAAK,OACLzC,KAAK,WACLgC,MAAO/B,EACPyC,SAAUnD,KAAK8C,eAGjB,4CACA,2BACEI,KAAK,WACLzC,KAAK,WACLgC,MAAO9B,EACPwC,SAAUnD,KAAK8C,eAGjB,2BAAOE,UAAU,aAAaE,KAAK,SAAST,MAAM,e,GAxElCV,aCyCXgH,EAFU,I,WAxCvB,aAAe,oBACb/I,KAAK8E,UAAY5E,IAAMC,OAAO,CAC5BC,QAASC,6CACTC,iBAAiB,I,mDAId8D,GACL,OAAOpE,KAAK8E,UACD5D,IADJ,WACYkD,IACRvD,MAAK,qBAAGC,U,6BAGdkE,GAAW,IACTJ,EAAwEI,EAAxEJ,MAAOa,EAAiET,EAAjES,YAAaZ,EAAoDG,EAApDH,SAAU4B,EAA0CzB,EAA1CyB,MAAOvD,EAAmC8B,EAAnC9B,KAAM8F,EAA6BhE,EAA7BgE,UAAWC,EAAkBjE,EAAlBiE,QAASC,EAASlE,EAATkE,MACtE,OAAOlJ,KAAK8E,UACDlE,KAAK,OAAQ,CAACgE,QAAOa,cAAaZ,WAAU4B,QAAOvD,OAAM8F,YAAWC,UAASC,UAC7ErI,MAAK,qBAAGC,U,kCAGTqI,GACV,OAAOnJ,KAAK8E,UACDlE,KAAK,aAAcuI,GACnBtI,MAAK,qBAAEC,U,gCAGVsI,EAAkBhF,GAAK,IACxBQ,EAAwEwE,EAAxExE,MAAOa,EAAiE2D,EAAjE3D,YAAaZ,EAAoDuE,EAApDvE,SAAU4B,EAA0C2C,EAA1C3C,MAAOvD,EAAmCkG,EAAnClG,KAAM8F,EAA6BI,EAA7BJ,UAAWC,EAAkBG,EAAlBH,QAASC,EAASE,EAATF,MACtE,OAAOlJ,KAAK8E,UACD7D,IADJ,WACYmD,GAAM,CAACQ,QAAOa,cAAaZ,WAAU4B,QAAOvD,OAAM8F,YAAWC,UAASC,UAC9ErI,MAAK,qBAAGC,U,gCAGXsD,GACR,OAAOpE,KAAK8E,UACD4B,OADJ,WACetC,IACXvD,MAAK,qBAAGC,Y,MCuERuI,E,2MArGbpH,MAAQ,CACN+C,SAAU,GACVW,OAAQ,GACR2D,QAAS,M,EAGXC,aAAe,SAAChG,GACdA,EAAEV,iBACFP,QAAQC,IAAI,MACZ,IAAM6B,EAAK,EAAKnC,MAAM+C,SAASL,IAC/BwD,EAAgBqB,KAAKpF,GAClBvD,MAAM,WACL,EAAKsB,SAAS,CAACmH,SAAS,IACxBhH,QAAQC,IAAI,0BAEbH,OAAO,SAACC,GAAD,OAASC,QAAQC,IAAIF,O,EAGjCiD,eAAiB,SAAC/B,GAChBA,EAAEV,iBACF,IAAMuB,EAAK,EAAKnC,MAAM+C,SAASL,IAC/BU,EAAeC,eAAelB,GAC3BvD,MAAM,WACL,EAAKsB,SAAS,CAACmH,SAAS,OAEzBlH,OAAO,SAACC,GAAD,OAASC,QAAQC,IAAIF,O,mFAGZ,IAAD,OAClB2D,OAAOC,SAAS,EAAG,GADD,IAEX7B,EAAMpE,KAAK8B,MAAM2H,MAAMC,OAAvBtF,GACP2E,EAAiBY,OAAOvF,GACrBvD,MAAM,SAACmE,GACNK,EAAea,UACZrF,MAAM,SAACN,GACN,IAAM+I,EAAU/I,EAAKgF,eAAeqE,MAAM,SAAAC,GACxC,OAAOA,EAAQlF,MAAQK,EAASL,OAElC,EAAKxC,SAAS,CAAC6C,WAAUW,OAAQpF,EAAKoE,IAAK2E,eAE5ClH,OAAO,SAACC,GAAD,OAASC,QAAQC,IAAIF,W,+BAI3B,IAAD,OACD2C,EAAWhF,KAAKiC,MAAM+C,SACtBW,EAAS3F,KAAKiC,MAAM0D,OAE1B,OADArD,QAAQC,IAAI,YAAavC,KAAKiC,MAAMqH,SAElC,0BAAMtG,UAAU,WACd,4BAAQA,UAAU,WAAWc,QAAS,kBAAM,EAAKhC,MAAM+G,QAAQiB,WAC7D,yBAAKnG,IAAK,aAAcX,UAAU,YAAYY,IAAI,MAGlD,6BACI,yBAAKZ,UAAU,0CACb,yBAAKA,UAAU,iCACb,4BAAKgC,EAASJ,OAEVI,EAASkE,MAET,KADA,kBAAC,IAAD,CAAM9F,GAAE,mBAAc4B,EAASL,IAAvB,UAAmC,4BAAQ3B,UAAU,gBAAlB,UAIjD,8BAAOgC,EAASH,SAAhB,MAA6BG,EAASyB,QAGxC,2BAAIzB,EAASS,aAGXT,EAASiE,QACN,yBAAKjG,UAAU,qBAAqBW,IAAKqB,EAASiE,QAASrF,IAAI,aAC/D,iDAGHoB,EAASgE,UACN,wCAAQe,MAAM,MAAMC,OAAO,MAAMrG,IAAKqB,EAASgE,UAAWiB,YAAY,IAAIC,MAAM,2EAAhF,QAAgK,eAEhK,iDAIFlF,EAASU,SAAWC,EAEjB,6BAEG3F,KAAKiC,MAAMqH,QAER,4BAAQtG,UAAU,iBAAiBc,QAAS9D,KAAKsF,gBAAjD,UADA,4BAAQtC,UAAU,kBAAkBc,QAAS9D,KAAKuJ,cAAlD,QAGN,yCAGA,W,GA/FUxH,aC0FfoI,E,2MA5FblI,MAAQ,CACN+C,SAAU,I,EAGZoF,YAAc,SAAC7G,GACb,IAAMR,EAASQ,EAAER,OACXN,EAAwB,aAAhBM,EAAOG,KAAsBH,EAAOsH,QAAUtH,EAAON,MAC7DhC,EAAOsC,EAAOtC,KAEd6J,EAAe,EAAKrI,MAAM+C,SAChCsF,EAAa7J,GAAQgC,EACrB,EAAKN,SAAS,CAAE6C,SAAUsF,K,EAG5BC,aAAe,SAAC3H,GACd,IAAMuG,EAAOvG,EAAMG,OAAOyH,MAAM,GAC1BC,EAAa,IAAIC,SACvBD,EAAWE,OAAO,QAASxB,GAE3BJ,EAAiB6B,YAAYH,GAC1B5J,MAAK,SAACoI,GACL,IAAMqB,EAAe,EAAKrI,MAAM+C,SAChCsF,EAAarB,QAAUA,EACvB,EAAK9G,SAAS,CAAE6C,SAAUsF,IAC1BhI,QAAQC,IAAI0G,MAEb7G,OAAM,SAACyI,GAAD,OAAWvI,QAAQC,IAAIsI,O,EAGlCtB,aAAe,SAAChG,GACdA,EAAEV,iBADkB,MAE2D,EAAKZ,MAAM+C,SAAnFJ,EAFa,EAEbA,MAAOa,EAFM,EAENA,YAAaZ,EAFP,EAEOA,SAAU4B,EAFjB,EAEiBA,MAAOvD,EAFxB,EAEwBA,KAAM8F,EAF9B,EAE8BA,UAAWC,EAFzC,EAEyCA,QAASC,EAFlD,EAEkDA,MACtEH,EAAiB5I,OAAO,CAACyE,QAAOa,cAAaZ,WAAU4B,QAAOvD,OAAM8F,YAAWC,UAASC,UACrFrI,MAAM,WACL,EAAKiB,MAAM+G,QAAQC,KAAK,eAEzB1G,OAAO,SAACC,GAAD,OAASC,QAAQC,IAAIF,O,mFAK/B2D,OAAOC,SAAS,EAAE,K,+BAGV,IAAD,OACP,OACE,yBAAKjD,UAAU,WACb,4CACA,0BAAMC,SAAUjD,KAAKuJ,cACnB,2BAAOuB,QAAQ,IAAf,SACA,2BAAO5H,KAAK,OAAOT,MAAOzC,KAAKiC,MAAM+C,SAASJ,MAAOnE,KAAK,QAAQ0C,SAAUnD,KAAKoK,cACjF,2BAAOU,QAAQ,IAAf,eACA,8BAAUrI,MAAOzC,KAAKiC,MAAM+C,SAASS,YAAahF,KAAK,cAAc0C,SAAUnD,KAAKoK,cACpF,2BAAOU,QAAQ,IAAf,YACA,2BAAO5H,KAAK,SAAST,MAAOzC,KAAKiC,MAAM+C,SAASH,SAAUpE,KAAK,WAAW0C,SAAUnD,KAAKoK,cACzF,2BAAOU,QAAQ,IAAf,SACA,4BAAQrK,KAAK,QAAQ2D,GAAG,GAAGqE,IAAI,QAAQtF,SAAUnD,KAAKoK,aACpD,4BAAQ3H,MAAM,IAAd,KACA,4BAAQA,MAAM,OAAd,OACA,4BAAQA,MAAM,cAAd,cACA,4BAAQA,MAAM,SAAd,SACA,4BAAQA,MAAM,YAAd,aAEF,2BAAOqI,QAAQ,IAAf,QACA,4BAAQrK,KAAK,OAAO2D,GAAG,GAAGqE,IAAI,OAAOtF,SAAUnD,KAAKoK,aAClD,4BAAQ3H,MAAM,IAAd,KACA,4BAAQA,MAAM,OAAd,OACA,4BAAQA,MAAM,UAAd,UACA,4BAAQA,MAAM,UAAd,UACA,4BAAQA,MAAM,WAAd,WACA,4BAAQA,MAAM,MAAd,2BACA,4BAAQA,MAAM,WAAd,WACA,4BAAQA,MAAM,YAAd,aAEF,2BAAOqI,QAAQ,IAAf,SACA,2BAAO5H,KAAK,OAAOzC,KAAK,YAAYgC,MAAOzC,KAAKiC,MAAM+C,SAASgE,UAAW7F,SAAUnD,KAAKoK,cACzF,2BAAOlH,KAAK,OAAOF,UAAU,oBAAoBoB,GAAG,aAAa3D,KAAK,UAAU0C,SAAU,SAACP,GAAD,OAAS,EAAK2H,aAAa3H,IAAQmI,UAAQ,IAGrI,2BAAOD,QAAQ,IAAf,SAEA,2BAAOE,MAAM,UACX,2BAAO9H,KAAK,WAAWzC,KAAK,QAAQ4J,QAASrK,KAAKiC,MAAM+C,SAASkE,MAAO/F,SAAUnD,KAAKoK,cACvF,0BAAMY,MAAM,kBAEd,4BAAQhI,UAAU,mBAAlB,c,GAvFgBjB,aCoGXkJ,E,2MAlGbhJ,MAAQ,CACN+C,SAAU,I,EAGZoF,YAAc,SAAA7G,GACZ,IAAMR,EAASQ,EAAER,OACXN,EAAwB,aAAhBM,EAAOG,KAAsBH,EAAOsH,QAAUtH,EAAON,MAC7DhC,EAAOsC,EAAOtC,KAEd6J,EAAe,EAAKrI,MAAM+C,SAChCsF,EAAa7J,GAAQgC,EACrB,EAAKN,SAAS,CAAE6C,SAAUsF,K,EAG5BY,eAAiB,SAAC3H,GAChBA,EAAEV,iBACF,IAAMuB,EAAK,EAAKnC,MAAM+C,SAASL,IAFT,EAGyD,EAAK1C,MAAM+C,SAAnFJ,EAHe,EAGfA,MAAOa,EAHQ,EAGRA,YAAaZ,EAHL,EAGKA,SAAU4B,EAHf,EAGeA,MAAOvD,EAHtB,EAGsBA,KAAM8F,EAH5B,EAG4BA,UAAWC,EAHvC,EAGuCA,QAASC,EAHhD,EAGgDA,MAEtEH,EAAiBoC,UAAU,CAACvG,QAAOa,cAAaZ,WAAU4B,QAAOvD,OAAM8F,YAAWC,UAASC,SAAQ9E,GAChGvD,MAAM,SAACuK,GACN,EAAKjJ,SAAS,CAAE6C,SAAUoG,IAC1B,EAAKtJ,MAAM+G,QAAQiB,YAEpB1H,OAAO,SAACC,GAAD,OAASC,QAAQC,IAAIF,O,EAGjCgJ,eAAiB,WACftC,EAAiBuC,UAAU,EAAKrJ,MAAM+C,SAASL,KAC5C9D,MAAM,WACL,EAAKiB,MAAM+G,QAAQC,KAAK,eAEzB1G,OAAO,SAACC,GAAD,OAASC,QAAQC,IAAIF,O,mFAGZ,IAAD,OAClB2D,OAAOC,SAAS,EAAG,GADD,IAEX7B,EAAMpE,KAAK8B,MAAM2H,MAAMC,OAAvBtF,GACP2E,EAAiBY,OAAOvF,GACrBvD,MAAM,SAACmE,GACN,EAAK7C,SAAS,CAAC6C,SAAUA,OAE1B5C,OAAO,SAACC,GAAD,OAASC,QAAQC,IAAIF,Q,+BAGvB,IAAD,OACP,OACE,0BAAMW,UAAU,WAEd,4BAAQA,UAAU,WAAWc,QAAS,kBAAM,EAAKhC,MAAM+G,QAAQiB,WAC7D,yBAAKnG,IAAK,aAAcX,UAAU,YAAYY,IAAI,MAGpD,gDAEA,0BAAMX,SAAUjD,KAAKkL,gBACnB,2BAAOJ,QAAQ,IAAf,SACA,2BAAO5H,KAAK,OAAOT,MAAOzC,KAAKiC,MAAM+C,SAASJ,MAAOnE,KAAK,QAAQ0C,SAAUnD,KAAKoK,cACjF,2BAAOU,QAAQ,IAAf,eACA,8BAAUrI,MAAOzC,KAAKiC,MAAM+C,SAASS,YAAahF,KAAK,cAAc0C,SAAUnD,KAAKoK,cACpF,2BAAOU,QAAQ,IAAf,YACA,2BAAO5H,KAAK,SAAST,MAAOzC,KAAKiC,MAAM+C,SAASH,SAAUpE,KAAK,WAAW0C,SAAUnD,KAAKoK,cACzF,2BAAOU,QAAQ,IAAf,SACA,4BAAQrK,KAAK,QAAQ2D,GAAG,GAAGqE,IAAI,QAAQhG,MAAOzC,KAAKiC,MAAM+C,SAASyB,MAAOtD,SAAUnD,KAAKoK,aACtF,4BAAQ3H,MAAM,OAAd,OACA,4BAAQA,MAAM,cAAd,cACA,4BAAQA,MAAM,SAAd,SACA,4BAAQA,MAAM,YAAd,aAEF,2BAAOqI,QAAQ,IAAf,QACA,4BAAQrK,KAAK,OAAO2D,GAAG,GAAGqE,IAAI,OAAOhG,MAAOzC,KAAKiC,MAAM+C,SAAS9B,KAAMC,SAAUnD,KAAKoK,aACnF,4BAAQ3H,MAAM,OAAd,OACA,4BAAQA,MAAM,UAAd,UACA,4BAAQA,MAAM,UAAd,UACA,4BAAQA,MAAM,WAAd,WACA,4BAAQA,MAAM,MAAd,2BACA,4BAAQA,MAAM,WAAd,WACA,4BAAQA,MAAM,YAAd,aAEF,2BAAOqI,QAAQ,IAAf,SACA,2BAAO5H,KAAK,OAAOzC,KAAK,YAAYgC,MAAOzC,KAAKiC,MAAM+C,SAASgE,UAAW7F,SAAUnD,KAAKoK,cACzF,2BAAOU,QAAQ,IAAf,SACA,2BAAO5H,KAAK,OAAOzC,KAAK,UAAUgC,MAAOzC,KAAKiC,MAAM+C,SAASiE,QAAS9F,SAAUnD,KAAKoK,cACrF,2BAAOU,QAAQ,IAAf,SACA,2BAAOE,MAAM,UACb,2BAAO9H,KAAK,WAAWzC,KAAK,QAAQ4J,QAASrK,KAAKiC,MAAM+C,SAASkE,MAAO/F,SAAUnD,KAAKoK,cACvF,0BAAMY,MAAM,kBAEZ,4BAAQhI,UAAU,mBAAlB,SAGF,4BAAQA,UAAU,iBAAiBc,QAAS9D,KAAKqL,gBAAjD,e,GA7FmBtJ,aCqEZwJ,E,YA3Db,WAAYzJ,GAAQ,IAAD,8BACjB,4CAAMA,KAEDG,MAAQ,CACXsC,SAAU,EAAKzC,MAAMyC,UAJN,E,iFAQE,IAAD,OAClByB,OAAOC,SAAS,EAAG,GADD,IAEX7B,EAAMpE,KAAK8B,MAAM2H,MAAMC,OAAvBtF,GACP2C,EAAgB4C,OAAOvF,GACpBvD,MAAM,SAAC0D,GACN,EAAKpC,SAAS,CAACoC,gBAEhBnC,OAAO,SAACC,GAAD,OAASC,QAAQC,IAAIF,Q,+BAGvB,IAAD,OACDkC,EAAWvE,KAAKiC,MAAMsC,SAE5B,OACE,yBAAKvB,UAAU,WACb,4BAAQA,UAAU,WAAWc,QAAS,kBAAM,EAAKhC,MAAM+G,QAAQC,KAAK,mBAClE,yBAAKnF,IAAK,aAAcX,UAAU,YAAYY,IAAI,MAGlDW,EAEE,yBAAKvB,UAAU,iBACb,yBAAKA,UAAU,yBACb,yBAAKA,UAAU,mBACb,4BAAKuB,EAASK,OACd,kBAAC,IAAD,CAAMxB,GAAE,wBAAmBmB,EAASI,IAA5B,UAAwC,4BAAQ3B,UAAU,gBAAlB,UAEpD,8BAAOuB,EAASM,SAAhB,UAAiCN,EAASkC,QAE1C,uBAAGzD,UAAU,8BAA8BuB,EAASkB,aACnDlB,EAASO,UAAUC,KAAK,SAAAC,GACvB,OACE,yBAAKhC,UAAU,2BAA2BwB,IAAKC,IAAQC,YACrD,4BAAKM,EAASJ,OACd,0BAAM5B,UAAS,oBAAegC,EAAS9B,OAAS8B,EAAS9B,MACzD,2BAAI8B,EAASS,aACb,2BAAG,2CAAyBT,EAASyB,YAM7C,U,GApDkB1E,aCqLfyJ,E,2MAvLbvJ,MAAQ,CACNsC,SAAU,GACVoC,WAAY,GACZ8E,kBAAmB,GACnBlL,KAAM,I,EAGR6J,YAAc,SAAA7G,GAAM,IAAD,EACOA,EAAER,OAAlBtC,EADS,EACTA,KAAMgC,EADG,EACHA,MACRiJ,EAAe,EAAKzJ,MAAMsC,SAChCmH,EAAajL,GAAQgC,EACrB,EAAKN,SAAS,CAAEoC,SAAUmH,K,EAG5BC,aAAe,SAACpI,GACdA,EAAEV,iBACF,IAAMuB,EAAK,EAAKnC,MAAMsC,SAASI,IAFX,EAG4B,EAAK1C,MAAMsC,SAAnDK,EAHY,EAGZA,MAAOa,EAHK,EAGLA,YAAaZ,EAHR,EAGQA,SAAU4B,EAHlB,EAGkBA,MAEtCmF,EAAiBT,UAAU,CAAEvG,QAAOa,cAAaZ,WAAU4B,SAASrC,GACjEvD,MAAM,SAACgG,GACN,EAAK1E,SAAS,CAAEoC,SAAUsC,IAC1B,EAAK/E,MAAM+G,QAAQC,KAAnB,wBAAyC1E,OAE1ChC,OAAO,SAACC,GAAD,OAASC,QAAQC,IAAIF,O,EAGjCwJ,kBAAoB,SAACtI,GACnBA,EAAEV,iBACF,IAAM8D,EAAa,EAAK1E,MAAMsC,SAASI,IACvCiH,EAAiBN,UAAU3E,GACxB9F,MAAM,kBAAM,EAAKiB,MAAM+G,QAAQC,KAAK,oBACpC1G,OAAO,SAACC,GAAD,OAASC,QAAQC,IAAIF,O,EAGjCwD,YAAc,SAACe,GACb,IAAMD,EAAa,EAAK1E,MAAMsC,SAASI,IACvCiH,EAAiB/F,YAAYc,EAAYC,GACtC/F,MAAM,SAACiL,GACN,IAAML,EAAoBK,EAAOhL,KAAKgE,UACtC,EAAK3C,SAAS,CAACsJ,yBAEhBrJ,OAAO,SAACC,GAAD,OAASC,QAAQC,IAAIF,O,EAGjC0J,2BAA6B,SAACnF,GAC5BgF,EAAiBP,eAAe,EAAKpJ,MAAMsC,SAASI,IAAKiC,GACtD/F,MAAM,SAACC,GACN,IAAM2K,EAAoB3K,EAAKgE,UAC/B,EAAK3C,SAAS,CAACsJ,yBAEhBrJ,OAAO,SAACC,GAAD,OAASC,QAAQC,IAAIF,O,mFAGZ,IAAD,OAClB2D,OAAOC,SAAS,EAAE,GASlB2F,EAAiBzL,OAAO,CAACyE,MALX,IAKkBa,YAJZ,IAIyBZ,SAH5B,IAGsC4B,MAFzC,MAGX5F,MAAM,SAAC2F,GACNnB,EAAea,UACZrF,MAAM,SAACsF,GACN,EAAKhE,SAAS,CAACoC,SAAUiC,EACXG,WAAYH,EAAY7B,IACxB8G,kBAAmBjF,EAAY1B,UAC/BvE,KAAM4F,OAGrB/D,OAAO,SAACC,GAAD,OAASC,QAAQC,IAAIF,W,+BAI3B,IAAD,OACDkC,EAAWvE,KAAKiC,MAAMsC,SACtBkH,EAAoBzL,KAAKiC,MAAMwJ,kBAC/BrF,EAAgBpG,KAAKiC,MAAM1B,KAAKuE,UAChCS,EAAiBvF,KAAKiC,MAAM1B,KAAKgF,eAGvC,OACE,0BAAMvC,UAAU,WACd,4BAAQA,UAAU,WAAWc,QAAS,kBAAM,EAAKhC,MAAM+G,QAAQiB,WAC7D,yBAAKnG,IAAK,aAAcX,UAAU,YAAYY,IAAI,MAEpD,yBAAKZ,UAAU,iBACb,6BAASA,UAAU,uBACjB,0BAAMC,SAAUjD,KAAK2L,cACnB,2BAAOb,QAAQ,IAAf,SACA,2BAAO5H,KAAK,OAAOT,MAAO8B,EAASK,MAAOnE,KAAK,QAAQ0C,SAAUnD,KAAKoK,cACtE,2BAAOU,QAAQ,IAAf,eACA,8BAAUrI,MAAO8B,EAASkB,YAAahF,KAAK,cAAc0C,SAAUnD,KAAKoK,cACzE,2BAAOU,QAAQ,IAAf,YACA,2BAAO5H,KAAK,SAAST,MAAO8B,EAASM,SAAUpE,KAAK,WAAW0C,SAAUnD,KAAKoK,cAC9E,2BAAOU,QAAQ,IAAf,SACA,4BAAQrK,KAAK,QAAQgI,IAAI,QAAQhG,MAAOzC,KAAKiC,MAAMsC,SAASkC,MAAOtD,SAAUnD,KAAKoK,aAChF,4BAAQ3H,MAAM,IAAd,KACA,4BAAQA,MAAM,OAAd,OACA,4BAAQA,MAAM,cAAd,cACA,4BAAQA,MAAM,SAAd,SACA,4BAAQA,MAAM,YAAd,aAEF,4BAAQO,UAAU,mBAAlB,QACA,4BAAQA,UAAU,MAAMc,QAAS,kBAAM,EAAKhC,MAAM+G,QAAQiB,WAA1D,QACA,4BAAQ9G,UAAU,MAAMc,QAAS9D,KAAK6L,mBAAtC,WAEF,yBAAK7I,UAAU,kBAEXyI,EAEIA,EAAkB1G,KAAK,SAACC,EAAUgH,GAChC,OACE,yBAAKhJ,UAAU,2BAA2BwB,IAAKwH,GAC7C,yBAAKhJ,UAAU,qCACb,4BAAKgC,EAASJ,OACd,0BAAM5B,UAAS,oBAAegC,EAAS9B,OAAS8B,EAAS9B,MACzD,2BAAI8B,EAASS,aACb,2BAAG,2CAAyBT,EAASyB,QAEvC,yBAAKzD,UAAU,qCACb,4BAAQA,UAAU,WAAWc,QAAS,kBAAM,EAAKiI,2BAA2B/G,EAASL,OACnF,yBAAKhB,IAAK,WAAYC,IAAI,kBAAkBZ,UAAU,2BASlE,OAIR,6BAASA,UAAU,iCAEfoD,EACI,+CAAqBA,EAAchB,OAAnC,KACA,kDAEJgB,EAEM,kBAAC,EAAD,CACEtB,UAAWsB,EACXT,OAAQ3F,KAAKiC,MAAM1B,KAAKoE,IACxBiB,gBAAgB,EAChBC,YAAa7F,KAAK6F,cAGpB,MAGV,6BAAS7C,UAAU,kCAEfuC,EACI,gDAAsBA,EAAeH,OAArC,KACA,mDAGJG,EAEI,kBAAC,EAAD,CACET,UAAWS,EACXI,OAAQ3F,KAAKiC,MAAM1B,KAAKoE,IACxBiB,gBAAgB,EAChBC,YAAa7F,KAAK6F,cAGtB,Y,GA/KU9D,a,QC+GXkK,G,YA9Gb,WAAYnK,GAAQ,IAAD,8BACjB,4CAAMA,KAmCRoJ,eAAiB,SAAC3H,GAChBA,EAAEV,iBACF,IAAMuB,EAAK,EAAKnC,MAAM+C,SAASL,IAFT,EAGyD,EAAK1C,MAAM+C,SAAnFJ,EAHe,EAGfA,MAAOa,EAHQ,EAGRA,YAAaZ,EAHL,EAGKA,SAAU4B,EAHf,EAGeA,MAAOvD,EAHtB,EAGsBA,KAAM8F,EAH5B,EAG4BA,UAAWC,EAHvC,EAGuCA,QAASC,EAHhD,EAGgDA,MACtEH,EAAiBoC,UAAU,CAACvG,QAAOa,cAAaZ,WAAU4B,QAAOvD,OAAM8F,YAAWC,UAASC,SAAQ9E,GAChGvD,MAAM,SAACuK,GACN,EAAKtJ,MAAMoK,aAAad,GACxB,EAAKtJ,MAAMqK,WAEZ/J,OAAO,SAACC,GAAD,OAASC,QAAQC,IAAIF,OA7Cd,EAgDnBS,aAAe,SAAAS,GACbA,EAAEV,iBADgB,MAGMU,EAAER,OAAlBtC,EAHU,EAGVA,KAAMgC,EAHI,EAGJA,MACdH,QAAQC,IAAI9B,EAAKgC,GAEjB,IAAM6H,EAAe,EAAKrI,MAAM+C,SAChCsF,EAAa7J,GAAQgC,EACR,aAAThC,EACF,EAAK0B,SAAS,CAAE6C,SAAUsF,EAAc8B,WAAY3L,IAEpD,EAAK0B,SAAS,CAAE6C,SAAUsF,KAxD5B,EAAKrI,MAAQ,CACX+C,SAAU,KACVoH,gBAAYC,GAGd,EAAKC,WAAa,CAChB1H,MAAOzD,IAAMoL,YACb9G,YAAatE,IAAMoL,YACnB1H,SAAU1D,IAAMoL,YAChB9F,MAAOtF,IAAMoL,YACbrJ,KAAM/B,IAAMoL,YACZvD,UAAW7H,IAAMoL,YACjBtD,QAAS9H,IAAMoL,YACfrD,MAAO/H,IAAMoL,aAIf,EAAKC,eAAiB,EAAKA,eAAeC,KAApB,gBApBL,E,8EAwBA,IACTL,EAAepM,KAAKiC,MAApBmK,WACR,GAAIA,EAAY,CAEd,IAAMM,EAAe1M,KAAKsM,WAAWF,GAAYO,QAEjDD,EAAaE,QACbF,EAAaG,eAAiBH,EAAajK,MAAM2C,U,2CAiCnDpF,KAAKwM,mB,0CAIL,IAAMxH,EAAWhF,KAAK8B,MAAMkD,SAC5BhF,KAAKmC,SAAS,CAAC6C,e,+BAKf,OACE,yBAAKhC,UAAchD,KAAK8B,MAAMgL,YAAc,qBAAuB,uBAAwBtI,IAAKC,IAAQC,YACtG,yBAAK1B,UAAU,0BAA0Bc,QAAS9D,KAAK8B,MAAMqK,QAE7D,yBAAKnJ,UAAU,iCACb,6CACA,4BAAQA,UAAU,gBAAgBc,QAAS9D,KAAK8B,MAAMqK,OAAtD,KAE0B,OAAxBnM,KAAKiC,MAAM+C,SACX,uCAEE,0BAAM/B,SAAUjD,KAAKkL,eAAgB1G,IAAI,SACvC,2BAAOsG,QAAQ,IAAf,SACA,2BAAO5H,KAAK,OAAOT,MAAOzC,KAAKiC,MAAM+C,SAASJ,MAAOnE,KAAK,QAAQ0C,SAAUnD,KAAK8C,aAAc2F,IAAKzI,KAAKsM,WAAL,QACpG,2BAAOxB,QAAQ,IAAf,eACA,8BAAUrI,MAAOzC,KAAKiC,MAAM+C,SAASS,YAAahF,KAAK,cAAc0C,SAAUnD,KAAK8C,aAAe2F,IAAKzI,KAAKsM,WAAL,cACxG,2BAAOxB,QAAQ,IAAf,YACA,2BAAO5H,KAAK,SAAST,MAAOzC,KAAKiC,MAAM+C,SAASH,SAAUpE,KAAK,WAAW0C,SAAUnD,KAAK8C,eACzF,2BAAOgI,QAAQ,IAAf,SACA,2BAAO5H,KAAK,OAAQT,MAAOzC,KAAKiC,MAAM+C,SAASyB,MAAOhG,KAAK,QAAQ0C,SAAUnD,KAAK8C,aAAe2F,IAAKzI,KAAKsM,WAAL,QACtG,2BAAOxB,QAAQ,IAAf,QACA,2BAAO5H,KAAK,OAAQT,MAAOzC,KAAKiC,MAAM+C,SAAS9B,KAAMzC,KAAK,OAAO0C,SAAUnD,KAAK8C,aAAe2F,IAAKzI,KAAKsM,WAAL,OACpG,2BAAOxB,QAAQ,IAAf,SACA,2BAAO5H,KAAK,OAAOzC,KAAK,YAAYgC,MAAOzC,KAAKiC,MAAM+C,SAASgE,UAAW7F,SAAUnD,KAAK8C,aAAe2F,IAAKzI,KAAKsM,WAAL,YAC7G,2BAAOxB,QAAQ,IAAf,SACA,2BAAO5H,KAAK,OAAOzC,KAAK,UAAUgC,MAAOzC,KAAKiC,MAAM+C,SAASiE,QAAS9F,SAAUnD,KAAK8C,aAAe2F,IAAKzI,KAAKsM,WAAL,UACzG,4BAAQtJ,UAAU,mBAAlB,e,GAtGmBjB,aC4NpBgL,G,2MAxNb9K,MAAQ,CACNsC,SAAU,GACVkH,kBAAmB,GACnBlL,KAAM,GACNyM,UAAU,EACVC,eAAgB,KAChBrI,MAAO,GACPa,YAAa,GACbZ,SAAU,GACV4B,MAAO,GACPvD,KAAM,GACN8F,UAAW,GACXC,QAAS,GACTC,MAAO,I,EAGTkB,YAAc,SAAA7G,GAAM,IAAD,EACOA,EAAER,OAAlBtC,EADS,EACTA,KAAMgC,EADG,EACHA,MACRiJ,EAAe,EAAKzJ,MAAMsC,SAChCmH,EAAajL,GAAQgC,EACrB,EAAKN,SAAS,CAAEoC,SAAUmH,K,EAG5BwB,eAAiB,SAAC3J,GAChBA,EAAEV,iBACF,IAAMuB,EAAK,EAAKnC,MAAMsC,SAASI,IAFT,EAG0B,EAAK1C,MAAMsC,SAAnDK,EAHc,EAGdA,MAAOa,EAHO,EAGPA,YAAaZ,EAHN,EAGMA,SAAU4B,EAHhB,EAGgBA,MAEtCmF,EAAiBT,UAAU,CAAEvG,QAAOa,cAAaZ,WAAU4B,SAASrC,GACjEvD,MAAM,SAACgG,GACN,EAAK1E,SAAS,CAAEoC,SAAUsC,IAC1B,EAAK/E,MAAM+G,QAAQC,KAAnB,wBAAyC1E,OAE1ChC,OAAO,SAACC,GAAD,OAASC,QAAQC,IAAIF,O,EAGjC6J,aAAe,SAACiB,GACd,IAAMC,EAAW,EAAKnL,MAAMwJ,kBAEtB4B,EAAkBD,EAAShF,QAAQ,SAACpD,EAAUgH,GAClD,GAAIhH,EAASL,MAAQwI,EAAUxI,IAC7B,OAAOqH,KAIXoB,EAASC,GAAmBF,EAC5B,EAAKhL,SAAS,CAACsJ,kBAAmB2B,K,EAIpCvH,YAAc,SAACe,GACb,IAAMD,EAAa,EAAK1E,MAAMsC,SAASI,IAEvCiH,EAAiB/F,YAAYc,EAAYC,GACtC/F,MAAM,SAACiL,GACN,IAAML,EAAoBK,EAAOhL,KAAKgE,UACtC,EAAK3C,SAAS,CAACsJ,yBAEhBrJ,OAAO,SAACC,GAAD,OAASC,QAAQC,IAAIF,O,EAGjCiL,eAAiB,SAAC/J,GAChBA,EAAEV,iBACF,IAAM8D,EAAa,EAAK1E,MAAMsC,SAASI,IACvCiH,EAAiBN,UAAU3E,GACxB9F,MAAM,kBAAM,EAAKiB,MAAM+G,QAAQC,KAAK,oBACpC1G,OAAO,SAACC,GAAD,OAASC,QAAQC,IAAIF,O,EAGjC0J,2BAA6B,SAACnF,GAC5BtE,QAAQC,IAAI,MACZqJ,EAAiBP,eAAe,EAAKpJ,MAAMsC,SAASI,IAAKiC,GACtD/F,MAAM,SAACC,GACN,IAAM2K,EAAoB3K,EAAKgE,UAC/B,EAAK3C,SAAS,CAACsJ,yBAEhBrJ,OAAO,SAACC,GAAD,OAASC,QAAQC,IAAIF,O,EAGjCkL,WAAa,SAACvI,GACZ,IAAMwI,GAAQ,EAAKvL,MAAM+K,SACzB,EAAK7K,SACH,CAAC6K,SAAUQ,EACXP,eAAgBjI,K,mFAIC,IAAD,OAClBgB,OAAOC,SAAS,EAAG,GADD,IAEX7B,EAAMpE,KAAK8B,MAAM2H,MAAMC,OAAvBtF,GAEPwH,EAAiBjC,OAAOvF,GACrBvD,MAAM,SAAC0D,GACNc,EAAea,UACZrF,MAAM,SAACsF,GACN,EAAKhE,SAAS,CAACoC,WAAUkH,kBAAmBlH,EAASO,UAAWvE,KAAM4F,OAEvE/D,OAAO,SAACC,GAAD,OAASC,QAAQC,IAAIF,W,+BAK3B,IAAD,OACDkC,EAAWvE,KAAKiC,MAAMsC,SACtBkH,EAAoBzL,KAAKiC,MAAMwJ,kBAC/BrF,EAAgBpG,KAAKiC,MAAM1B,KAAKuE,UAChCS,EAAiBvF,KAAKiC,MAAM1B,KAAKgF,eAEvC,OACE,0BAAMvC,UAAU,WACd,4BAAQA,UAAU,WAAWc,QAAS,kBAAM,EAAKhC,MAAM+G,QAAQiB,WAC7D,yBAAKnG,IAAK,aAAcX,UAAU,YAAYY,IAAI,MAEpD,yBAAKZ,UAAU,iBACZhD,KAAKiC,MAAM+K,SAER,kBAAC,GAAD,CACEF,YAAa9M,KAAKiC,MAAM+K,SACxBb,MAAOnM,KAAKuN,WACZrB,aAAclM,KAAKkM,aACnBlH,SAAUhF,KAAKiC,MAAMgL,iBAGxB,KAGH,6BAASjK,UAAU,uBACjB,0BAAMC,SAAUjD,KAAKkN,gBACnB,2BAAOpC,QAAQ,IAAf,SACA,2BAAO5H,KAAK,OAAOT,MAAO8B,EAASK,MAAOnE,KAAK,QAAQ0C,SAAUnD,KAAKoK,cACtE,2BAAOU,QAAQ,IAAf,eACA,8BAAUrI,MAAO8B,EAASkB,YAAahF,KAAK,cAAc0C,SAAUnD,KAAKoK,cACzE,2BAAOU,QAAQ,IAAf,YACA,2BAAO5H,KAAK,SAAST,MAAO8B,EAASM,SAAUpE,KAAK,WAAW0C,SAAUnD,KAAKoK,cAC9E,2BAAOU,QAAQ,IAAf,SACA,4BAAQrK,KAAK,QAAQgI,IAAI,QAAQhG,MAAOzC,KAAKiC,MAAMsC,SAASkC,MAAOtD,SAAUnD,KAAKoK,aAChF,4BAAQ3H,MAAM,OAAd,OACA,4BAAQA,MAAM,cAAd,cACA,4BAAQA,MAAM,SAAd,SACA,4BAAQA,MAAM,YAAd,aAEF,4BAAQO,UAAU,mBAAlB,QACA,4BAAQA,UAAU,iBAAiBc,QAAS9D,KAAKsN,gBAAjD,oBAEF,yBAAKtK,UAAU,kBAEXyI,EAEIA,EAAkB1G,KAAK,SAACC,EAAUgH,GAChC,OACE,yBAAKhJ,UAAU,2BAA2BwB,IAAKwH,GAC7C,yBAAKhJ,UAAU,qCACb,4BAAKgC,EAASJ,OACd,8BAAOI,EAASH,SAAhB,MAA4B,0BAAM7B,UAAS,oBAAegC,EAAS9B,OAAS8B,EAAS9B,OACrF,2BAAG,2CAAyB8B,EAASyB,OACrC,2BAAIzB,EAASS,cAEf,yBAAKzC,UAAU,qCACb,4BAAQA,UAAU,eAAec,QAAS,kBAAM,EAAKyJ,WAAWvI,KAAhE,QACA,4BAAQhC,UAAU,WAAWc,QAAS,kBAAM,EAAKiI,2BAA2B/G,EAASL,OACnF,yBAAKhB,IAAK,WAAYC,IAAI,kBAAkBZ,UAAU,2BASlE,OAIR,6BAASA,UAAU,iCAEfoD,EACI,+CAAqBA,EAAchB,OAAnC,KACA,kDAEJgB,EAEM,kBAAC,EAAD,CACEtB,UAAWsB,EACXT,OAAQ3F,KAAKiC,MAAM1B,KAAKoE,IACxBiB,gBAAgB,EAChBC,YAAa7F,KAAK6F,cAGpB,MAGV,6BAAS7C,UAAU,kCAEfuC,EACI,gDAAsBA,EAAeH,OAArC,KACA,mDAGJG,EAEI,kBAAC,EAAD,CACET,UAAWS,EACXI,OAAQ3F,KAAKiC,MAAM1B,KAAKoE,IACxBiB,gBAAgB,EAChBC,YAAa7F,KAAK6F,cAGtB,Y,GAjNW9D,aCsBrB0L,I,iNAEJxL,MAAQ,CACNyL,aAAc,I,EAGhBC,aAAe,SAACpK,EAAG4D,GACjB5D,EAAEV,iBACF,EAAKf,MAAM+G,QAAQC,KAAnB,2BAA4C3B,K,wEAI5C,OACE,yBAAKnE,UAAU,OAEb,kBAAC,EAAD,CAAWS,OAAQzD,KAAK2N,eAExB,kBAAC,EAAD,MACA,kBAAC,IAAD,KACE,kBAAC,EAAD,CAAWC,OAAK,EAACC,KAAK,UAAU9J,UAAW+J,IAC3C,kBAAC,EAAD,CAAWF,OAAK,EAACC,KAAK,SAAS9J,UAAWgK,IAE1C,kBAAC,EAAD,CAAcH,OAAK,EAACC,KAAK,IAAI9J,UAAWiK,IAExC,kBAAC,EAAD,CAAcJ,OAAK,EAACC,KAAK,WAAW9J,UAAWkK,IAC/C,kBAAC,EAAD,CAAcL,OAAK,EAACC,KAAK,gBAAgB9J,UAAW+C,IACpD,kBAAC,EAAD,CAAc8G,OAAK,EAACC,KAAK,YAAY9J,UAAW2D,IAIhD,kBAAC,EAAD,CAAckG,OAAK,EAACC,KAAK,wBAAwB9J,UAAWoG,IAC5D,kBAAC,EAAD,CAAcyD,OAAK,EAACC,KAAK,gBAAgB9J,UAAW4E,IACpD,kBAAC,EAAD,CAAciF,OAAK,EAACC,KAAK,eAAe9J,UAAWsF,IACnD,kBAAC,EAAD,CAAcuE,OAAK,EAACC,KAAK,oBAAoB9J,UAAWkH,IAGxD,kBAAC,EAAD,CAAc2C,OAAK,EAACC,KAAK,6BAA6B9J,UAAWyH,IACjE,kBAAC,EAAD,CAAcoC,OAAK,EAACC,KAAK,oBAAoB9J,UAAWwH,IACxD,kBAAC,EAAD,CAAcqC,OAAK,EAACC,KAAK,yBAAyB9J,UAAWgJ,KAG7D,kBAAC,EAAD,CAAca,OAAK,EAACC,KAAK,gBAAgB9J,UAAWsF,U,GAzC5CtH,cAiDHmM,eAAWT,ICzE1BU,IAASlK,OACP,kBAAC,IAAD,KACE,kBAAC,EAAD,KACE,kBAAC,GAAD,QAGJmK,SAASC,eAAe,W","file":"static/js/main.1688457a.chunk.js","sourcesContent":["import axios from 'axios';\n\nclass Auth {\n  constructor() {\n    this.auth = axios.create({\n      baseURL: process.env.REACT_APP_API_URL,\n      withCredentials: true,\n    });\n  }\n\n  signup(user) {\n    const { email, name, lastName, password } = user;\n    return this.auth.post('/auth/signup', { email, name, lastName, password })\n      .then(({ data }) => data);\n  }\n\n  login(user) {\n    const { email, password } = user;\n    return this.auth.post('/auth/login', { email, password })\n      .then(({ data }) => data);\n  }\n\n  logout() {\n    return this.auth.post('/auth/logout', {})\n      .then(response => response.data);\n  }\n\n  edit(updatedUser) {\n    const { email, name, lastName, password } = updatedUser;\n    return this.auth\n      .put('/auth/me', { email, name, lastName, password })\n      .then(response => response.data);\n  }\n\n  me() {\n    return this.auth\n      .get('/auth/me')\n      .then(response => response.data);\n  }\n}\n\nconst axiosRequestFunctions = new Auth();\n\nexport default axiosRequestFunctions;\n","//\tservices\n//AuthProvider.js\n\nimport React from 'react';\nimport authService from './auth-service'; // IMPORT functions for axios requests to API\nconst { Consumer, Provider } = React.createContext();\n\n// HOC to create Consumer\nconst withAuth = WrappedComponent => {\n  return class extends React.Component {\n    render() {\n      return (\n        <Consumer>\n          {/* <Consumer> component provides callback which receives Providers \"value\" object */}\n          {/* (value) => { <WrappedComponent />}  */}\n          {({ login, signup, user, logout, isLoggedin, isLoading }) => {\n            return (\n              <WrappedComponent\n                login={login}\n                signup={signup}\n                user={user}\n                logout={logout}\n                isLoggedin={isLoggedin}\n                isLoading={isLoading}\n                {...this.props}\n              />\n            );\n          }}\n        </Consumer>\n      );\n    }\n  };\n};\n\n// Provider\nclass AuthProvider extends React.Component {\n  state = { \n    isLoggedin: false, \n    user: null, \n    isLoading: true \n  };\n\n  componentDidMount() {\n    authService.me()\n      .then(user =>\n        this.setState({ isLoggedin: true, user: user, isLoading: false }),\n      )\n      .catch(err =>\n        this.setState({ isLoggedin: false, user: null, isLoading: false }),\n      );\n  }\n\n  signup = user => {\n    const { email, name, lastName, password } = user;\n\n    authService.signup({ email, name, lastName, password })\n      .then(user => this.setState({ isLoggedin: true, user }))\n      .catch(err => console.log(err));\n  };\n\n  login = user => {\n    const { email, password } = user;\n\n    authService.login({ email, password })\n      .then(user => this.setState({ isLoggedin: true, user }))\n      .catch(err => console.log(err));\n  };\n\n  logout = () => {\n    authService.logout()\n      .then(() => this.setState({ isLoggedin: false, user: null }))\n      .catch(err => console.log(err));\n  };\n\n  render() {\n    const { isLoading, isLoggedin, user } = this.state;\n    const { login, logout, signup } = this;\n\n    return (\n      <Provider value={{ isLoading, isLoggedin, user, login, logout, signup }}>\n        {this.props.children}\n      </Provider>\n    );\n  }\n}\n\nexport { Consumer, withAuth };\n\nexport default AuthProvider;\n","import React, { Component } from 'react';\nimport { Link } from 'react-router-dom';\nimport { withAuth } from '../services/AuthProvider';\n\nclass Signup extends Component {\n  state = { \n    email: '', \n    name: '',\n    lastName: '',\n    password: '' \n  };\n\n  handleFormSubmit = event => {\n    event.preventDefault();\n    const { email, name, lastName, password } = this.state;\n    //  console.log('Signup -> form submit', { username, password });\n    this.props.signup({ email, name, lastName, password }); // props.signup is Provided by withAuth() and Context API\n  };\n\n  handleChange = event => {\n    const { name, value } = event.target;\n    this.setState({ [name]: value });\n  };\n\n  render() {\n    const { email, name, lastName, password } = this.state;\n    return (\n      <div className=\"auth-container\">\n        <h1>Sign Up</h1>\n        <form onSubmit={this.handleFormSubmit}>\n          <label>Email:</label>\n          <input\n            type=\"email\"\n            name=\"email\"\n            value={email}\n            onChange={this.handleChange}\n          />\n          <label>Name:</label>\n          <input\n            type=\"text\"\n            name=\"name\"\n            value={name}\n            onChange={this.handleChange}\n          />\n\n          <label>Last name:</label>\n          <input\n            type=\"text\"\n            name=\"lastName\"\n            value={lastName}\n            onChange={this.handleChange}\n          />\n\n          <label>Password:</label>\n          <input\n            type=\"password\"\n            name=\"password\"\n            value={password}\n            onChange={this.handleChange}\n          />\n\n          <input className=\"submit-btn\" type=\"submit\" value=\"Signup\" />\n        </form>\n\n        <p>Already have account?</p>\n        <Link to={'/login'}> Login</Link>\n      </div>\n    );\n  }\n}\n\nexport default withAuth(Signup);\n","import React, { Component } from 'react';\nimport { withAuth } from '../services/AuthProvider';\nimport { Link } from 'react-router-dom';\n\nclass Login extends Component {\n  state = { \n    email: '', \n    password: ''\n  };\n\n  handleFormSubmit = event => {\n    event.preventDefault();\n    const { email, password } = this.state;\n    this.props.login({ email, password });\n  };\n\n  handleChange = event => {\n    const { name, value } = event.target;\n    this.setState({ [name]: value });\n  };\n\n  render() {\n    const { email, password } = this.state;\n\n    return (\n      <div className=\"auth-container\">\n        <h1>Login</h1>\n        <form onSubmit={this.handleFormSubmit}>\n          <label>Email:</label>\n          <input\n            type=\"email\"\n            name=\"email\"\n            value={email}\n            onChange={this.handleChange}\n          />\n\n          <label>Password:</label>\n          <input\n            type=\"password\"\n            name=\"password\"\n            value={password}\n            onChange={this.handleChange}\n          />\n\n          <input className=\"submit-btn\" type=\"submit\" value=\"Login\" />\n          <p>Not a user yet?</p>\n          <Link to={'/signup'}>Sign up</Link>\n        </form>\n      </div>\n    );\n  }\n}\n\nexport default withAuth(Login);\n","import React, { Component } from 'react';\nimport { withAuth } from '../services/AuthProvider';\n\nclass SearchBar extends Component {\n  state = {\n    search: ''\n  }\n\n  handleSearch = (e) => {\n    const { value } = e.target;\n    this.setState({search: value})\n  }\n\n  searchSubmit = (e) => {\n    this.props.submit(e,this.state.search);\n    this.setState({search: ''});\n  }\n\n  render() {\n    const { user, logout, isLoggedin } = this.props;\n    return (\n      <div>\n        {isLoggedin ? \n          (\n            <nav>\n              <form onSubmit={(e) => this.searchSubmit(e)}>\n                <input \n                  type=\"text\" \n                  value={this.state.search} \n                  name=\"search\"\n                  onChange={this.handleSearch}\n                  placeholder=\"Search by title...\"/>\n              </form>  \n              <p>Hi {user.name}</p>\n            </nav>\n          ) \n          : null\n        }\n      </div>\n      \n    )\n  }\n}\n\nexport default withAuth(SearchBar);","import React, { Component } from 'react';\nimport {Â NavLink } from 'react-router-dom';\nimport { withAuth } from '../services/AuthProvider';\n\nclass SideMenu extends Component {\n  render() {\n    const { user, logout, isLoggedin } = this.props;\n    return (     \n      <div>\n        {isLoggedin ?\n        (\n          <section className=\"sidebar\">\n            <img className=\"logo\" src=\"\" alt=\"logo\"/>\n            <div className=\"sidebar__links-wrapper\">\n              <NavLink to=\"/profile\" activeClassName=\"selected\"><h4>Profile</h4></NavLink>\n              <NavLink to=\"/my-trainings\" activeClassName=\"selected\"><h4>My trainings</h4></NavLink>\n              <NavLink to=\"/discover\" activeClassName=\"selected\"><h4>Discover</h4></NavLink>\n              <NavLink to=\"#\" ><h4>Articles</h4></NavLink>\n              <button onClick={this.props.logout}>Logout</button>\n            </div>\n          </section>\n        )\n        : null}\n      </div>\n      \n    )\n  }\n}\n\nexport default withAuth(SideMenu);","import React from 'react';\nimport { Route, Redirect } from 'react-router-dom';\nimport { withAuth } from '../services/AuthProvider';\n\nfunction PrivateRoute({ component: Component, isLoggedin, isLoading, ...rest }) {\n\n  if (isLoading) {\n    return <h1>Loading</h1>\n  }\n  else {\n    return (\n      <Route\n        {...rest}\n        render={props =>\n          isLoggedin ? <Component {...props} />: <Redirect to=\"/login\" />\n        }\n      />\n    );\n  }\n}\n\nexport default withAuth(PrivateRoute);\n","import axios from 'axios';\n\nclass Profile {\n  constructor() {\n    this.profile = axios.create({\n      baseURL: process.env.REACT_APP_API_URL + '/profile',\n      withCredentials: true,\n    });\n  }\n\n  getUser() {\n    return this.profile\n          .get('/')\n          .then(({ data }) => data);\n  }\n\n  unsaveExercise(id) {\n    return this.profile\n          .put(`/${id}`)\n          .then(({ data }) => data);\n  }\n}\n\nconst ProfileService = new Profile();\n\nexport default ProfileService;\n  ","import React, { Component } from 'react';\nimport shortid from 'shortid';\nimport { Link } from 'react-router-dom';\n\nclass TrainingCard extends Component {\n  constructor(props) {\n    super(props);\n\n    this.state = {\n      userTraining: this.props.training\n    }\n  }\n  render() {\n    const training = this.state.userTraining;\n\n    return(\n      <div className=\"training-card\" key={shortid.generate()}>\n        <Link to={`/my-trainings/${training._id}`}>\n          <div className=\"training-card__header\">\n            <h4>{training.title}</h4>\n            <span>{training.duration} min</span>\n          </div>\n            {training.exercises.map( exercise => {\n              return (\n                <div className=\"training-card__exercise\" key={shortid.generate()}>\n                  <p>{exercise.title}</p>\n                  <span className={`item-type ${exercise.type}`}>{exercise.type}</span>\n                </div>\n              )\n            })}\n        </Link>\n      </div>\n    )\n\n  }\n}\n\nexport default TrainingCard;","import React, { Component } from 'react';\nimport shortid from 'shortid';\nimport { Link } from 'react-router-dom';\n\nimport profileService from './../services/profile-service';\n\nimport './../styles/dashboard.scss';\n\nclass ExerciseList extends Component {\n  constructor(props) {\n    super(props);\n\n    this.state = {\n      exerciseArr: this.props.exercises,\n      listLength: this.props.exercises.length\n    }\n  }\n\n  unsaveExercise(id) {\n    \n    profileService.unsaveExercise(id)\n      .then( (user) => {\n        const savedExercises = user.savedExercises;\n        this.props.updateLength();\n        this.setState({exerciseArr: savedExercises});\n      })\n      .catch( (err) => console.log(err));\n  }\n\n  render() {\n    const exerciseArr = this.state.exerciseArr;\n    return(\n      <div className=\"list-container\">\n        {exerciseArr.map( exercise => {\n          return (\n            <div>\n              <div className=\"list-container__item\" key={shortid.generate()}>\n                <Link to={`/profile/${exercise._id}`}>\n                  <p>{exercise.title}</p>\n                  <span className={`item-type ${exercise.type}`}>{exercise.type}</span>\n                  <p>{exercise.description}</p>\n                  {\n                    (exercise.author._id !== this.props.userId) ?\n                    (\n                      <div>\n                        <p><strong>Author: </strong>{exercise.author.name} {exercise.author.lastName}</p>\n                        <p><strong>Duration:</strong>{exercise.duration}</p>\n                      </div>\n                    )\n                    : null\n                  }\n                </Link>\n                {\n                  (exercise.author._id !== this.props.userId && !this.props.inEditTraining) ?\n                    (\n                      <button className=\"btn-icon\" onClick={() => this.unsaveExercise(exercise._id)}>\n                        <img src={\"/bin.png\"} alt=\"unsave\" className=\"btn-icon__action\"/>\n                      </button>\n                    )\n                  : null\n                }     \n                {\n                  this.props.inEditTraining\n                    ? <button className=\"btn-icon\" onClick={()=>this.props.addExercise(exercise._id)}>\n                        <img src={\"/add.png\"} alt=\"\" className=\"btn-icon__action\"/>\n                      </button>\n                    : null\n                }\n              </div>\n              \n              </div>\n          )\n        })}\n        </div>\n    )\n\n  }\n}\n\nexport default ExerciseList;","import React, { Component } from 'react';\nimport shortid from 'shortid';\nimport { Link } from 'react-router-dom';\n\nimport profileService from './../services/profile-service';\n\n\nimport './../styles/navigation.scss';\nimport './../styles/dashboard.scss';\nimport './../styles/profile.scss';\n\nimport TrainingCard from './../components/TrainingCard';\nimport ExerciseList from './../components/ExerciseList';\n\nclass Dashboard extends Component {\n\n  state = {\n    user: {},\n    savedExercisesLength: 0\n  }\n\n  updateLength = () => {\n    let length = this.state.savedExercisesLength;\n    length -= 1;\n    this.setState({savedExercisesLength: length});\n  }\n\n  componentDidMount() {\n    window.scrollTo(0, 0)\n    profileService.getUser()\n      .then( (userInfo) => {\n        this.setState({user: userInfo});\n        this.setState({savedExercisesLength: userInfo.savedExercises.length})\n      })\n      .catch( (err) => console.log(err));    \n  };\n\n  render() {\n    const userExercises = this.state.user.exercises;\n    const savedExercises = this.state.user.savedExercises;\n    const userTrainings = this.state.user.trainings;\n\n    return (\n      <main className=\"content\">\n      \n        <div className=\"profile-header\">\n          <h1>Profile</h1>\n          <Link to={'/profile/edit'}>\n            <button className=\"btn btn-edit\">Edit profile</button>\n          </Link> \n        </div>              \n        <div className=\"profile-container\">\n          {/* List of user Trainings */}\n          <div className=\"profile-column\"> \n            <div className=\"header\">\n              {\n                userTrainings \n                  ? <h2>Your Trainings ({userTrainings.length})</h2>\n                  : <h2>Your Trainings (0)</h2>\n                  \n              }\n            </div>\n             \n            { userTrainings ?\n              (\n                <div className=\"list-container list-container--trainings\">\n                {userTrainings.map( training => {\n                  return (\n                    <TrainingCard training={training} key={shortid.generate()}/>\n                  )\n                })}\n                </div>\n              )\n              : null\n            }\n          </div>\n          {/* List of user Exercises */}\n          <div className=\"profile-column\"> \n            <div className=\"header\">\n              {\n                userExercises \n                  ? <h2>Your Exercises ({userExercises.length})</h2>\n                  : <h2>Your Exercises (0)</h2>\n              }   \n              <Link className=\"btn btn-create\" to={'/profile/new-exercise'}>New</Link>  \n            </div>\n                  \n            { userExercises ?\n              (\n                <ExerciseList exercises={userExercises} userId={this.state.user._id}/>\n              )\n              : null\n            }\n          </div>\n          {/* List of user saved exercises */}\n          <div className=\"profile-column\">\n            <div className=\"header\">\n              {\n                savedExercises \n                  ? <h2>Saved Exercises ({this.state.savedExercisesLength})</h2>\n                  : <h2>Saved Exercises (0)</h2>\n              } \n            </div>\n             \n            { \n              savedExercises ?\n                (\n                  <ExerciseList exercises={savedExercises} userId={this.state.user._id} updateLength={this.updateLength}/>\n                )\n              : null\n            }\n          </div>\n        </div> \n      </main>\n    );\n  }\n}\n\nexport default Dashboard;","import axios from 'axios';\n\nclass Training {\n  constructor() {\n    this.training = axios.create({\n      baseURL: process.env.REACT_APP_API_URL + '/my-trainings',\n      withCredentials: true,\n    });\n  }\n\n  getAll() {\n    return this.training\n          .get('/')\n          .then(({ data }) => data);\n  }\n\n  create(newTraining) {\n    const { title, description, duration, sport, type, exercises } = newTraining; \n    return this.training\n          .post('/new', { title, description, duration, sport, type, exercises })\n          .then(({ data }) => data);\n  }\n\n  getOne(id) {\n    return this.training\n          .get(`/${id}`)\n          .then(({ data }) => data);\n  }\n\n  deleteOne(id) {\n    return this.training\n      .delete(`/${id}`)\n      .then(({ data }) => data)\n  }\n\n  deleteExercise(trainingId, exerciseId) {\n    return this.training\n      .put(`/${trainingId}/${exerciseId}/delete`)\n      .then(({ data }) => data)\n  }\n\n  modifyOne(modifiedTraining, id) {\n    const { title, description, duration, sport } = modifiedTraining;\n    return this.training    \n          .put(`/${id}`, { title, description, duration, sport })\n          .then(({ data }) => data);\n  }\n\n  addExercise(trainingId, exerciseId) {\n    return this.training\n          .post(`/${trainingId}/${exerciseId}`)\n          .then((data) => data);\n  }\n  \n}\n\nconst TrainingService = new Training();\n\nexport default TrainingService;","import React, {Component} from 'react';\nimport { Link } from 'react-router-dom';\nimport trainingService from './../services/trainings-service';\n\nimport TrainingCard from './../components/TrainingCard';\nimport './../styles/training.scss';\n\nclass MyTrainings extends Component {\n\n  state = {\n    trainings: []\n  }\n \n  componentDidMount() {\n    window.scrollTo(0, 0)\n    trainingService.getAll()\n      .then( (trainings) => {\n        this.setState({trainings: trainings});\n      })\n      .catch( (err) => console.log(err));\n  };\n\n  render() {\n    const userTrainings = this.state.trainings;\n    return(\n      <div className=\"content\">\n        <div className=\"training-header\">\n          <h1>My Trainings</h1>\n          <Link to={'/my-trainings/new-training'}><button className=\"btn btn-create\">New</button></Link>\n        </div>\n        \n        <div className=\"trainings-list \">\n          {\n            userTrainings ?\n              (\n                userTrainings.map( (training, index) => {\n                  return <TrainingCard training={training} key={index}/>\n                }) \n              )\n            : <h2>No trainings</h2>\n          }         \n        </div>\n          \n      </div>\n    )\n  }\n}\n\nexport default MyTrainings;","import axios from 'axios';\n\nclass Search {\n  constructor() {\n    this.search = axios.create({\n      baseURL: process.env.REACT_APP_API_URL + '/search',\n      withCredentials: true,\n    });\n  }\n\n  getResults(searchStr) {\n    return this.search\n          .get(`?search=${searchStr}`)\n          .then(({data}) => data);\n  }\n}\n\nconst SearchService = new Search();\n\nexport default SearchService;\n","import axios from 'axios';\n\nclass Discover {\n  constructor() {\n    this.discover = axios.create({\n      baseURL: process.env.REACT_APP_API_URL + '/discover',\n      withCredentials: true,\n    });\n  }\n\n  getAll() {\n    return this.discover\n          .get('/')\n          .then(({ data }) => data);\n  }\n\n  save(id) {\n    return this.discover\n          .put(`${id}`)\n          .then(({ data }) => data);\n  }\n\n}\n\nconst DiscoverService = new Discover();\n\nexport default DiscoverService;","import React, { Component } from 'react';\nimport shortid from 'shortid';\nimport { Link } from 'react-router-dom';\n\nclass DiscoverCard extends Component {\n\n  constructor(props) {\n    super(props);\n\n    this.state = {\n      exercise: this.props.exercise\n    }\n  }\n\n  render() {\n    const exercise = this.state.exercise;\n    return(\n      <div className=\"discover-card\" key={shortid.generate()}>\n        <Link to={`/discover/${exercise._id}`}>\n          <div className=\"discover-card__header\">\n            <h4>{exercise.title}</h4>\n            <p>{exercise.duration} min | {exercise.sport}</p>\n            <p>{exercise.type}</p>\n            <p>by {exercise.author.name} {exercise.author.lastName}</p>\n          </div>\n        </Link>\n      </div>\n    )\n\n  }\n}\n\nexport default DiscoverCard;","import React, { Component } from 'react';\nimport shortid from 'shortid';\nimport { Link } from 'react-router-dom';\n\n\nimport DiscoverCard from './../components/DiscoverCard';\n\nclass DiscoverList extends Component {\n\n  render() {\n    const exercisesList = this.props.exercises;\n    return(\n      <div className=\"discover-list\">\n        {\n          exercisesList.length!==0 ?\n          (\n            exercisesList.map( exercise => {\n              return <DiscoverCard exercise={exercise} key={shortid.generate()}/>\n            })\n            \n          )\n          : <h2>No results :(</h2>\n        }  \n\n        {/* this is to make the flexbox items to be one after the other when the row has less than 4 elements */}\n        <i aria-hidden=\"true\"></i>\n        <i aria-hidden=\"true\"></i>\n\n      </div>\n    )\n\n  }\n}\n\nexport default DiscoverList;","import React, {Component} from 'react';\nimport shortid from 'shortid';\nimport queryString from 'query-string';\n\nimport searchService from './../services/search-service';\nimport discoverService from './../services/discover-service';\n\nimport DiscoverList from './../components/DiscoverList';\n\nimport './../styles/discover.scss';\n\nclass Discover extends Component {\n\n  state = {\n    allExercises: null,\n    exercisesCopy: null,\n    sport: 'all',\n    type: 'all'\n  }\n\n  componentDidMount() {\n    window.scrollTo(0,0);\n    this.handleSearch();  \n  }\n  \n  componentDidUpdate(prevProps) {\n    if (prevProps.location.search !== this.props.location.search) {\n      console.log('updated')\n      this.handleSearch();\n    }  \n  }\n\n  handleSearch = () => {\n    const values = queryString.parse(this.props.location.search)\n    if(values.search) {\n      searchService.getResults(values.search)\n        .then( (data) =>{\n          //console.log('search result', data);\n          this.setState({allExercises: data, exercisesCopy: data})\n        })\n        .catch( (err) => console.log(err));\n    }\n    else {\n      discoverService.getAll()\n        .then( (data) => {\n          this.setState({allExercises: data, exercisesCopy: data})\n        })\n        .catch( (err) => console.log(err));\n    }\n  }\n\n  filter = (e) => {\n    e.preventDefault();\n    console.log(this.state.sport, this.state.type);\n    const currentExs = this.state.allExercises;\n    let filteredExs = [];\n\n    // filter by sport --> IMPROVEBABLE\n    if (this.state.sport === 'all') {\n      filteredExs = currentExs;\n    } else {\n      filteredExs = currentExs.filter( ex => {\n        return ex.sport === this.state.sport;\n      })\n    }\n\n    // filter by type\n    if (this.state.type !== 'all') {\n      filteredExs = filteredExs.filter( ex => {\n        return ex.type === this.state.type;\n      })\n    }\n\n    this.setState({exercisesCopy: filteredExs});\n  }\n\n  render() {\n    return(\n      <div className=\"content\">\n        <h1>Discover page</h1>\n        <form onSubmit={this.filter}>\n          <select name=\"\" id=\"\" ref=\"sport\" onChange={(e) => this.setState({ sport: e.target.value })}>\n            <option value=\"all\" default>All</option>\n            <option value=\"basketball\">Basketball</option>\n            <option value=\"rugby\">Rugby</option>\n            <option value=\"football\">Football</option>\n          </select>\n          <select name=\"\" id=\"\" ref=\"type\" onChange={(e) => this.setState({ type: e.target.value })}>\n            <option value=\"all\" default>All</option>\n            <option value=\"skills\">Skills</option>\n            <option value=\"attack\">Attack</option>\n            <option value=\"defense\">Defense</option>\n            <option value=\"sc\">Strength $ Conditioning</option>\n            <option value=\"stretch\">Stretch</option>\n            <option value=\"recovery\">Recovery</option>\n          </select>\n\n          <button className=\"btn btn-filter\">Filter</button>\n        </form>\n        \n        {\n          this.state.exercisesCopy\n           ? <DiscoverList exercises={this.state.exercisesCopy}/>\n           : <h2>No results :(</h2>\n        }\n        \n             \n      </div>\n    )\n  }\n}\n\nexport default Discover;\n","import React, { Component } from 'react';\nimport { Redirect } from 'react-router-dom';\n\nimport { Link } from 'react-router-dom';\nimport { withAuth } from '../services/AuthProvider';\n\nimport Dashboard from './Dashboard';\n\nclass Home extends Component {\n  render() {\n    const { user, logout, isLoggedin } = this.props;\n    return (\n      <div>\n        {isLoggedin ? (\n          <Redirect to=\"/profile\" />\n        ) : (\n          <div>\n            <Link to=\"/login\">\n              {' '}\n              <button className=\"btn\">Login</button>{' '}\n            </Link>\n            <br />\n            <Link to=\"/signup\">\n              {' '}\n              <button className=\"btn\">Signup</button>{' '}\n            </Link>\n          </div>\n        )}\n      </div>\n    );\n  }\n}\n\nexport default withAuth(Home);\n","import React, { Component } from 'react';\nimport { Switch, Route } from 'react-router-dom';\n\nimport SearchBar from './../components/SearchBar';\nimport SideMenu from './../components/SideMenu';\nimport PrivateRoute from './../components/PrivateRoute';\n\nimport Profile from './Profile';\nimport MyTrainings from './MyTrainings';\nimport Discover from './Discover';\n\nimport './../styles/navigation.scss';\nimport './../styles/dashboard.scss';\n\nclass Dashboard extends Component {\n\n  render() {\n    return (\n      <div>\n        {/* SearchBar component --> name and image here\n        <SearchBar userName={this.props.user.name}/>\n         SideMenu component --> logout here*\n        <SideMenu logout={this.props.logout}/>  */}\n\n        \n          \n      </div>\n    );\n  }\n}\n\nexport default Dashboard;\n","import React from 'react';\nimport { Route, Redirect } from 'react-router-dom';\nimport { withAuth } from '../services/AuthProvider';\n\nfunction AnonRoute({ component: Component, isLoggedin, isLoading, ...rest }) {\n\n  if (isLoading) {\n    return <h1>Loading</h1>\n  }\n  else {\n    return (\n      <Route\n        {...rest}\n        render={props =>\n          !isLoggedin ? <Component {...props} /> : <Redirect to=\"/profile\" />\n        }\n      />\n    );\n  }\n}\n\nexport default withAuth(AnonRoute);","import React, { Component } from 'react';\n\nimport authService from './../services/auth-service';\n\nclass ProfileEdit extends Component {\n\n  state = { \n    email: '', \n    name: '',\n    lastName: '',\n    password: '' \n  };\n\n  handleFormSubmit = () => {\n    const { email, name, lastName, password } = this.state;\n    authService.edit({ email, name, lastName, password })\n      .then( (user) => {\n        this.props.history.push('/profile')\n      })\n      .catch( (err) => console.log(err));\n  };\n\n  handleChange = event => {\n    const { name, value } = event.target;\n    this.setState({ [name]: value });\n  };\n\n  componentDidMount() {\n    authService.me()\n      .then( (user) => {\n        const { email, name, lastName, password } = user;\n        this.setState({ email, name, lastName, password });\n      })\n      .catch( (err) => console.log(err));\n  }\n\n  render() {\n    const { email, name, lastName, password } = this.state;\n    return(\n      <div className=\"content\">\n        <button className=\"btn-icon\" onClick={() => this.props.history.push('/profile')}>\n          <img src={'/arrow.svg'} className=\"back-icon\" alt=\"\"/>\n        </button>\n        <h1>Edit profile</h1>\n        <form onSubmit={this.handleFormSubmit}>\n          <label>Email:</label>\n          <input\n            type=\"email\"\n            name=\"email\"\n            value={email}\n            onChange={this.handleChange}\n          />\n          <label>Name:</label>\n          <input\n            type=\"text\"\n            name=\"name\"\n            value={name}\n            onChange={this.handleChange}\n          />\n\n          <label>Last name:</label>\n          <input\n            type=\"text\"\n            name=\"lastName\"\n            value={lastName}\n            onChange={this.handleChange}\n          />\n\n          <label>Password:</label>\n          <input\n            type=\"password\"\n            name=\"password\"\n            value={password}\n            onChange={this.handleChange}\n          />\n\n          <input className=\"submit-btn\" type=\"submit\" value=\"Edit\" />\n        </form>\n      </div>\n    )\n  }\n}\n\nexport default ProfileEdit;\n\n\n\n\n\n","import axios from 'axios';\n\nclass Exercises {\n  constructor() {\n    this.exercises = axios.create({\n      baseURL: process.env.REACT_APP_API_URL + '/exercises',\n      withCredentials: true,\n    });\n  }\n\n  getOne(id) {\n    return this.exercises\n              .get(`/${id}`)\n              .then(({ data }) => data);\n  }\n\n  create(exercise) {\n    const {title, description, duration, sport, type, video_url, img_url, share} = exercise;\n    return this.exercises\n              .post('/new', {title, description, duration, sport, type, video_url, img_url, share})\n              .then(({ data }) => data);\n  }\n\n  uploadImage(file) {\n    return this.exercises\n              .post('/new/image', file)\n              .then(({data}) => data);\n  }\n\n  modifyOne(modifiedExercise, id) {\n    const {title, description, duration, sport, type, video_url, img_url, share} = modifiedExercise;\n    return this.exercises\n              .put(`/${id}`, {title, description, duration, sport, type, video_url, img_url, share})\n              .then(({ data }) => data);\n  }\n\n  deleteOne(id) {\n    return this.exercises\n              .delete(`/${id}`)\n              .then(({ data }) => data);\n  }\n}\n\nconst exercisesService = new Exercises();\n\nexport default exercisesService;","import React, { Component } from 'react';\nimport { Link } from 'react-router-dom';\n\nimport exercisesService from './../services/exercises-service';\nimport profileService from './../services/profile-service';\nimport discoverService from './../services/discover-service';\n\nclass ExerciseDetails extends Component {\n\n  state = {\n    exercise: {},\n    userId: '',\n    isSaved: null\n  }\n\n  saveExercise = (e) => {\n    e.preventDefault();\n    console.log('in');\n    const id = this.state.exercise._id;\n    discoverService.save(id)\n      .then( () => {\n        this.setState({isSaved: true});\n        console.log('added to favourites');\n      })\n      .catch( (err) => console.log(err));\n  }\n\n  unsaveExercise = (e) => {\n    e.preventDefault();\n    const id = this.state.exercise._id;\n    profileService.unsaveExercise(id)\n      .then( () => {\n        this.setState({isSaved: false});\n      })\n      .catch( (err) => console.log(err));\n  }\n\n  componentDidMount() {\n    window.scrollTo(0, 0)\n    const {id} = this.props.match.params; // get exercise id from url\n    exercisesService.getOne(id)\n      .then( (exercise) => {\n        profileService.getUser()\n          .then( (user) => {\n            const isSaved = user.savedExercises.some( savedEx => {\n              return savedEx._id === exercise._id;\n            });\n            this.setState({exercise, userId: user._id, isSaved});\n          })\n          .catch( (err) => console.log(err));\n      })\n  }\n\n  render() {\n    const exercise = this.state.exercise;\n    const userId = this.state.userId;\n    console.log('is saved?', this.state.isSaved);\n    return(\n      <main className=\"content\">\n        <button className=\"btn-icon\" onClick={() => this.props.history.goBack()}>\n          <img src={'/arrow.svg'} className=\"back-icon\" alt=\"\"/>\n        </button>\n        {/* <h1>Exercise details</h1> */}\n          <div>\n              <div className=\"profile-header profile-header--details\">\n                <div className=\"profile-header--details__info\">\n                  <h1>{exercise.title}</h1>\n                  {\n                    (!exercise.share) \n                    ? <Link to={`/profile/${exercise._id}/edit`}><button className=\"btn btn-edit\">Edit</button></Link>\n                    : null\n                  }\n                </div>\n                <span>{exercise.duration} | {exercise.sport}</span>\n              </div>\n              \n              <p>{exercise.description}</p>\n              \n              {\n                exercise.img_url\n                 ? <img className=\"edit-exercise__img\" src={exercise.img_url} alt='exercise'/>\n                 : <h4>No image provided</h4>\n              }\n              {\n                exercise.video_url\n                 ? <iframe width=\"400\" height=\"250\" src={exercise.video_url} frameborder=\"0\" allow=\"accelerometer; autoplay; encrypted-media; gyroscope; picture-in-picture\" allow=\"fullscreen\"></iframe>\n\n                 : <h4>No video provided</h4>\n              }\n              \n              {\n                (exercise.author !== userId) ?\n                  (\n                    <div>\n                    {\n                      !this.state.isSaved\n                        ? <button className=\"btn btn-success\" onClick={this.saveExercise}>Save</button>\n                        : <button className=\"btn btn-delete\" onClick={this.unsaveExercise}>Unsave</button>\n                    }\n                    <h4>Comments</h4>\n                    </div>\n                  )\n                  : null\n              }\n            </div>\n      </main>\n    )\n  }\n}\n\nexport default ExerciseDetails;","import React, {Component} from 'react';\nimport exercisesService from './../services/exercises-service';\n\nclass ExerciseNew extends Component {\n\n  state = {\n    exercise: []\n  }\n \n  handleInput = (e) => {\n    const target = e.target;\n    const value = target.type === 'checkbox' ? target.checked : target.value;\n    const name = target.name;\n\n    const exerciseCopy = this.state.exercise;\n    exerciseCopy[name] = value;\n    this.setState({ exercise: exerciseCopy });\n  };\n\n  fileOnchange = (event) => {    \n    const file = event.target.files[0];\n    const uploadData = new FormData()\n    uploadData.append('photo', file)\n\n    exercisesService.uploadImage(uploadData)\n      .then((img_url) => {\n        const exerciseCopy = this.state.exercise;\n        exerciseCopy.img_url = img_url;\n        this.setState({ exercise: exerciseCopy })\n        console.log(img_url)\n      })\n      .catch((error) => console.log(error))\n  }\n\n  saveExercise = (e) => {\n    e.preventDefault();\n    const {title, description, duration, sport, type, video_url, img_url, share} = this.state.exercise; \n    exercisesService.create({title, description, duration, sport, type, video_url, img_url, share})\n      .then( () => {\n        this.props.history.push('/profile');\n      })\n      .catch( (err) => console.log(err));\n      \n  }\n\n  componentDidMount() {\n    window.scrollTo(0,0);\n  }\n\n  render() {\n    return(\n      <div className=\"content\">\n        <h1>New exercise</h1>\n        <form onSubmit={this.saveExercise}>\n          <label htmlFor=\"\">Title</label>\n          <input type=\"text\" value={this.state.exercise.title} name=\"title\" onChange={this.handleInput} />\n          <label htmlFor=\"\">Description</label>\n          <textarea value={this.state.exercise.description} name=\"description\" onChange={this.handleInput}/>\n          <label htmlFor=\"\">Duration</label>\n          <input type=\"number\" value={this.state.exercise.duration} name=\"duration\" onChange={this.handleInput}/>\n          <label htmlFor=\"\">Sport</label>\n          <select name=\"sport\" id=\"\" ref=\"sport\" onChange={this.handleInput}>\n            <option value=\"\">-</option>\n            <option value=\"all\">All</option>\n            <option value=\"basketball\">Basketball</option>\n            <option value=\"rugby\">Rugby</option>\n            <option value=\"football\">Football</option>\n          </select>\n          <label htmlFor=\"\">Type</label>\n          <select name=\"type\" id=\"\" ref=\"type\" onChange={this.handleInput}>\n            <option value=\"\">-</option>\n            <option value=\"all\">All</option>\n            <option value=\"skills\">Skills</option>\n            <option value=\"attack\">Attack</option>\n            <option value=\"defense\">Defense</option>\n            <option value=\"sc\">Strength $ Conditioning</option>\n            <option value=\"stretch\">Stretch</option>\n            <option value=\"recovery\">Recovery</option>\n          </select>\n          <label htmlFor=\"\">Video</label>\n          <input type=\"text\" name=\"video_url\" value={this.state.exercise.video_url} onChange={this.handleInput}/>\n          <input type=\"file\" className=\"custom-file-input\" id=\"customFile\" name='img_url' onChange={(event)=>this.fileOnchange(event)} required />\n          {/* <label htmlFor=\"\">Image</label>\n          <input type=\"text\" name=\"img_url\" onChange={this.handleInput}/> */}\n          <label htmlFor=\"\">Share</label>\n           {/* Rounded switch  */}\n          <label class=\"switch\">\n            <input type=\"checkbox\" name=\"share\" checked={this.state.exercise.share} onChange={this.handleInput}/>\n            <span class=\"slider round\"></span>\n          </label>\n          <button className=\"btn btn-success\">Save</button>\n        </form>                  \n      </div>\n    )\n  }\n}\n\nexport default ExerciseNew;","import React, { Component } from 'react';\nimport exercisesService from './../services/exercises-service'\n\nclass ExerciseEdit extends Component {\n\n  state = {\n    exercise: {}\n  }\n\n  handleInput = e => {\n    const target = e.target;\n    const value = target.type === 'checkbox' ? target.checked : target.value;\n    const name = target.name;\n\n    const exerciseCopy = this.state.exercise;\n    exerciseCopy[name] = value;\n    this.setState({ exercise: exerciseCopy });\n  };\n\n  updateExercise = (e) => {\n    e.preventDefault();\n    const id = this.state.exercise._id;\n    const {title, description, duration, sport, type, video_url, img_url, share} = this.state.exercise;\n    \n    exercisesService.modifyOne({title, description, duration, sport, type, video_url, img_url, share}, id)\n      .then( (updatedExercise) => {\n        this.setState({ exercise: updatedExercise });\n        this.props.history.goBack();\n      })\n      .catch( (err) => console.log(err));\n  }\n\n  deleteExercise = () => {\n    exercisesService.deleteOne(this.state.exercise._id)\n      .then( () => {\n        this.props.history.push('/profile')\n      })\n      .catch( (err) => console.log(err));\n  } \n\n  componentDidMount() {\n    window.scrollTo(0, 0)\n    const {id} = this.props.match.params; // get id from url\n    exercisesService.getOne(id)\n      .then( (exercise) => {\n        this.setState({exercise: exercise});\n      })\n      .catch( (err) => console.log(err));\n  }\n\n  render() {\n    return(\n      <main className=\"content\">\n\n        <button className=\"btn-icon\" onClick={() => this.props.history.goBack()}>\n          <img src={'/arrow.svg'} className=\"back-icon\" alt=\"\"/>\n        </button>\n\n        <h1>Exercise details</h1>\n\n        <form onSubmit={this.updateExercise}>\n          <label htmlFor=\"\">Title</label>\n          <input type=\"text\" value={this.state.exercise.title} name=\"title\" onChange={this.handleInput} />\n          <label htmlFor=\"\">Description</label>\n          <textarea value={this.state.exercise.description} name=\"description\" onChange={this.handleInput}/>\n          <label htmlFor=\"\">Duration</label>\n          <input type=\"number\" value={this.state.exercise.duration} name=\"duration\" onChange={this.handleInput}/>\n          <label htmlFor=\"\">Sport</label>\n          <select name=\"sport\" id=\"\" ref=\"sport\" value={this.state.exercise.sport} onChange={this.handleInput}>\n            <option value=\"all\">All</option>\n            <option value=\"basketball\">Basketball</option>\n            <option value=\"rugby\">Rugby</option>\n            <option value=\"football\">Football</option>\n          </select>\n          <label htmlFor=\"\">Type</label>\n          <select name=\"type\" id=\"\" ref=\"type\" value={this.state.exercise.type} onChange={this.handleInput}>\n            <option value=\"all\">All</option>\n            <option value=\"skills\">Skills</option>\n            <option value=\"attack\">Attack</option>\n            <option value=\"defense\">Defense</option>\n            <option value=\"sc\">Strength $ Conditioning</option>\n            <option value=\"stretch\">Stretch</option>\n            <option value=\"recovery\">Recovery</option>\n          </select>\n          <label htmlFor=\"\">Video</label>\n          <input type=\"text\" name=\"video_url\" value={this.state.exercise.video_url} onChange={this.handleInput}/>\n          <label htmlFor=\"\">Image</label>\n          <input type=\"text\" name=\"img_url\" value={this.state.exercise.img_url} onChange={this.handleInput}/>\n          <label htmlFor=\"\">Share</label>\n          <label class=\"switch\">\n          <input type=\"checkbox\" name=\"share\" checked={this.state.exercise.share} onChange={this.handleInput}/>\n          <span class=\"slider round\"></span>\n          </label>\n          <button className=\"btn btn-success\">Save</button>\n        </form>\n\n        <button className=\"btn btn-delete\" onClick={this.deleteExercise}>Delete</button>\n\n      </main>\n    )\n  }\n}\n\nexport default ExerciseEdit;","import React, { Component } from 'react';\nimport shortid from 'shortid';\nimport { Link } from 'react-router-dom';\n\nimport trainingService from './../services/trainings-service';\n\nimport './../styles/navigation.scss';\nimport './../styles/dashboard.scss';\nimport './../styles/profile.scss';\nimport './../styles/training.scss';\n\nclass TrainingDetails extends Component {\n\n  constructor(props) {\n    super(props);\n\n    this.state = {\n      training: this.props.training\n    }\n  }\n  \n  componentDidMount() {\n    window.scrollTo(0, 0)\n    const {id} = this.props.match.params; // get id from url\n    trainingService.getOne(id)\n      .then( (training) => {\n        this.setState({training})      \n      })\n      .catch( (err) => console.log(err));\n  }\n\n  render() {\n    const training = this.state.training;\n\n    return(\n      <div className=\"content\">\n        <button className=\"btn-icon\" onClick={() => this.props.history.push('/my-trainings')}>\n          <img src={'/arrow.svg'} className=\"back-icon\" alt=\"\"/>\n        </button>\n        {\n          training ?\n          (\n            <div className=\"training-info\">\n              <div className=\"training-info__header\">   \n                <div className=\"training-header\">\n                  <h1>{training.title}</h1>\n                  <Link to={`/my-trainings/${training._id}/edit`}><button className=\"btn btn-edit\">Edit</button></Link>\n                </div>\n              <span>{training.duration} min | {training.sport}</span>\n              </div>\n              <p className=\"training-info__description\">{training.description}</p>\n              {training.exercises.map( exercise => {\n                return (\n                  <div className=\"training-info__exercises\" key={shortid.generate()}>\n                    <h4>{exercise.title}</h4>\n                    <span className={`item-type ${exercise.type}`}>{exercise.type}</span>\n                    <p>{exercise.description}</p>\n                    <p><strong>Sport: </strong>{exercise.sport}</p>\n                  </div>\n                )\n              })}\n            </div>          \n          )\n          : null\n        }\n        \n      </div>\n    )\n    \n  }\n}\n\nexport default TrainingDetails;","import React, {Component} from 'react';\n\nimport trainingsService from './../services/trainings-service';\nimport profileService from './../services/profile-service';\n\nimport ExerciseList from './../components/ExerciseList';\n\nclass TrainingNew extends Component {\n\n  state = {\n    training: {},\n    trainingId: '',\n    trainingExercises: [],\n    user: {}\n  }\n \n  handleInput = e => {\n    const { name, value } = e.target;\n    const trainingCopy = this.state.training;\n    trainingCopy[name] = value;\n    this.setState({ training: trainingCopy });\n  };\n\n  saveTraining = (e) => {\n    e.preventDefault();\n    const id = this.state.training._id;\n    const { title, description, duration, sport } = this.state.training;\n\n    trainingsService.modifyOne({ title, description, duration, sport }, id)\n      .then( (modifiedTraining) => {\n        this.setState({ training: modifiedTraining });\n        this.props.history.push(`/my-trainings/${id}`);\n      })\n      .catch( (err) => console.log(err));  \n  }\n\n  cancelNewTraining = (e) => {\n    e.preventDefault();\n    const trainingId = this.state.training._id;\n    trainingsService.deleteOne(trainingId)\n      .then( () => this.props.history.push('/my-trainings'))\n      .catch( (err) => console.log(err));\n  }\n\n  addExercise = (exerciseId) => {\n    const trainingId = this.state.training._id;\n    trainingsService.addExercise(trainingId, exerciseId)\n      .then( (result) => {\n        const trainingExercises = result.data.exercises;\n        this.setState({trainingExercises});\n      })\n      .catch( (err) => console.log(err));\n  }\n\n  removeExerciseFromTraining = (exerciseId) => {\n    trainingsService.deleteExercise(this.state.training._id, exerciseId)\n      .then( (data) => {\n        const trainingExercises = data.exercises;\n        this.setState({trainingExercises});\n      })\n      .catch( (err) => console.log(err));\n  }\n\n  componentDidMount() {\n    window.scrollTo(0,0);\n    // *LOGIC* --> with the current model, to be able to add exercises in the new training, we need to \n    // create the training when the page is loaded, so when the user saves the info, it is actually\n    // updating the training that has just been created\n    const title = ' ';\n    const description = ' ';\n    const duration = '0';\n    const sport = ' ';\n\n    trainingsService.create({title, description, duration, sport})\n      .then( (newTraining) => {\n        profileService.getUser()\n          .then( (userInfo) => {\n            this.setState({training: newTraining, \n                          trainingId: newTraining._id, \n                          trainingExercises: newTraining.exercises, \n                          user: userInfo\n            });\n          })\n          .catch( (err) => console.log(err));\n      })\n  }\n\n  render() {\n    const training = this.state.training;\n    const trainingExercises = this.state.trainingExercises;\n    const userExercises = this.state.user.exercises;\n    const savedExercises = this.state.user.savedExercises;\n\n    \n    return(\n      <main className=\"content\">\n        <button className=\"btn-icon\" onClick={() => this.props.history.goBack()}>\n          <img src={'/arrow.svg'} className=\"back-icon\" alt=\"\"/>\n        </button>\n        <div className=\"edit-training\">\n          <section className=\"edit-training__info\">\n            <form onSubmit={this.saveTraining}>\n              <label htmlFor=\"\">Title</label>\n              <input type=\"text\" value={training.title} name=\"title\" onChange={this.handleInput} />\n              <label htmlFor=\"\">Description</label>\n              <textarea value={training.description} name=\"description\" onChange={this.handleInput}/>\n              <label htmlFor=\"\">Duration</label>\n              <input type=\"number\" value={training.duration} name=\"duration\" onChange={this.handleInput}/>\n              <label htmlFor=\"\">Sport</label>\n              <select name=\"sport\" ref=\"sport\" value={this.state.training.sport} onChange={this.handleInput}>\n                <option value=\"\">-</option>\n                <option value=\"all\">All</option>\n                <option value=\"basketball\">Basketball</option>\n                <option value=\"rugby\">Rugby</option>\n                <option value=\"football\">Football</option>\n              </select>\n              <button className=\"btn btn-success\">Save</button>\n              <button className=\"btn\" onClick={() => this.props.history.goBack()}>Back</button>\n              <button className=\"btn\" onClick={this.cancelNewTraining}>Cancel</button>\n            </form>\n            <div className=\"exercises-edit\">\n              {\n                trainingExercises ?\n                  (\n                    trainingExercises.map( (exercise, i) => {\n                      return (\n                        <div className=\"training-info__exercises\" key={i}>\n                          <div className=\"training-info__exercises__details\">\n                            <h4>{exercise.title}</h4>\n                            <span className={`item-type ${exercise.type}`}>{exercise.type}</span>\n                            <p>{exercise.description}</p>\n                            <p><strong>Sport: </strong>{exercise.sport}</p>\n                          </div>\n                          <div className=\"training-info__exercises__buttons\">\n                            <button className=\"btn-icon\" onClick={() => this.removeExerciseFromTraining(exercise._id)}>\n                              <img src={\"/bin.png\"} alt=\"remove-exercise\" className=\"btn-icon__action\"/>\n                            </button>\n                          </div>\n                        </div>\n                      )\n                    })\n                  \n                  )\n                    \n                : null\n              }\n            </div>\n          </section>\n          <section className=\"edit-training__user-exercises\">\n            {\n              userExercises \n                ? <h2>Your Exercises ({userExercises.length})</h2>\n                : <h2>Your Exercises (0)</h2>  \n            }  \n            { userExercises ?\n                  (\n                    <ExerciseList\n                      exercises={userExercises}\n                      userId={this.state.user._id} \n                      inEditTraining={true}\n                      addExercise={this.addExercise}\n                    />\n                  )\n                  : null\n                }\n          </section>\n          <section className=\"edit-training__saved-exercises\">\n            {\n              savedExercises\n                ? <h2>Saved Exercises ({savedExercises.length})</h2>\n                : <h2>Saved Exercises (0)</h2>\n            }\n            {\n              savedExercises ?\n                (\n                  <ExerciseList\n                    exercises={savedExercises}\n                    userId={this.state.user._id} \n                    inEditTraining={true}\n                    addExercise={this.addExercise}\n                  />\n                )\n              : null\n            }\n          </section>\n        </div>\n        \n      </main>\n    )\n  }\n}\n\nexport default TrainingNew;","import React, { Component } from 'react';\nimport shortid from 'shortid';\nimport { Link } from 'react-router-dom';\n\nimport exercisesService from './../services/exercises-service'\n\nclass TrainingExerciseEdit extends Component {\n\n  constructor(props) {\n    super(props);\n\n    this.state = {\n      exercise: null,\n      focusInput: undefined,\n    }\n\n    this.references = {\n      title: React.createRef(), \n      description: React.createRef(), \n      duration: React.createRef(), \n      sport: React.createRef(), \n      type: React.createRef(), \n      video_url: React.createRef(),\n      img_url: React.createRef(), \n      share: React.createRef(),\n    }\n    \n\n    this.focusTextInput = this.focusTextInput.bind(this);\n\n  }\n\n  focusTextInput () {\n    const { focusInput } = this.state;\n    if (focusInput) {\n\n      const currentInput = this.references[focusInput].current;\n\n      currentInput.focus();\n      currentInput.selectionStart = currentInput.value.length;\n    }\n    \n  }\n  \n  updateExercise = (e) => {\n    e.preventDefault();\n    const id = this.state.exercise._id;\n    const {title, description, duration, sport, type, video_url, img_url, share} = this.state.exercise;\n    exercisesService.modifyOne({title, description, duration, sport, type, video_url, img_url, share}, id)\n      .then( (updatedExercise) => { \n        this.props.editExercise(updatedExercise)\n        this.props.click();\n      })\n      .catch( (err) => console.log(err));\n  }\n\n  handleChange = e => {\n    e.preventDefault();\n    \n    const { name, value } = e.target;\n    console.log(name,value);\n\n    const exerciseCopy = this.state.exercise;\n    exerciseCopy[name] = value;\n    if (name !== 'duration') {\n      this.setState({ exercise: exerciseCopy, focusInput: name });\n    } else {\n      this.setState({ exercise: exerciseCopy});\n    }\n  };\n\n  componentDidUpdate() {\n    this.focusTextInput();\n  }\n\n  componentDidMount() {\n    const exercise = this.props.exercise;\n    this.setState({exercise});   \n  }\n\n\n  render() {\n    return(\n      <div className = { this.props.classToggle ? \"edit-exercise show\" : \"edit-exercise hidden\"} key={shortid.generate()}>\n        <div className=\"edit-exercise__backdrop\" onClick={this.props.click}></div>\n        \n        <div className=\"edit-exercise__form-container\">\n          <h2>Edit exercise</h2>\n          <button className=\"btn close-btn\" onClick={this.props.click}>X</button>\n\n          {(this.state.exercise === null) ?\n            <h1>loading</h1>\n            : (\n              <form onSubmit={this.updateExercise} key='form1'>\n                <label htmlFor=\"\">Title</label>\n                <input type=\"text\" value={this.state.exercise.title} name=\"title\" onChange={this.handleChange} ref={this.references['title']} />\n                <label htmlFor=\"\">Description</label>\n                <textarea value={this.state.exercise.description} name=\"description\" onChange={this.handleChange}  ref={this.references['description']}/>\n                <label htmlFor=\"\">Duration</label>\n                <input type=\"number\" value={this.state.exercise.duration} name=\"duration\" onChange={this.handleChange}/>\n                <label htmlFor=\"\">Sport</label>\n                <input type=\"text\"  value={this.state.exercise.sport} name=\"sport\" onChange={this.handleChange}  ref={this.references['sport']}/>\n                <label htmlFor=\"\">Type</label>\n                <input type=\"text\"  value={this.state.exercise.type} name=\"type\" onChange={this.handleChange}  ref={this.references['type']}/>\n                <label htmlFor=\"\">Video</label>\n                <input type=\"text\" name=\"video_url\" value={this.state.exercise.video_url} onChange={this.handleChange}  ref={this.references['video_url']}/>\n                <label htmlFor=\"\">Image</label>\n                <input type=\"text\" name=\"img_url\" value={this.state.exercise.img_url} onChange={this.handleChange}  ref={this.references['img_url']}/>          \n                <button className=\"btn btn-success\">Save</button>\n              </form>\n            )\n          }\n        </div>\n      </div>\n    )\n  }\n}\n\nexport default TrainingExerciseEdit;","import React, { Component } from 'react';\n\nimport trainingsService from './../services/trainings-service';\nimport profileService from './../services/profile-service';\n\nimport TrainingExerciseEdit from './../components/TrainingExerciseEdit';\nimport ExerciseList from './../components/ExerciseList';\n\nclass TrainingEdit extends Component {\n\n  state = {\n    training: {},\n    trainingExercises: [],\n    user: {},\n    showEdit: false,\n    exerciseToEdit: null,\n    title: '', \n    description: '', \n    duration: '', \n    sport: '', \n    type: '', \n    video_url: '',\n    img_url: '', \n    share: ''\n  }\n\n  handleInput = e => {\n    const { name, value } = e.target;\n    const trainingCopy = this.state.training;\n    trainingCopy[name] = value;\n    this.setState({ training: trainingCopy });\n  };\n\n  updateTraining = (e) => {\n    e.preventDefault();\n    const id = this.state.training._id;\n    const { title, description, duration, sport } = this.state.training;\n\n    trainingsService.modifyOne({ title, description, duration, sport }, id)\n      .then( (modifiedTraining) => {\n        this.setState({ training: modifiedTraining });\n        this.props.history.push(`/my-trainings/${id}`);\n      })\n      .catch( (err) => console.log(err));\n  }\n\n  editExercise = (updatedEx) => {\n    const copyTrEx = this.state.trainingExercises;\n\n    const indexOfModified = copyTrEx.filter( (exercise, i) => {\n      if (exercise._id === updatedEx._id) {\n        return i\n      }\n    });\n\n    copyTrEx[indexOfModified] = updatedEx;\n    this.setState({trainingExercises: copyTrEx});\n\n  }\n\n  addExercise = (exerciseId) => {\n    const trainingId = this.state.training._id;\n\n    trainingsService.addExercise(trainingId, exerciseId)\n      .then( (result) => {\n        const trainingExercises = result.data.exercises;\n        this.setState({trainingExercises});\n      })\n      .catch( (err) => console.log(err));\n  }\n\n  deleteTraining = (e) => {\n    e.preventDefault();\n    const trainingId = this.state.training._id;\n    trainingsService.deleteOne(trainingId)\n      .then( () => this.props.history.push('/my-trainings'))\n      .catch( (err) => console.log(err));\n  }\n\n  removeExerciseFromTraining = (exerciseId) => {\n    console.log('in')\n    trainingsService.deleteExercise(this.state.training._id, exerciseId)\n      .then( (data) => {\n        const trainingExercises = data.exercises;\n        this.setState({trainingExercises});\n      })\n      .catch( (err) => console.log(err));\n  }\n\n  editToggle = (exercise) => {\n    const show = !this.state.showEdit;\n    this.setState(\n      {showEdit: show, \n      exerciseToEdit: exercise}\n    );\n  }\n\n  componentDidMount() {\n    window.scrollTo(0, 0)\n    const {id} = this.props.match.params;\n\n    trainingsService.getOne(id)\n      .then( (training) => {\n        profileService.getUser()\n          .then( (userInfo) => {\n            this.setState({training, trainingExercises: training.exercises, user: userInfo});\n          })\n          .catch( (err) => console.log(err));\n      })\n    \n  }\n\n  render() { \n    const training = this.state.training;\n    const trainingExercises = this.state.trainingExercises;\n    const userExercises = this.state.user.exercises;\n    const savedExercises = this.state.user.savedExercises;\n\n    return(\n      <main className=\"content\">\n        <button className=\"btn-icon\" onClick={() => this.props.history.goBack()}>\n          <img src={'/arrow.svg'} className=\"back-icon\" alt=\"\"/>\n        </button>\n        <div className=\"edit-training\">\n          {this.state.showEdit ?\n            (\n              <TrainingExerciseEdit \n                classToggle={this.state.showEdit} \n                click={this.editToggle}\n                editExercise={this.editExercise}\n                exercise={this.state.exerciseToEdit}\n              />\n            )\n            :null\n          }\n        \n          <section className=\"edit-training__info\">\n            <form onSubmit={this.updateTraining}>\n              <label htmlFor=\"\">Title</label>\n              <input type=\"text\" value={training.title} name=\"title\" onChange={this.handleInput} />\n              <label htmlFor=\"\">Description</label>\n              <textarea value={training.description} name=\"description\" onChange={this.handleInput}/>\n              <label htmlFor=\"\">Duration</label>\n              <input type=\"number\" value={training.duration} name=\"duration\" onChange={this.handleInput}/>\n              <label htmlFor=\"\">Sport</label>\n              <select name=\"sport\" ref=\"sport\" value={this.state.training.sport} onChange={this.handleInput}>\n                <option value=\"all\">All</option>\n                <option value=\"basketball\">Basketball</option>\n                <option value=\"rugby\">Rugby</option>\n                <option value=\"football\">Football</option>\n              </select>\n              <button className=\"btn btn-success\">Save</button>\n              <button className=\"btn btn-delete\" onClick={this.deleteTraining}>Delete training</button>\n            </form>\n            <div className=\"exercises-edit\">\n              {\n                trainingExercises ?\n                  (\n                    trainingExercises.map( (exercise, i) => {\n                      return (\n                        <div className=\"training-info__exercises\" key={i}>\n                          <div className=\"training-info__exercises__details\">\n                            <h4>{exercise.title}</h4>\n                            <span>{exercise.duration} | <span className={`item-type ${exercise.type}`}>{exercise.type}</span></span>\n                            <p><strong>Sport: </strong>{exercise.sport}</p>\n                            <p>{exercise.description}</p>    \n                          </div>\n                          <div className=\"training-info__exercises__buttons\">\n                            <button className=\"btn btn-edit\" onClick={() => this.editToggle(exercise)}>Edit</button>\n                            <button className=\"btn-icon\" onClick={() => this.removeExerciseFromTraining(exercise._id)}>\n                              <img src={\"/bin.png\"} alt=\"remove-exercise\" className=\"btn-icon__action\"/>\n                            </button>\n                          </div>      \n                        </div>\n                      )\n                    })\n                  \n                  )\n                    \n                : null\n              }\n            </div>\n          </section>\n          <section className=\"edit-training__user-exercises\">\n            {\n              userExercises \n                ? <h2>Your Exercises ({userExercises.length})</h2>\n                : <h2>Your Exercises (0)</h2>  \n            }  \n            { userExercises ?\n                  (\n                    <ExerciseList\n                      exercises={userExercises}\n                      userId={this.state.user._id} \n                      inEditTraining={true}\n                      addExercise={this.addExercise}\n                    />\n                  )\n                  : null\n                }\n          </section>\n          <section className=\"edit-training__saved-exercises\">\n            {\n              savedExercises\n                ? <h2>Saved Exercises ({savedExercises.length})</h2>\n                : <h2>Saved Exercises (0)</h2>\n            }\n            {\n              savedExercises ?\n                (\n                  <ExerciseList\n                    exercises={savedExercises}\n                    userId={this.state.user._id} \n                    inEditTraining={true}\n                    addExercise={this.addExercise}\n                  />\n                )\n              : null\n            }\n          </section>\n        </div>\n      </main>\n    )\n  }\n}\n\nexport default TrainingEdit;","import React, { Component } from 'react';\nimport { Switch, Route, withRouter } from 'react-router-dom';\nimport \"./App.scss\";\nimport \"./styles/auth.scss\";\n\nimport Signup from './pages/Signup';\nimport Login from './pages/Login';\nimport Home from './pages/Home';\n\n// Routes\nimport AnonRoute from './components/AnonRoute';\nimport PrivateRoute from './components/PrivateRoute';\n\nimport SearchBar from './components/SearchBar';\nimport SideMenu from './components/SideMenu';\n\nimport Profile from './pages/Profile';\nimport ProfileEdit from './pages/ProfileEdit';\nimport MyTrainings from './pages/MyTrainings';\nimport Discover from './pages/Discover';\nimport ExerciseDetails from './pages/ExerciseDetails';\nimport ExerciseNew from './pages/ExerciseNew';\nimport ExerciseEdit from './pages/ExerciseEdit';\nimport TrainingDetails from './pages/TrainingDetails';\nimport TrainingNew from './pages/TrainingNew';\nimport TrainingEdit from './pages/TrainingEdit';\n\n\nimport './styles/buttons.scss';\n\nclass App extends Component {\n\n  state = {\n    searchResult: []\n  }\n\n  submitSearch = (e, searchStr) => {\n    e.preventDefault();\n    this.props.history.push(`/discover?search=${searchStr}`);\n  }\n\n  render() {\n    return (\n      <div className=\"App\">\n        {/* SearchBar component --> search, name and image here*/}\n        <SearchBar submit={this.submitSearch}/>\n        {/* SideMenu component --> logout here*/}\n        <SideMenu/>\n        <Switch>\n          <AnonRoute exact path=\"/signup\" component={Signup} />\n          <AnonRoute exact path=\"/login\" component={Login} />\n          \n          <PrivateRoute exact path=\"/\" component={Home} />\n          {/* Navigation routes */}\n          <PrivateRoute exact path=\"/profile\" component={Profile} />\n          <PrivateRoute exact path=\"/my-trainings\" component={MyTrainings} />\n          <PrivateRoute exact path=\"/discover\" component={Discover}/>\n\n          {/* INNER ROUTES */}\n          {/* -- Profile -- */}\n          <PrivateRoute exact path=\"/profile/new-exercise\" component={ExerciseNew} />\n          <PrivateRoute exact path=\"/profile/edit\" component={ProfileEdit} />\n          <PrivateRoute exact path=\"/profile/:id\" component={ExerciseDetails} />\n          <PrivateRoute exact path=\"/profile/:id/edit\" component={ExerciseEdit} />\n\n          {/* -- My trainings -- */}\n          <PrivateRoute exact path=\"/my-trainings/new-training\" component={TrainingNew} />\n          <PrivateRoute exact path=\"/my-trainings/:id\" component={TrainingDetails} />\n          <PrivateRoute exact path=\"/my-trainings/:id/edit\" component={TrainingEdit} />\n\n          {/* -- Discover -- */}\n          <PrivateRoute exact path=\"/discover/:id\" component={ExerciseDetails} />\n          {/* -- Forum -- */}\n        </Switch>\n      </div>\n    );\n  }\n}\n\nexport default withRouter(App);\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport App from './App';\nimport { BrowserRouter as Router } from 'react-router-dom';\nimport AuthProvider from './services/AuthProvider';\n\nReactDOM.render(\n  <Router>\n    <AuthProvider>\n      <App />\n    </AuthProvider>\n  </Router>,\n  document.getElementById('root'),\n);\n"],"sourceRoot":""}